# Docker Environment Configuration for Prismatic Collections

# ==========================================
# EDGEDB CONFIGURATION
# ==========================================
EDGEDB_HOST=edgedb
EDGEDB_PORT=5656
EDGEDB_DATABASE=edgedb
EDGEDB_INSTANCE=twitter_scraper

# ==========================================
# BACKEND API CONFIGURATION
# ==========================================
NODE_ENV=production
BACKEND_PORT=3001
API_BASE_URL=http://backend:3001
CORS_ORIGIN=http://localhost:80,http://localhost:8080

# ==========================================
# FRONTEND CONFIGURATION
# ==========================================
FRONTEND_PORT=80
FRONTEND_SSL_PORT=443
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# ==========================================
# TWITTER API CONFIGURATION
# ==========================================
TWITTER_USERNAME=prismcollect_
MAX_TWEETS=100
FETCH_SCHEDULE_INTERVAL=30
TWITTER_BEARER_TOKEN_FILE=/app/secrets/twitter-bearer-token

# ==========================================
# MONITORING & HEALTH CHECKS
# ==========================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
MONITORING_PORT=9090

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_RETENTION_DAYS=30

# ==========================================
# SECURITY CONFIGURATION
# ==========================================
EDGEDB_SECURITY=strict
EDGEDB_ADMIN_UI=disabled
NGINX_RATE_LIMIT=100r/m
API_RATE_LIMIT=1000
CORS_MAX_AGE=3600

# ==========================================
# PERFORMANCE TUNING
# ==========================================
NODE_OPTIONS=--max-old-space-size=512
PYTHON_BUFFERING=0
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
NGINX_GZIP=on
NGINX_CACHE_MAX_SIZE=1g

# ==========================================
# RESOURCE LIMITS
# ==========================================
EDGEDB_MEMORY_LIMIT=1G
BACKEND_MEMORY_LIMIT=768M
FRONTEND_MEMORY_LIMIT=256M
PYTHON_MEMORY_LIMIT=512M
PROMETHEUS_MEMORY_LIMIT=512M
GRAFANA_MEMORY_LIMIT=512M

# ==========================================
# PRODUCTION SETTINGS
# ==========================================
GRAFANA_PASSWORD=secure_admin_password_here
SCHEDULE_INTERVAL=30
MAX_TWEETS=100