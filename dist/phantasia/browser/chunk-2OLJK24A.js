import{a as T,c as xt}from"./chunk-QZHWA3KJ.js";import{$a as it,Ba as N,C as X,G as q,H as D,Ha as Z,I as bt,Ia as I,J as et,Ka as P,La as R,Ma as vt,Va as J,Ya as _t,Za as yt,_ as st,aa as y,d as Et,db as at,e as Dt,ea as U,f as ut,ha as j,i as H,ia as F,j as E,la as Q,n as Y,o as ht,pa as dt,sa as C,t as ft,ta as _,ua as x,v as gt,va as M,za as L}from"./chunk-3WPDHOAJ.js";var Pt=Et(ct=>{"use strict";(function(){"use strict";var h=function(){this.init()};h.prototype={init:function(){var t=this||e;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator=typeof window<"u"&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var i=this||e;if(t=parseFloat(t),i.ctx||w(),typeof t<"u"&&t>=0&&t<=1){if(i._volume=t,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(t,e.ctx.currentTime);for(var a=0;a<i._howls.length;a++)if(!i._howls[a]._webAudio)for(var r=i._howls[a]._getSoundIds(),s=0;s<r.length;s++){var d=i._howls[a]._soundById(r[s]);d&&d._node&&(d._node.volume=d._volume*t)}return i}return i._volume},mute:function(t){var i=this||e;i.ctx||w(),i._muted=t,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(t?0:i._volume,e.ctx.currentTime);for(var a=0;a<i._howls.length;a++)if(!i._howls[a]._webAudio)for(var r=i._howls[a]._getSoundIds(),s=0;s<r.length;s++){var d=i._howls[a]._soundById(r[s]);d&&d._node&&(d._node.muted=t?!0:d._muted)}return i},stop:function(){for(var t=this||e,i=0;i<t._howls.length;i++)t._howls[i].stop();return t},unload:function(){for(var t=this||e,i=t._howls.length-1;i>=0;i--)t._howls[i].unload();return t.usingWebAudio&&t.ctx&&typeof t.ctx.close<"u"&&(t.ctx.close(),t.ctx=null,w()),t},codecs:function(t){return(this||e)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||e;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(t._canPlayEvent="canplay")}catch{t.noAudio=!0}else t.noAudio=!0;try{var i=new Audio;i.muted&&(t.noAudio=!0)}catch{}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||e,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return t}if(!i||typeof i.canPlayType!="function")return t;var a=i.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator?t._navigator.userAgent:"",s=r.match(/OPR\/(\d+)/g),d=s&&parseInt(s[0].split("/")[1],10)<33,c=r.indexOf("Safari")!==-1&&r.indexOf("Chrome")===-1,u=r.match(/Version\/(.*?) /),b=c&&u&&parseInt(u[1],10)<15;return t._codecs={mp3:!!(!d&&(a||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!a,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||e;if(!(t._audioUnlocked||!t.ctx)){t._audioUnlocked=!1,t.autoUnlock=!1,!t._mobileUnloaded&&t.ctx.sampleRate!==44100&&(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var i=function(a){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch{t.noAudio=!0;break}for(var s=0;s<t._howls.length;s++)if(!t._howls[s]._webAudio)for(var d=t._howls[s]._getSoundIds(),c=0;c<d.length;c++){var u=t._howls[s]._soundById(d[c]);u&&u._node&&!u._node._unlocked&&(u._node._unlocked=!0,u._node.load())}t._autoResume();var b=t.ctx.createBufferSource();b.buffer=t._scratchBuffer,b.connect(t.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof t.ctx.resume=="function"&&t.ctx.resume(),b.onended=function(){b.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var k=0;k<t._howls.length;k++)t._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),t}},_obtainHtml5Audio:function(){var t=this||e;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var i=this||e;return t._unlocked&&i._html5AudioPool.push(t),i},_autoSuspend:function(){var t=this;if(!(!t.autoSuspend||!t.ctx||typeof t.ctx.suspend>"u"||!e.usingWebAudio)){for(var i=0;i<t._howls.length;i++)if(t._howls[i]._webAudio){for(var a=0;a<t._howls[i]._sounds.length;a++)if(!t._howls[i]._sounds[a]._paused)return t}return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var r=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(r,r)}},3e4),t}},_autoResume:function(){var t=this;if(!(!t.ctx||typeof t.ctx.resume>"u"||!e.usingWebAudio))return t.state==="running"&&t.ctx.state!=="interrupted"&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):t.state==="suspended"||t.state==="running"&&t.ctx.state==="interrupted"?(t.ctx.resume().then(function(){t.state="running";for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):t.state==="suspending"&&(t._resumeAfterSuspend=!0),t}};var e=new h,n=function(t){var i=this;if(!t.src||t.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(t)};n.prototype={init:function(t){var i=this;return e.ctx||w(),i._autoplay=t.autoplay||!1,i._format=typeof t.format!="string"?t.format:[t.format],i._html5=t.html5||!1,i._muted=t.mute||!1,i._loop=t.loop||!1,i._pool=t.pool||5,i._preload=typeof t.preload=="boolean"||t.preload==="metadata"?t.preload:!0,i._rate=t.rate||1,i._sprite=t.sprite||{},i._src=typeof t.src!="string"?t.src:[t.src],i._volume=t.volume!==void 0?t.volume:1,i._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:t.xhr&&t.xhr.withCredentials?t.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=t.onend?[{fn:t.onend}]:[],i._onfade=t.onfade?[{fn:t.onfade}]:[],i._onload=t.onload?[{fn:t.onload}]:[],i._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],i._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],i._onpause=t.onpause?[{fn:t.onpause}]:[],i._onplay=t.onplay?[{fn:t.onplay}]:[],i._onstop=t.onstop?[{fn:t.onstop}]:[],i._onmute=t.onmute?[{fn:t.onmute}]:[],i._onvolume=t.onvolume?[{fn:t.onvolume}]:[],i._onrate=t.onrate?[{fn:t.onrate}]:[],i._onseek=t.onseek?[{fn:t.onseek}]:[],i._onunlock=t.onunlock?[{fn:t.onunlock}]:[],i._onresume=[],i._webAudio=e.usingWebAudio&&!i._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var t=this,i=null;if(e.noAudio){t._emit("loaderror",null,"No audio support.");return}typeof t._src=="string"&&(t._src=[t._src]);for(var a=0;a<t._src.length;a++){var r,s;if(t._format&&t._format[a])r=t._format[a];else{if(s=t._src[a],typeof s!="string"){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(s),r||(r=/\.([^.]+)$/.exec(s.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&e.codecs(r)){i=t._src[a];break}}if(!i){t._emit("loaderror",null,"No codec support for selected audio sources.");return}return t._src=i,t._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(t._html5=!0,t._webAudio=!1),new o(t),t._webAudio&&l(t),t},play:function(t,i){var a=this,r=null;if(typeof t=="number")r=t,t=null;else{if(typeof t=="string"&&a._state==="loaded"&&!a._sprite[t])return null;if(typeof t>"u"&&(t="__default",!a._playLock)){for(var s=0,d=0;d<a._sounds.length;d++)a._sounds[d]._paused&&!a._sounds[d]._ended&&(s++,r=a._sounds[d]._id);s===1?t=null:r=null}}var c=r?a._soundById(r):a._inactiveSound();if(!c)return null;if(r&&!t&&(t=c._sprite||"__default"),a._state!=="loaded"){c._sprite=t,c._ended=!1;var u=c._id;return a._queue.push({event:"play",action:function(){a.play(u)}}),u}if(r&&!c._paused)return i||a._loadQueue("play"),c._id;a._webAudio&&e._autoResume();var b=Math.max(0,c._seek>0?c._seek:a._sprite[t][0]/1e3),k=Math.max(0,(a._sprite[t][0]+a._sprite[t][1])/1e3-b),O=k*1e3/Math.abs(c._rate),S=a._sprite[t][0]/1e3,z=(a._sprite[t][0]+a._sprite[t][1])/1e3;c._sprite=t,c._ended=!1;var A=function(){c._paused=!1,c._seek=b,c._start=S,c._stop=z,c._loop=!!(c._loop||a._sprite[t][2])};if(b>=z){a._ended(c);return}var v=c._node;if(a._webAudio){var lt=function(){a._playLock=!1,A(),a._refreshBuffer(c);var $=c._muted||a._muted?0:c._volume;v.gain.setValueAtTime($,e.ctx.currentTime),c._playStart=e.ctx.currentTime,typeof v.bufferSource.start>"u"?c._loop?v.bufferSource.noteGrainOn(0,b,86400):v.bufferSource.noteGrainOn(0,b,k):c._loop?v.bufferSource.start(0,b,86400):v.bufferSource.start(0,b,k),O!==1/0&&(a._endTimers[c._id]=setTimeout(a._ended.bind(a,c),O)),i||setTimeout(function(){a._emit("play",c._id),a._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?lt():(a._playLock=!0,a.once("resume",lt),a._clearTimer(c._id))}else{var mt=function(){v.currentTime=b,v.muted=c._muted||a._muted||e._muted||v.muted,v.volume=c._volume*e.volume(),v.playbackRate=c._rate;try{var $=v.play();if($&&typeof Promise<"u"&&($ instanceof Promise||typeof $.then=="function")?(a._playLock=!0,A(),$.then(function(){a._playLock=!1,v._unlocked=!0,i?a._loadQueue():a._emit("play",c._id)}).catch(function(){a._playLock=!1,a._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),c._ended=!0,c._paused=!0})):i||(a._playLock=!1,A(),a._emit("play",c._id)),v.playbackRate=c._rate,v.paused){a._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}t!=="__default"||c._loop?a._endTimers[c._id]=setTimeout(a._ended.bind(a,c),O):(a._endTimers[c._id]=function(){a._ended(c),v.removeEventListener("ended",a._endTimers[c._id],!1)},v.addEventListener("ended",a._endTimers[c._id],!1))}catch(St){a._emit("playerror",c._id,St)}};v.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(v.src=a._src,v.load());var It=window&&window.ejecta||!v.readyState&&e._navigator.isCocoonJS;if(v.readyState>=3||It)mt();else{a._playLock=!0,a._state="loading";var pt=function(){a._state="loaded",mt(),v.removeEventListener(e._canPlayEvent,pt,!1)};v.addEventListener(e._canPlayEvent,pt,!1),a._clearTimer(c._id)}}return c._id},pause:function(t){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(t)}}),i;for(var a=i._getSoundIds(t),r=0;r<a.length;r++){i._clearTimer(a[r]);var s=i._soundById(a[r]);if(s&&!s._paused&&(s._seek=i.seek(a[r]),s._rateSeek=0,s._paused=!0,i._stopFade(a[r]),s._node))if(i._webAudio){if(!s._node.bufferSource)continue;typeof s._node.bufferSource.stop>"u"?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),i._cleanBuffer(s._node)}else(!isNaN(s._node.duration)||s._node.duration===1/0)&&s._node.pause();arguments[1]||i._emit("pause",s?s._id:null)}return i},stop:function(t,i){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"stop",action:function(){a.stop(t)}}),a;for(var r=a._getSoundIds(t),s=0;s<r.length;s++){a._clearTimer(r[s]);var d=a._soundById(r[s]);d&&(d._seek=d._start||0,d._rateSeek=0,d._paused=!0,d._ended=!0,a._stopFade(r[s]),d._node&&(a._webAudio?d._node.bufferSource&&(typeof d._node.bufferSource.stop>"u"?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),a._cleanBuffer(d._node)):(!isNaN(d._node.duration)||d._node.duration===1/0)&&(d._node.currentTime=d._start||0,d._node.pause(),d._node.duration===1/0&&a._clearSound(d._node))),i||a._emit("stop",d._id))}return a},mute:function(t,i){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"mute",action:function(){a.mute(t,i)}}),a;if(typeof i>"u")if(typeof t=="boolean")a._muted=t;else return a._muted;for(var r=a._getSoundIds(i),s=0;s<r.length;s++){var d=a._soundById(r[s]);d&&(d._muted=t,d._interval&&a._stopFade(d._id),a._webAudio&&d._node?d._node.gain.setValueAtTime(t?0:d._volume,e.ctx.currentTime):d._node&&(d._node.muted=e._muted?!0:t),a._emit("mute",d._id))}return a},volume:function(){var t=this,i=arguments,a,r;if(i.length===0)return t._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var s=t._getSoundIds(),d=s.indexOf(i[0]);d>=0?r=parseInt(i[0],10):a=parseFloat(i[0])}else i.length>=2&&(a=parseFloat(i[0]),r=parseInt(i[1],10));var c;if(typeof a<"u"&&a>=0&&a<=1){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,i)}}),t;typeof r>"u"&&(t._volume=a),r=t._getSoundIds(r);for(var u=0;u<r.length;u++)c=t._soundById(r[u]),c&&(c._volume=a,i[2]||t._stopFade(r[u]),t._webAudio&&c._node&&!c._muted?c._node.gain.setValueAtTime(a,e.ctx.currentTime):c._node&&!c._muted&&(c._node.volume=a*e.volume()),t._emit("volume",c._id))}else return c=r?t._soundById(r):t._sounds[0],c?c._volume:0;return t},fade:function(t,i,a,r){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(t,i,a,r)}}),s;t=Math.min(Math.max(0,parseFloat(t)),1),i=Math.min(Math.max(0,parseFloat(i)),1),a=parseFloat(a),s.volume(t,r);for(var d=s._getSoundIds(r),c=0;c<d.length;c++){var u=s._soundById(d[c]);if(u){if(r||s._stopFade(d[c]),s._webAudio&&!u._muted){var b=e.ctx.currentTime,k=b+a/1e3;u._volume=t,u._node.gain.setValueAtTime(t,b),u._node.gain.linearRampToValueAtTime(i,k)}s._startFadeInterval(u,t,i,a,d[c],typeof r>"u")}}return s},_startFadeInterval:function(t,i,a,r,s,d){var c=this,u=i,b=a-i,k=Math.abs(b/.01),O=Math.max(4,k>0?r/k:r),S=Date.now();t._fadeTo=a,t._interval=setInterval(function(){var z=(Date.now()-S)/r;S=Date.now(),u+=b*z,u=Math.round(u*100)/100,b<0?u=Math.max(a,u):u=Math.min(a,u),c._webAudio?t._volume=u:c.volume(u,t._id,!0),d&&(c._volume=u),(a<i&&u<=a||a>i&&u>=a)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,c.volume(a,t._id),c._emit("fade",t._id))},O)},_stopFade:function(t){var i=this,a=i._soundById(t);return a&&a._interval&&(i._webAudio&&a._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(a._interval),a._interval=null,i.volume(a._fadeTo,t),a._fadeTo=null,i._emit("fade",t)),i},loop:function(){var t=this,i=arguments,a,r,s;if(i.length===0)return t._loop;if(i.length===1)if(typeof i[0]=="boolean")a=i[0],t._loop=a;else return s=t._soundById(parseInt(i[0],10)),s?s._loop:!1;else i.length===2&&(a=i[0],r=parseInt(i[1],10));for(var d=t._getSoundIds(r),c=0;c<d.length;c++)s=t._soundById(d[c]),s&&(s._loop=a,t._webAudio&&s._node&&s._node.bufferSource&&(s._node.bufferSource.loop=a,a&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop,t.playing(d[c])&&(t.pause(d[c],!0),t.play(d[c],!0)))));return t},rate:function(){var t=this,i=arguments,a,r;if(i.length===0)r=t._sounds[0]._id;else if(i.length===1){var s=t._getSoundIds(),d=s.indexOf(i[0]);d>=0?r=parseInt(i[0],10):a=parseFloat(i[0])}else i.length===2&&(a=parseFloat(i[0]),r=parseInt(i[1],10));var c;if(typeof a=="number"){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,i)}}),t;typeof r>"u"&&(t._rate=a),r=t._getSoundIds(r);for(var u=0;u<r.length;u++)if(c=t._soundById(r[u]),c){t.playing(r[u])&&(c._rateSeek=t.seek(r[u]),c._playStart=t._webAudio?e.ctx.currentTime:c._playStart),c._rate=a,t._webAudio&&c._node&&c._node.bufferSource?c._node.bufferSource.playbackRate.setValueAtTime(a,e.ctx.currentTime):c._node&&(c._node.playbackRate=a);var b=t.seek(r[u]),k=(t._sprite[c._sprite][0]+t._sprite[c._sprite][1])/1e3-b,O=k*1e3/Math.abs(c._rate);(t._endTimers[r[u]]||!c._paused)&&(t._clearTimer(r[u]),t._endTimers[r[u]]=setTimeout(t._ended.bind(t,c),O)),t._emit("rate",c._id)}}else return c=t._soundById(r),c?c._rate:t._rate;return t},seek:function(){var t=this,i=arguments,a,r;if(i.length===0)t._sounds.length&&(r=t._sounds[0]._id);else if(i.length===1){var s=t._getSoundIds(),d=s.indexOf(i[0]);d>=0?r=parseInt(i[0],10):t._sounds.length&&(r=t._sounds[0]._id,a=parseFloat(i[0]))}else i.length===2&&(a=parseFloat(i[0]),r=parseInt(i[1],10));if(typeof r>"u")return 0;if(typeof a=="number"&&(t._state!=="loaded"||t._playLock))return t._queue.push({event:"seek",action:function(){t.seek.apply(t,i)}}),t;var c=t._soundById(r);if(c)if(typeof a=="number"&&a>=0){var u=t.playing(r);u&&t.pause(r,!0),c._seek=a,c._ended=!1,t._clearTimer(r),!t._webAudio&&c._node&&!isNaN(c._node.duration)&&(c._node.currentTime=a);var b=function(){u&&t.play(r,!0),t._emit("seek",r)};if(u&&!t._webAudio){var k=function(){t._playLock?setTimeout(k,0):b()};setTimeout(k,0)}else b()}else if(t._webAudio){var O=t.playing(r)?e.ctx.currentTime-c._playStart:0,S=c._rateSeek?c._rateSeek-c._seek:0;return c._seek+(S+O*Math.abs(c._rate))}else return c._node.currentTime;return t},playing:function(t){var i=this;if(typeof t=="number"){var a=i._soundById(t);return a?!a._paused:!1}for(var r=0;r<i._sounds.length;r++)if(!i._sounds[r]._paused)return!0;return!1},duration:function(t){var i=this,a=i._duration,r=i._soundById(t);return r&&(a=i._sprite[r._sprite][1]/1e3),a},state:function(){return this._state},unload:function(){for(var t=this,i=t._sounds,a=0;a<i.length;a++)i[a]._paused||t.stop(i[a]._id),t._webAudio||(t._clearSound(i[a]._node),i[a]._node.removeEventListener("error",i[a]._errorFn,!1),i[a]._node.removeEventListener(e._canPlayEvent,i[a]._loadFn,!1),i[a]._node.removeEventListener("ended",i[a]._endFn,!1),e._releaseHtml5Audio(i[a]._node)),delete i[a]._node,t._clearTimer(i[a]._id);var r=e._howls.indexOf(t);r>=0&&e._howls.splice(r,1);var s=!0;for(a=0;a<e._howls.length;a++)if(e._howls[a]._src===t._src||t._src.indexOf(e._howls[a]._src)>=0){s=!1;break}return m&&s&&delete m[t._src],e.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,i,a,r){var s=this,d=s["_on"+t];return typeof i=="function"&&d.push(r?{id:a,fn:i,once:r}:{id:a,fn:i}),s},off:function(t,i,a){var r=this,s=r["_on"+t],d=0;if(typeof i=="number"&&(a=i,i=null),i||a)for(d=0;d<s.length;d++){var c=a===s[d].id;if(i===s[d].fn&&c||!i&&c){s.splice(d,1);break}}else if(t)r["_on"+t]=[];else{var u=Object.keys(r);for(d=0;d<u.length;d++)u[d].indexOf("_on")===0&&Array.isArray(r[u[d]])&&(r[u[d]]=[])}return r},once:function(t,i,a){var r=this;return r.on(t,i,a,1),r},_emit:function(t,i,a){for(var r=this,s=r["_on"+t],d=s.length-1;d>=0;d--)(!s[d].id||s[d].id===i||t==="load")&&(setTimeout((function(c){c.call(this,i,a)}).bind(r,s[d].fn),0),s[d].once&&r.off(t,s[d].fn,s[d].id));return r._loadQueue(t),r},_loadQueue:function(t){var i=this;if(i._queue.length>0){var a=i._queue[0];a.event===t&&(i._queue.shift(),i._loadQueue()),t||a.action()}return i},_ended:function(t){var i=this,a=t._sprite;if(!i._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(i._ended.bind(i,t),100),i;var r=!!(t._loop||i._sprite[a][2]);if(i._emit("end",t._id),!i._webAudio&&r&&i.stop(t._id,!0).play(t._id),i._webAudio&&r){i._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=e.ctx.currentTime;var s=(t._stop-t._start)*1e3/Math.abs(t._rate);i._endTimers[t._id]=setTimeout(i._ended.bind(i,t),s)}return i._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,i._clearTimer(t._id),i._cleanBuffer(t._node),e._autoSuspend()),!i._webAudio&&!r&&i.stop(t._id,!0),i},_clearTimer:function(t){var i=this;if(i._endTimers[t]){if(typeof i._endTimers[t]!="function")clearTimeout(i._endTimers[t]);else{var a=i._soundById(t);a&&a._node&&a._node.removeEventListener("ended",i._endTimers[t],!1)}delete i._endTimers[t]}return i},_soundById:function(t){for(var i=this,a=0;a<i._sounds.length;a++)if(t===i._sounds[a]._id)return i._sounds[a];return null},_inactiveSound:function(){var t=this;t._drain();for(var i=0;i<t._sounds.length;i++)if(t._sounds[i]._ended)return t._sounds[i].reset();return new o(t)},_drain:function(){var t=this,i=t._pool,a=0,r=0;if(!(t._sounds.length<i)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&a++;for(r=t._sounds.length-1;r>=0;r--){if(a<=i)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),a--)}}},_getSoundIds:function(t){var i=this;if(typeof t>"u"){for(var a=[],r=0;r<i._sounds.length;r++)a.push(i._sounds[r]._id);return a}else return[t]},_refreshBuffer:function(t){var i=this;return t._node.bufferSource=e.ctx.createBufferSource(),t._node.bufferSource.buffer=m[i._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,e.ctx.currentTime),i},_cleanBuffer:function(t){var i=this,a=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!t.bufferSource)return i;if(e._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),a))try{t.bufferSource.buffer=e._scratchBuffer}catch{}return t.bufferSource=null,i},_clearSound:function(t){var i=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);i||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this,i=t._parent;return t._muted=i._muted,t._loop=i._loop,t._volume=i._volume,t._rate=i._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,i._sounds.push(t),t.create(),t},create:function(){var t=this,i=t._parent,a=e._muted||t._muted||t._parent._muted?0:t._volume;return i._webAudio?(t._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),t._node.gain.setValueAtTime(a,e.ctx.currentTime),t._node.paused=!0,t._node.connect(e.masterGain)):e.noAudio||(t._node=e._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(e._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=i._src,t._node.preload=i._preload===!0?"auto":i._preload,t._node.volume=a*e.volume(),t._node.load()),t},reset:function(){var t=this,i=t._parent;return t._muted=i._muted,t._loop=i._loop,t._volume=i._volume,t._rate=i._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,i=t._parent;i._duration=Math.ceil(t._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),t._node.removeEventListener(e._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,i=t._parent;i._duration===1/0&&(i._duration=Math.ceil(t._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var m={},l=function(t){var i=t._src;if(m[i]){t._duration=m[i].duration,p(t);return}if(/^data:[^;]+;base64,/.test(i)){for(var a=atob(i.split(",")[1]),r=new Uint8Array(a.length),s=0;s<a.length;++s)r[s]=a.charCodeAt(s);f(r.buffer,t)}else{var d=new XMLHttpRequest;d.open(t._xhr.method,i,!0),d.withCredentials=t._xhr.withCredentials,d.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(c){d.setRequestHeader(c,t._xhr.headers[c])}),d.onload=function(){var c=(d.status+"")[0];if(c!=="0"&&c!=="2"&&c!=="3"){t._emit("loaderror",null,"Failed loading audio file with status: "+d.status+".");return}f(d.response,t)},d.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete m[i],t.load())},g(d)}},g=function(t){try{t.send()}catch{t.onerror()}},f=function(t,i){var a=function(){i._emit("loaderror",null,"Decoding audio data failed.")},r=function(s){s&&i._sounds.length>0?(m[i._src]=s,p(i,s)):a()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(t).then(r).catch(a):e.ctx.decodeAudioData(t,r,a)},p=function(t,i){i&&!t._duration&&(t._duration=i.duration),Object.keys(t._sprite).length===0&&(t._sprite={__default:[0,t._duration*1e3]}),t._state!=="loaded"&&(t._state="loaded",t._emit("load"),t._loadQueue())},w=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),i=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),a=i?parseInt(i[1],10):null;if(t&&a&&a<9){var r=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!r&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:n}}),typeof ct<"u"&&(ct.Howler=e,ct.Howl=n),typeof global<"u"?(global.HowlerGlobal=h,global.Howler=e,global.Howl=n,global.Sound=o):typeof window<"u"&&(window.HowlerGlobal=h,window.Howler=e,window.Howl=n,window.Sound=o)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var o=n._howls.length-1;o>=0;o--)n._howls[o].stereo(e);return n},HowlerGlobal.prototype.pos=function(e,n,o){var m=this;if(!m.ctx||!m.ctx.listener)return m;if(n=typeof n!="number"?m._pos[1]:n,o=typeof o!="number"?m._pos[2]:o,typeof e=="number")m._pos=[e,n,o],typeof m.ctx.listener.positionX<"u"?(m.ctx.listener.positionX.setTargetAtTime(m._pos[0],Howler.ctx.currentTime,.1),m.ctx.listener.positionY.setTargetAtTime(m._pos[1],Howler.ctx.currentTime,.1),m.ctx.listener.positionZ.setTargetAtTime(m._pos[2],Howler.ctx.currentTime,.1)):m.ctx.listener.setPosition(m._pos[0],m._pos[1],m._pos[2]);else return m._pos;return m},HowlerGlobal.prototype.orientation=function(e,n,o,m,l,g){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(n=typeof n!="number"?p[1]:n,o=typeof o!="number"?p[2]:o,m=typeof m!="number"?p[3]:m,l=typeof l!="number"?p[4]:l,g=typeof g!="number"?p[5]:g,typeof e=="number")f._orientation=[e,n,o,m,l,g],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(m,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(g,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(e,n,o,m,l,g);else return p;return f},Howl.prototype.init=(function(e){return function(n){var o=this;return o._orientation=n.orientation||[1,0,0],o._stereo=n.stereo||null,o._pos=n.pos||null,o._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},o._onstereo=n.onstereo?[{fn:n.onstereo}]:[],o._onpos=n.onpos?[{fn:n.onpos}]:[],o._onorientation=n.onorientation?[{fn:n.onorientation}]:[],e.call(this,n)}})(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var m=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof e=="number")o._stereo=e,o._pos=[e,0,0];else return o._stereo;for(var l=o._getSoundIds(n),g=0;g<l.length;g++){var f=o._soundById(l[g]);if(f)if(typeof e=="number")f._stereo=e,f._pos=[e,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&h(f,m),m==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(e,0,0):f._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(e,n,o,m){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(e,n,o,m)}}),l;if(n=typeof n!="number"?0:n,o=typeof o!="number"?-.5:o,typeof m>"u")if(typeof e=="number")l._pos=[e,n,o];else return l._pos;for(var g=l._getSoundIds(m),f=0;f<g.length;f++){var p=l._soundById(g[f]);if(p)if(typeof e=="number")p._pos=[e,n,o],p._node&&((!p._panner||p._panner.pan)&&h(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(e,n,o)),l._emit("pos",p._id);else return p._pos}return l},Howl.prototype.orientation=function(e,n,o,m){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(e,n,o,m)}}),l;if(n=typeof n!="number"?l._orientation[1]:n,o=typeof o!="number"?l._orientation[2]:o,typeof m>"u")if(typeof e=="number")l._orientation=[e,n,o];else return l._orientation;for(var g=l._getSoundIds(m),f=0;f<g.length;f++){var p=l._soundById(g[f]);if(p)if(typeof e=="number")p._orientation=[e,n,o],p._node&&(p._panner||(p._pos||(p._pos=l._pos||[0,0,-.5]),h(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(e,n,o)),l._emit("orientation",p._id);else return p._orientation}return l},Howl.prototype.pannerAttr=function(){var e=this,n=arguments,o,m,l;if(!e._webAudio)return e;if(n.length===0)return e._pannerAttr;if(n.length===1)if(typeof n[0]=="object")o=n[0],typeof m>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),e._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:e._panningModel});else return l=e._soundById(parseInt(n[0],10)),l?l._pannerAttr:e._pannerAttr;else n.length===2&&(o=n[0],m=parseInt(n[1],10));for(var g=e._getSoundIds(m),f=0;f<g.length;f++)if(l=e._soundById(g[f]),l){var p=l._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var w=l._panner;w||(l._pos||(l._pos=e._pos||[0,0,-.5]),h(l,"spatial"),w=l._panner),w.coneInnerAngle=p.coneInnerAngle,w.coneOuterAngle=p.coneOuterAngle,w.coneOuterGain=p.coneOuterGain,w.distanceModel=p.distanceModel,w.maxDistance=p.maxDistance,w.refDistance=p.refDistance,w.rolloffFactor=p.rolloffFactor,w.panningModel=p.panningModel}return e},Sound.prototype.init=(function(e){return function(){var n=this,o=n._parent;n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,e.call(this),n._stereo?o.stereo(n._stereo):n._pos&&o.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(e){return function(){var n=this,o=n._parent;return n._orientation=o._orientation,n._stereo=o._stereo,n._pos=o._pos,n._pannerAttr=o._pannerAttr,n._stereo?o.stereo(n._stereo):n._pos?o.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,o._refreshBuffer(n)),e.call(this)}})(Sound.prototype.reset);var h=function(e,n){n=n||"spatial",n==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()});var Xt=(()=>{class h{static \u0275fac=function(o){return new(o||h)};static \u0275mod=F({type:h});static \u0275inj=D({imports:[T,T]})}return h})();var nt=(()=>{class h{static \u0275fac=function(o){return new(o||h)};static \u0275mod=F({type:h});static \u0275inj=D({imports:[T,T]})}return h})();var ne=(()=>{class h{static \u0275fac=function(o){return new(o||h)};static \u0275mod=F({type:h});static \u0275inj=D({imports:[T,nt,T]})}return h})();var At=(()=>{class h{isErrorState(n,o){return!!(n&&n.invalid&&(n.touched||o&&o.submitted))}static \u0275fac=function(o){return new(o||h)};static \u0275prov=q({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();var Bt=new bt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var qe=(()=>{class h{static \u0275fac=function(o){return new(o||h)};static \u0275mod=F({type:h});static \u0275inj=D({providers:[At,{provide:Bt,useValue:{separatorKeyCodes:[13]}}],imports:[T,nt,T]})}return h})();var V=class V{constructor(e){this.http=e;this.destroy$=new H;this.isDebugMode=!0;this.audio=null;this.currentTrack=null;this._isPlaying=!1;this.volume=1;this.progress=0;this.isLoading=!1;this.TRACKS={introduction:{title:"Introduction",artist:"An",id:"intro",url:"assets/audio/An - Incident.mp3"},"disc-1":{title:"I can avoid it",artist:"Feryquitous",id:"disc1",url:"assets/audio/Feryquitous - i can avoid it.mp3"},"disc-2":{title:"Quantum Resonance",artist:"An",id:"disc2",url:"assets/audio/An - Quantum Resonance.mp3"},pv:{title:"Neural Network",artist:"Feryquitous",id:"pv",url:"assets/audio/Feryquitous - Neural Network.mp3"},information:{title:"Digital Entropy",artist:"An \xD7 Feryquitous",id:"info",url:"assets/audio/An \xD7 Feryquitous - Digital Entropy.mp3"}};this.audioStateSubject=new E({isPlaying:!1,currentTrack:null,volume:1,progress:0,loading:!1});this.audioEventSubject=new E({type:"pause"});this.errorSubject=new H;this.currentTrackSubject=new E("");this.currentTrack$=this.currentTrackSubject.asObservable();this.audioFiles=[];this.sectionTracks={introduction:"An - Incident.mp3","disc-1":"Feryquitous - i can avoid it.mp3","disc-2":"An - Quantum Resonance.mp3",pv:"Feryquitous - Neural Network.mp3",information:"An \xD7 Feryquitous - Digital Entropy.mp3"};this.uiSounds={"menu-click":"assets/audio/ui/menu-click.mp3","page-turn":"assets/audio/ui/page-turn.mp3",success:"assets/audio/ui/success.mp3",error:"assets/audio/ui/error.mp3"};this.loadAudioFiles(),this.initializeAudio(),this.isDebugMode&&console.log("[AudioService] Initialized")}loadAudioFiles(){return ut(this,null,function*(){try{this.audioFiles.push(...Object.values(this.sectionTracks).map(e=>`assets/audio/${e}`)),this.audioFiles.length>0&&this.currentTrackSubject.next(this.audioFiles[0]),this.isDebugMode&&console.log("[AudioService] Audio files loaded:",this.audioFiles)}catch(e){this.handleError("LOAD_ERROR",`Failed to load audio files: ${e instanceof Error?e.message:String(e)}`)}})}initializeAudio(){this.audio=new Audio,this.setupAudioEventListeners()}setupAudioEventListeners(){if(!this.audio){this.handleError("LOAD_ERROR","Audio element not initialized");return}this.audio.addEventListener("timeupdate",()=>{this.audio&&(this.progress=this.audio.duration?this.audio.currentTime/this.audio.duration*100:0,this.updateAudioState(),this.audioEventSubject.next({type:"timeupdate",data:this.progress}))}),this.audio.addEventListener("ended",()=>{this._isPlaying=!1,this.updateAudioState(),this.audioEventSubject.next({type:"ended"})}),this.audio.addEventListener("error",e=>{let n=e;this.handleError("LOAD_ERROR",`Failed to load audio: ${n.message||"Unknown error"}`),this.audioEventSubject.next({type:"error",data:n.message})}),this.audio.addEventListener("loadstart",()=>{this.isLoading=!0,this.updateAudioState(),this.audioEventSubject.next({type:"loading"})}),this.audio.addEventListener("canplay",()=>{this.isLoading=!1,this.updateAudioState(),this.audioEventSubject.next({type:"loaded"})}),this.audio.addEventListener("play",()=>{this._isPlaying=!0,this.updateAudioState(),this.audioEventSubject.next({type:"play"})}),this.audio.addEventListener("pause",()=>{this._isPlaying=!1,this.updateAudioState(),this.audioEventSubject.next({type:"pause"})})}updateAudioState(){this.audioStateSubject.next({isPlaying:this._isPlaying,currentTrack:this.currentTrack,volume:this.volume,progress:this.progress,loading:this.isLoading})}handleError(e,n){this.isDebugMode&&console.error(`[AudioService] ${e}: ${n}`),this.errorSubject.next({type:e,message:n})}setTrackForSection(e){let n=this.TRACKS[e];if(!n){this.handleError("LOAD_ERROR",`No track found for section: ${e}`);return}this.currentTrack?.id!==n.id&&(this.isDebugMode&&console.log(`[AudioService] Setting track for section: ${e}`,n),this.currentTrack=n,this.loadTrack(n),this.currentTrackSubject.next(n.url))}loadTrack(e){if(!this.audio){this.handleError("LOAD_ERROR","Audio element not initialized");return}this.isLoading=!0,this.updateAudioState(),this.audio.src=e.url;try{this.audio.load()}catch(n){this.handleError("LOAD_ERROR",`Failed to load track: ${n instanceof Error?n.message:String(n)}`)}}play(){if(!this.audio){this.handleError("PLAY_ERROR","Audio element not initialized");return}if(!this.currentTrack){this.handleError("PLAY_ERROR","No track selected");return}this.isDebugMode&&console.log("[AudioService] Playing audio:",this.currentTrack.title),this.audio.play().then(()=>{this._isPlaying=!0,this.updateAudioState()}).catch(e=>{this.handleError("PLAY_ERROR",`Failed to play audio: ${e instanceof Error?e.message:String(e)}`)})}pause(){if(!this.audio){this.handleError("PAUSE_ERROR","Audio element not initialized");return}this.isDebugMode&&console.log("[AudioService] Pausing audio"),this.audio.pause(),this._isPlaying=!1,this.updateAudioState()}togglePlay(){this._isPlaying?this.pause():this.play()}setVolume(e){if(!this.audio){this.handleError("PAUSE_ERROR","Audio element not initialized");return}this.volume=Math.max(0,Math.min(1,e)),this.audio.volume=this.volume,this.updateAudioState(),this.isDebugMode&&console.log(`[AudioService] Volume set to: ${this.volume}`)}getCurrentState(){return this.audioStateSubject.asObservable()}getAudioEvents(){return this.audioEventSubject.asObservable()}onPlayStateChange(){return this.getCurrentState().pipe(Y(e=>e.isPlaying))}onTrackChange(){return this.currentTrack$}onLoadingStateChange(){return this.getCurrentState().pipe(Y(e=>e.loading))}getProgress(){return!this.audio||!this.audio.duration?0:this.audio.currentTime/this.audio.duration}getErrors(){return this.errorSubject.asObservable()}isPlaying(){return this._isPlaying}getCurrentTrack(){return this.currentTrackSubject.value}getNextTrack(){let e=this.audioFiles.indexOf(this.currentTrackSubject.value);if(e<this.audioFiles.length-1){let n=this.audioFiles[e+1];return this.currentTrackSubject.next(n),n}return null}getPreviousTrack(){let e=this.audioFiles.indexOf(this.currentTrackSubject.value);if(e>0){let n=this.audioFiles[e-1];return this.currentTrackSubject.next(n),n}return null}getTrackList(){return this.audioFiles}getCurrentIndex(){return this.audioFiles.indexOf(this.currentTrackSubject.value)}playUISound(e){if(!this.uiSounds[e]){this.handleError("UI_SOUND_ERROR",`UI sound not found: ${e}`);return}try{let n=new Audio(this.uiSounds[e]);n.volume=.5,n.play().catch(o=>{this.handleError("UI_SOUND_ERROR",`Error playing UI sound: ${o instanceof Error?o.message:String(o)}`)})}catch(n){this.handleError("UI_SOUND_ERROR",`Failed to create UI sound: ${n instanceof Error?n.message:String(n)}`)}}playTrack(e){if(!this.audio){this.handleError("PLAY_ERROR","Audio element not initialized");return}this.isDebugMode&&console.log(`[AudioService] Playing track from source: ${e}`),this.currentTrackSubject.next(e),this.isLoading=!0,this.updateAudioState(),this.audio.src=e,this.audio.play().then(()=>{this._isPlaying=!0,this.updateAudioState()}).catch(n=>{this.handleError("PLAY_ERROR",`Error playing track: ${n instanceof Error?n.message:String(n)}`)})}pauseTrack(){this.pause()}resumeTrack(){this.play()}ngOnDestroy(){this.isDebugMode&&console.log("[AudioService] Destroying service"),this.audio&&(this.audio.onended=null,this.audio.ontimeupdate=null,this.audio.onerror=null,this.audio.oncanplay=null,this.audio.onloadstart=null,this.audio.pause(),this.audio.src="",this.audio=null),this.audioStateSubject.complete(),this.audioEventSubject.complete(),this.currentTrackSubject.complete(),this.errorSubject.complete(),this.destroy$.next(),this.destroy$.complete()}};V.\u0275fac=function(n){return new(n||V)(et(at))},V.\u0275prov=q({token:V,factory:V.\u0275fac,providedIn:"root"});var ot=V;var G=class G{constructor(e){this.http=e;this.destroy$=new H;this.currentTimeSubject=new E(0);this.tracksSubject=new E([]);this.currentTrackSubject=new E(null);this.currentTime$=this.currentTimeSubject.asObservable();this.tracks$=this.tracksSubject.asObservable();this.currentTrack$=this.currentTrackSubject.asObservable();this.currentArtists$=ht([this.currentTime$,this.tracks$]).pipe(ft(50),Y(([e,n])=>this.getCurrentArtists(e,n)),gt((e,n)=>this.arraysEqual(e,n)),X(this.destroy$));this.trackToFilenameMap={1:"1. SpiralFlip - Blinding Dawn feat. eili.ogg",2:"2. Ariatec - Hollow Crown.ogg",3:"3. MB -  \u6681\u306E\u59EB feat. Iku Hoshifuri.ogg",4:"4. Azali & Aloysius - Lux Nova.ogg",5:"5. potatoTeto - Hall of Silent Echoes.ogg",6:"6. Artisan - Lirica.ogg",7:"7. Mei Naganowa - To Defy The Beankeeper.ogg",8:"8. Evin a'k - Trench.ogg",9:"9. BilliumMoto - Blooming in the Square.ogg",10:"10. Elliot Hsu - Skies in Abberation.ogg",11:"11. Yuzuki - song of the nymphs.ogg",12:"12. LucaProject - Light Guardian.ogg",13:"13. Koway - Enso Antumbra ft. \u4F0D.ogg",14:"14. Nstryder - You_re In My Way.ogg",15:"15. MoAE. - Remember you.ogg",16:"16. dystopian tanuki - Hidden passage.ogg",17:"17. Heem - Last Dance feat. woojinee (detune version).ogg",18:"18. Bigg Milk - Second Guess.ogg",19:"19. Gardens & Sad Keyboard Guy - Fractured Light ft. eili.ogg",20:"20. Futsuunohito - Beyond the Veil of Light.ogg"};this.initializeService()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeService(){this.loadTrackData()}loadTrackData(){let e=this.createTracksFromTimestamps();this.tracksSubject.next(e)}updateCurrentTime(e){this.currentTimeSubject.next(e);let n=this.tracksSubject.value,o=this.findTrackByTime(e,n);o!==this.currentTrackSubject.value&&this.currentTrackSubject.next(o)}getCurrentArtists(e,n){let o=this.findTrackByTime(e,n);if(!o)return[];let m=[];return m.push(this.createArtistCardData(o.mainArtist,"Main Artist")),o.features.forEach(l=>{m.push(this.createArtistCardData(l.name,"Featured Artist",l.socialLinks))}),o.collaborators.forEach(l=>{m.push(this.createArtistCardData(l.name,"Collaborator",l.socialLinks))}),m}findTrackByTime(e,n){return n.find(o=>e>=o.startTime&&e<o.endTime)||null}createArtistCardData(e,n,o={}){return{id:this.generateArtistId(e),name:e,displayName:e,role:n,socialLinks:o,color:this.generateColorForArtist(e)}}generateArtistId(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-")}generateColorForArtist(e){let n=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8E8","#F7DC6F","#BB8FCE","#85C1E9"],o=e.split("").reduce((m,l)=>l.charCodeAt(0)+((m<<5)-m),0);return n[Math.abs(o)%n.length]}arraysEqual(e,n){return e.length!==n.length?!1:e.every((o,m)=>o.id===n[m]?.id)}createTracksFromTimestamps(){let e=`0:00 SpiralFlip feat. eili: Blinding Dawn
2:48 Ariatec: Hollow Crown
5:44 MB feat. Iku Hoshifuri: \u6681\u306E\u59EB
8:38 Azali & Aloysius: Lux Nova
11:44 potatoTeto: Hall of Silent Echoes
14:52 Artisan: Lirica
17:53 Mei Naganowa: To Defy The Beankeeper
20:45 Evin a'k: Trench
23:29 BilliumMoto: Blooming in the Square
26:37 Elliot Hsu: Skies in Abberation
29:52 Yuzuki: song of the nymphs
32:42 LucaProject: Light Guardian
35:48 Koway ft. \u4F0D: Enso Antumbra
38:57 Nstryder: You're In My Way
42:05 MoAE.: Remember you
45:09 dystopian tanuki: Hidden passage
48:22 Heem feat. woojinee: Last Dance (detune version)
51:25 Bigg Milk: Second Guess
54:15 Gardens & Sad Keyboard Guy ft. eili: Fractured Light
57:04 Futsuunohito: Beyond the Veil of Light`,n=[],o=e.split(`
`);return o.forEach((m,l)=>{let g=m.match(/(\d+):(\d+)\s+(.+?):\s+(.+)/);if(g){let[,f,p,w,t]=g,i=parseInt(f)*60+parseInt(p),a=o[l+1],r=3600;if(a){let A=a.match(/(\d+):(\d+)/);A&&(r=parseInt(A[1])*60+parseInt(A[2]))}let s=[],d=[],c=l+1,u=/(.+?)\s+(?:feat\.|ft\.)\s+(.+)/,b=w.match(u);if(b){let[,A,v]=b;s.push({id:this.generateArtistId(v),name:v,displayName:v,role:"Featured Artist",socialLinks:this.getSocialLinksForArtist(v)})}let k=/(.+?)\s+&\s+(.+)/,O=w.match(k);if(O&&!b){let[,A,v]=O;d.push({id:this.generateArtistId(v),name:v,displayName:v,role:"Collaborator",socialLinks:this.getSocialLinksForArtist(v)})}switch(c){case 3:d.push({id:"justin-thornburgh",name:"Justin Thornburgh",displayName:"Justin Thornburgh",role:"Accordion",socialLinks:this.getSocialLinksForArtist("Justin Thornburgh")},{id:"v1ris",name:"v1ris",displayName:"v1ris",role:"Violin",socialLinks:this.getSocialLinksForArtist("v1ris")},{id:"rita-kamishiro",name:"Rita Kamishiro",displayName:"Rita Kamishiro",role:"Viola",socialLinks:this.getSocialLinksForArtist("Rita Kamishiro")},{id:"marcus-ho",name:"Marcus Ho",displayName:"Marcus Ho",role:"Cello",socialLinks:this.getSocialLinksForArtist("Marcus Ho")});break;case 7:d.push({id:"anri-arcane",name:"Anri Arcane",displayName:"Anri Arcane",role:"Vocals (Synthesizer V)",socialLinks:{}},{id:"hxvoc",name:"HXVOC",displayName:"HXVOC",role:"Vocals (Synthesizer V)",socialLinks:{}},{id:"miyamai-moca",name:"Miyamai Moca",displayName:"Miyamai Moca",role:"Vocals (Synthesizer V)",socialLinks:{}},{id:"ninezero",name:"Ninezero",displayName:"Ninezero",role:"Vocals (Synthesizer V)",socialLinks:{}});break;case 11:d.push({id:"hanakuma-chifuyu",name:"Hanakuma Chifuyu",displayName:"Hanakuma Chifuyu",role:"Vocals (Synthesizer V)",socialLinks:{}});break;case 17:s.some(A=>A.name.toLowerCase()==="woojinee")||s.push({id:this.generateArtistId("woojinee"),name:"woojinee",displayName:"Woojinee",role:"Violin",socialLinks:this.getSocialLinksForArtist("woojinee")});break;case 19:d.some(A=>A.name==="Sad Keyboard Guy")||d.push({id:this.generateArtistId("Sad Keyboard Guy"),name:"Sad Keyboard Guy",displayName:"Sad Keyboard Guy",role:"Main Artist",socialLinks:this.getSocialLinksForArtist("Sad Keyboard Guy")});break;case 20:d.push({id:this.generateArtistId("shishishiena"),name:"shishishiena",displayName:"shishishiena",role:"Voice Actor",socialLinks:this.getSocialLinksForArtist("shishishiena")});break}let S=w.replace(/\s+(?:feat\.|ft\.)\s+.+/,""),z=S;l===0&&s.length>0&&(z=`${S} (feat. ${s[0].name})`),n.push({id:(l+1).toString(),title:t,mainArtist:z,startTime:i,endTime:r,artists:[],features:s,collaborators:d,audioFile:this.trackToFilenameMap[l+1]})}}),n}getSocialLinksForArtist(e){return{SpiralFlip:{youtube:"https://www.youtube.com/@SpiralFlip",carrd:"https://spiralflip.carrd.co/"},eili:{youtube:"https://www.youtube.com/@EiliYT",twitter:"https://x.com/frenlize"},Ariatec:{youtube:"https://www.youtube.com/@musicbyariatec",reelcrafter:"https://play.reelcrafter.com/KLSound/port"},MB:{youtube:"https://www.youtube.com/@MBMichael",twitter:"https://x.com/MBgov1133"},"Iku Hoshifuri":{youtube:"https://www.youtube.com/@IkuHoshifuri",linktr:"https://lit.link/en/ikuhoshifuri"},"Justin Thornburgh":{twitter:"https://x.com/JustinThornbur7"},v1ris:{website:"https://v1ris.com/",youtube:"https://www.youtube.com/@v1ris_music"},"Rita Kamishiro":{youtube:"https://www.youtube.com/@RitaKamishiro",carrd:"https://ritakamishiro.carrd.co/"},"Marcus Ho":{website:"https://www.marcushomusic.com/"},AZALI:{youtube:"https://www.youtube.com/@AZALI00013",twitter:"https://x.com/AZALI00013"},Aloysius:{youtube:"https://www.youtube.com/@aloysius3264",twitter:"https://x.com/Aloysiu04138577"},potatoTeto:{youtube:"https://www.youtube.com/@potatoteto",website:"https://www.potatoteto.com/"},Artisan:{youtube:"https://www.youtube.com/@artisan1233",twitter:"https://x.com/artisan1233"},"Mei Naganowa":{twitter:"https://x.com/ReeKDoesDTM"},"Evin a'k":{youtube:"https://www.youtube.com/@Evin_a_k",twitter:"https://x.com/evin_a_k?lang=en"},BilliumMoto:{youtube:"https://www.youtube.com/@BilliumMoto",twitter:"https://x.com/BilliumMoto"},"Elliot Hsu":{youtube:"https://www.youtube.com/@ElliotHsu",twitter:"https://x.com/Leigendar"},Yuzuki:{youtube:"https://www.youtube.com/@yuzukimasu",linktr:"https://linktr.ee/yuzukimasu"},LucaProject:{youtube:"https://www.youtube.com/@lucaproject6108",carrd:"https://lucaproject.carrd.co/"},Koway:{youtube:"https://www.youtube.com/@KOWAYmusic",instagram:"https://www.instagram.com/koway_music/",twitter:"https://x.com/kowaymusic"},\u4F0D\u4E00:{youtube:"https://www.youtube.com/@dreamer051",twitch:"https://www.twitch.tv/dreamer051/about"},\u4F0D:{youtube:"https://www.youtube.com/@dreamer051",twitch:"https://www.twitch.tv/dreamer051/about"},Nstryder:{youtube:"https://www.youtube.com/@nstryder-music",bandcamp:"https://nstryder.bandcamp.com/"},"MoAE.":{youtube:"https://www.youtube.com/@moae00",website:"https://moae.jimdosite.com/"},"dystopian tanuki":{youtube:"https://www.youtube.com/@dystopiantanuki",twitter:"https://x.com/DystopianTanuki"},Heem:{linktr:"https://linktr.ee/heeem"},woojinee:{instagram:"https://www.instagram.com/wooj1nee?igsh=czUwcXg3aWh6NmM5&utm_source=qr"},Woojinee:{instagram:"https://www.instagram.com/wooj1nee?igsh=czUwcXg3aWh6NmM5&utm_source=qr"},"Bigg Milk":{youtube:"https://www.youtube.com/@BiggMilk",twitter:"https://x.com/milk_bigg"},Gardens:{youtube:"https://www.youtube.com/@gardens5812",website:"https://gardensdtm.com/"},"Sad Keyboard Guy":{youtube:"https://www.youtube.com/@SadKeyboardGuy",carrd:"https://sadkeyboardguy.carrd.co/"},Futsuunohito:{youtube:"https://www.youtube.com/@futsuunohito",carrd:"https://futsuunohito.crd.co/"},shishishiena:{youtube:"https://www.youtube.com/@shishishiena",website:"https://www.shishishiena.com/"}}[e]||{}}};G.\u0275fac=function(n){return new(n||G)(et(at))},G.\u0275prov=q({token:G,factory:G.\u0275fac,providedIn:"root"});var rt=G;var tt=Dt(Pt());function Gt(h,e){if(h&1&&(_(0,"div",30)(1,"div",31),P(2,"\u26A0"),x(),_(3,"span"),P(4),x()()),h&2){let n=N();y(4),R(n.error)}}function $t(h,e){h&1&&(_(0,"div",32),M(1,"div",33),_(2,"span"),P(3,"Loading audio..."),x()())}function qt(h,e){if(h&1&&(_(0,"div",38)(1,"div",39)(2,"h4",40),P(3),x(),_(4,"p",41),P(5),x()()()),h&2){let n=N(2);y(3),R(n.currentTrackInfo.title),y(2),R(n.currentTrackInfo.mainArtist)}}function Ut(h,e){if(h&1&&(_(0,"div",42)(1,"div",40),P(2),x(),_(3,"div",41),P(4),x()()),h&2){let n=N(2);y(2),R(n.getTrackName(n.currentTrack)),y(2),R(n.getArtistName())}}function Qt(h,e){if(h&1&&(_(0,"div",43),P(1),x()),h&2){let n=N(2);y(),vt(" ",n.currentSubtitle," ")}}function Wt(h,e){if(h&1&&(_(0,"div",34),Q(1,qt,6,2,"div",35)(2,Ut,5,2,"div",36)(3,Qt,2,1,"div",37),x()),h&2){let n=N();y(),C("ngIf",n.currentTrackInfo),y(),C("ngIf",!n.currentTrackInfo&&n.currentTrack),y(),C("ngIf",n.currentSubtitle&&!n.trackTitle&&!n.currentTrackInfo)}}var W=class W{constructor(e,n,o){this.audioService=e;this.dynamicArtistService=n;this.cdr=o;this.trackTitle="";this.trackArtist="";this.activeTrack=null;this.audio=null;this.destroy$=new H;this.isPlaying=!1;this.isLoading=!0;this.currentTrack="";this.currentTime=0;this.duration=0;this.volume=.1;this.previousVolume=.1;this.error="";this.currentSubtitle="";this.currentTrackInfo=null;this.allTracks=[];this.currentTrackIndex=0;this.isMuted=!1;this.hasUserInteracted=!1;this.diagnoseEnvironment()}diagnoseEnvironment(){console.group("[MusicPlayer] Environment Diagnosis"),console.log("User Agent:",navigator.userAgent),console.log("Location:",window.location.href),console.log("Base URL:",document.baseURI),console.log("Protocol:",window.location.protocol),console.log("Host:",window.location.host),console.log("Port:",window.location.port);let e="8. Evin a\u2019k - Trench.ogg";console.log("Unicode Test String:",e),console.log("Unicode Test Encoded:",encodeURIComponent(e)),console.log("Howler Audio Support:",{webAudio:window.Howler?.ctx!==null,html5:!0,codecs:{ogg:window.Howler?.codecs?.("audio/ogg")||"unknown",mp3:window.Howler?.codecs?.("audio/mpeg")||"unknown"}}),console.groupEnd()}ngOnInit(){this.initializeAudio()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.audio&&this.audio.unload()}initializeAudio(){this.dynamicArtistService.tracks$.pipe(X(this.destroy$)).subscribe(e=>{this.allTracks=e,e.length>0&&!this.currentTrackInfo&&(this.currentTrackInfo=e[0],this.currentTrackIndex=0,this.loadTrackFromInfo(this.currentTrackInfo),this.updateDynamicArtistTime()),this.cdr.markForCheck()}),this.dynamicArtistService.currentTrack$.pipe(X(this.destroy$)).subscribe(e=>{e&&e!==this.currentTrackInfo&&(this.currentTrackInfo=e,this.currentTrackIndex=this.allTracks.findIndex(n=>n.id===e.id),this.loadTrackFromInfo(e)),this.cdr.markForCheck()})}loadTrackFromInfo(e){this.isLoading=!0,this.currentTime=0,this.isPlaying=!1,this.error="",this.cdr.markForCheck(),this.audio&&this.audio.unload();let n;if(e.audioFile){let o=e.audioFile;console.log("[MusicPlayer] Original filename:",o),console.log("[MusicPlayer] Filename char codes:",[...o].map(l=>`${l}(${l.charCodeAt(0)})`).join(" "));let m=[()=>`assets/audio/Phantasia_2/${encodeURIComponent(o)}`,()=>{let l=o.replace(/'/g,"'");return`assets/audio/Phantasia_2/${encodeURIComponent(l)}`},()=>`assets/audio/Phantasia_2/${o.replace(/'/g,"%E2%80%99").replace(/ /g,"%20").replace(/\(/g,"%28").replace(/\)/g,"%29")}`,()=>`assets/audio/Phantasia_2/${o}`,()=>`/assets/audio/Phantasia_2/${encodeURIComponent(o)}`];n=m[0](),this._fallbackUrls=m.slice(1).map(l=>l()),this._currentStrategyIndex=0,this._trackInfo=e,console.log("[MusicPlayer] Prepared fallback URLs:"),this._fallbackUrls.forEach((l,g)=>{console.log(`  Strategy ${g+1}: ${l}`)})}else n=`assets/audio/Phantasia_2/${e.id}.ogg`,this._fallbackUrls=[];console.log("[MusicPlayer] Loading audio (Strategy 0):",n),e.id==="8"&&(console.group("[MusicPlayer] Track 8 Diagnostics"),console.log("Track ID:",e.id),console.log("Track Title:",e.title),console.log("Main Artist:",e.mainArtist),console.log("Audio File Mapping:",e.audioFile),console.log("Final Audio Source:",n),console.log("Browser Location:",window.location.href),console.groupEnd()),this.audio=new tt.Howl({src:[n],html5:!0,format:["ogg","mp3"],volume:this.volume,onload:()=>{this.isLoading=!1,this.duration=this.audio?.duration()||0,this.isMuted&&this.audio&&this.audio.volume(0),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(o,m)=>{console.error("[MusicPlayer] Error loading (Strategy "+(this._currentStrategyIndex||0)+"):",n,m),console.error("[MusicPlayer] Track info:",e);let l=this._fallbackUrls||[],g=this._currentStrategyIndex||0;if(g<l.length){console.log("[MusicPlayer] Attempting fallback strategy",g+1),this._currentStrategyIndex=g+1;let f=l[g];console.log("[MusicPlayer] Trying fallback URL:",f),this.audio&&this.audio.unload(),this.audio=new tt.Howl({src:[f],html5:!0,format:["ogg","mp3"],volume:this.volume,onload:()=>{console.log("[MusicPlayer] Fallback strategy successful!"),this.isLoading=!1,this.duration=this.audio?.duration()||0,this.isMuted&&this.audio&&this.audio.volume(0),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(p,w)=>{if(console.error("[MusicPlayer] Fallback also failed:",f,w),g>=l.length-1)this.error=`Failed to load track "${e.title}" by ${e.mainArtist}. Tried ${l.length+1} different URL encodings. Last error: ${w}`,this.isLoading=!1,this.cdr.markForCheck();else{this._currentStrategyIndex=g+1;let t=l[g+1];t&&(console.log("[MusicPlayer] Trying next fallback strategy:",g+2),this.tryLoadWithUrl(t,e))}}})}else this.error=`Failed to load track "${e.title}" by ${e.mainArtist}. All ${l.length+1} encoding strategies failed. Final error: ${m}`,this.isLoading=!1,this.cdr.markForCheck()}})}tryLoadWithUrl(e,n){this.audio&&this.audio.unload(),this.audio=new tt.Howl({src:[e],html5:!0,format:["ogg","mp3"],volume:this.volume,onload:()=>{console.log("[MusicPlayer] Fallback strategy successful!"),this.isLoading=!1,this.duration=this.audio?.duration()||0,this.isMuted&&this.audio&&this.audio.volume(0),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(o,m)=>{let l=this._fallbackUrls||[],g=this._currentStrategyIndex||0;if(console.error(`[MusicPlayer] Fallback strategy ${g+1} failed:`,e,m),g<l.length-1){this._currentStrategyIndex=g+1;let f=l[g];console.log(`[MusicPlayer] Trying next fallback strategy ${g+2}:`,f),this.tryLoadWithUrl(f,n)}else this.error=`Failed to load track "${n.title}" by ${n.mainArtist}. All ${l.length+1} encoding strategies failed. Final error: ${m}`,this.isLoading=!1,this.cdr.markForCheck()}})}loadTrack(e){this.isLoading=!0,this.currentTime=0,this.isPlaying=!1,this.cdr.markForCheck(),this.audio&&this.audio.unload(),this.audio=new tt.Howl({src:[e.url||e.title],html5:!0,onload:()=>{this.isLoading=!1,this.duration=this.audio?.duration()||0,this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(n,o)=>{this.error=`Failed to load track: ${o}`,this.isLoading=!1,this.cdr.markForCheck()}})}togglePlay(){this.audio&&(this.isPlaying?this.audio.pause():this.audio.play(),this.isPlaying=!this.isPlaying,this.cdr.markForCheck())}setVolume(e){this.audio&&(this.volume=e,e===0&&this.hasUserInteracted?this.isMuted=!0:e>0&&(this.isMuted=!1,this.previousVolume=e),this.audio.volume(e),this.cdr.markForCheck())}toggleMute(){this.audio&&(this.hasUserInteracted=!0,this.isMuted?(this.isMuted=!1,this.setVolume(this.previousVolume)):(this.isMuted=!0,this.volume>0&&(this.previousVolume=this.volume),this.setVolume(0)))}seek(e){this.audio&&(this.audio.seek(e),this.currentTime=e,this.cdr.markForCheck())}updateSubtitleFromFilename(e){if(e){let o=(e.split("/").pop()||"").replace(".mp3","").split(" - ");o.length>1?this.currentSubtitle=o[0]:this.currentSubtitle=""}}updateTime(){if(this.audio&&this.isPlaying){let e=this.audio.seek();this.currentTime=typeof e=="number"?e:0,this.updateDynamicArtistTime(),this.cdr.markForCheck(),requestAnimationFrame(()=>this.updateTime())}}updateDynamicArtistTime(){if(this.currentTrackInfo){let e=this.currentTrackInfo.startTime+this.currentTime;this.dynamicArtistService.updateCurrentTime(e)}}nextTrack(){if(this.isLoading||this.allTracks.length===0)return;let e=this.isPlaying,n=(this.currentTrackIndex+1)%this.allTracks.length,o=this.allTracks[n];if(o&&o.id!==this.currentTrackInfo?.id&&(this.currentTrackInfo=o,this.currentTrackIndex=n,this.dynamicArtistService.updateCurrentTime(o.startTime),this.loadTrackFromInfo(o),e)){let m=()=>{!this.isLoading&&this.audio?this.audio.play():this.error||setTimeout(m,100)};m()}}previousTrack(){if(this.isLoading||this.allTracks.length===0)return;let e=this.isPlaying,n=this.currentTrackIndex===0?this.allTracks.length-1:this.currentTrackIndex-1,o=this.allTracks[n];if(o&&o.id!==this.currentTrackInfo?.id&&(this.currentTrackInfo=o,this.currentTrackIndex=n,this.dynamicArtistService.updateCurrentTime(o.startTime),this.loadTrackFromInfo(o),e)){let m=()=>{!this.isLoading&&this.audio?this.audio.play():this.error||setTimeout(m,100)};m()}}formatTime(e){if(isNaN(e)||!isFinite(e)||e<0)return"0:00";let n=Math.floor(e/60),o=Math.floor(e%60);return`${n}:${o.toString().padStart(2,"0")}`}getTrackName(e){if(this.currentTrackInfo)return this.currentTrackInfo.title;if(this.trackTitle)return this.trackTitle;if(e){let n=e.split("/"),o=n[n.length-1].replace(/\.(mp3|ogg)$/,""),m=o.split(" - ");return m.length>1?m[1]:o}return"Unknown Track"}getArtistName(){if(this.currentTrackInfo)return this.currentTrackInfo.mainArtist;if(this.trackArtist)return this.trackArtist;if(this.currentTrack){let n=(this.currentTrack.split("/").pop()||"").replace(/\.(mp3|ogg)$/,"").split(" - ");if(n.length>1)return n[0]}return this.currentSubtitle||"Unknown Artist"}};W.\u0275fac=function(n){return new(n||W)(U(ot),U(rt),U(J))},W.\u0275cmp=j({type:W,selectors:[["app-music-player"]],inputs:{trackTitle:"trackTitle",trackArtist:"trackArtist",activeTrack:"activeTrack"},decls:32,vars:34,consts:[[1,"music-player-container"],[1,"player-backdrop"],[1,"music-player"],[1,"status-section"],["class","error-message",4,"ngIf"],["class","loading-indicator",4,"ngIf"],["class","track-section",4,"ngIf"],[1,"progress-section"],[1,"time-display"],[1,"current-time"],[1,"duration"],[1,"progress-container"],[1,"progress-track"],[1,"progress-fill"],["type","range","aria-label","Seek",1,"progress-slider",3,"input","min","max","step","value","disabled"],[1,"controls-section"],[1,"volume-section"],[1,"volume-icon-container",3,"click"],["alt","Volume",1,"volume-icon",3,"src"],[1,"volume-control"],[1,"volume-track"],[1,"volume-fill"],["type","range","aria-label","Volume",1,"volume-slider",3,"input","min","max","step","value","disabled"],[1,"playback-controls"],["aria-label","Previous track",1,"control-button","previous-button",3,"click","disabled"],["src","assets/icons/music-player/skip-back.svg","alt","Previous",1,"control-icon"],[1,"control-button","play-pause-button",3,"click","disabled"],[1,"control-icon",3,"src","alt"],["aria-label","Next track",1,"control-button","next-button",3,"click","disabled"],["src","assets/icons/music-player/skip-forward.svg","alt","Next",1,"control-icon"],[1,"error-message"],[1,"error-icon"],[1,"loading-indicator"],[1,"loading-spinner"],[1,"track-section"],["class","track-details",4,"ngIf"],["class","track-info",4,"ngIf"],["class","current-subtitle",4,"ngIf"],[1,"track-details"],[1,"track-info-content"],[1,"track-title"],[1,"track-artist"],[1,"track-info"],[1,"current-subtitle"]],template:function(n,o){n&1&&(_(0,"div",0),M(1,"div",1),_(2,"div",2)(3,"div",3),Q(4,Gt,5,1,"div",4)(5,$t,4,0,"div",5),x(),Q(6,Wt,4,3,"div",6),_(7,"div",7)(8,"div",8)(9,"span",9),P(10),x(),_(11,"span",10),P(12),x()(),_(13,"div",11)(14,"div",12),M(15,"div",13),_(16,"input",14),L("input",function(l){return o.seek(l.target.value)}),x()()()(),_(17,"div",15)(18,"div",16)(19,"div",17),L("click",function(){return o.toggleMute()}),M(20,"img",18),x(),_(21,"div",19)(22,"div",20),M(23,"div",21),_(24,"input",22),L("input",function(l){return o.setVolume(l.target.value)}),x()()()(),_(25,"div",23)(26,"button",24),L("click",function(){return o.previousTrack()}),M(27,"img",25),x(),_(28,"button",26),L("click",function(){return o.togglePlay()}),M(29,"img",27),x(),_(30,"button",28),L("click",function(){return o.nextTrack()}),M(31,"img",29),x()()()()()),n&2&&(y(4),C("ngIf",o.error),y(),C("ngIf",o.isLoading),y(),C("ngIf",!o.isLoading),y(),I("disabled",o.isLoading),y(3),R(o.formatTime(o.currentTime)),y(2),R(o.formatTime(o.duration)),y(3),Z("width",o.currentTime/o.duration*100,"%"),y(),C("min",0)("max",o.duration)("step",.01)("value",o.currentTime)("disabled",o.isLoading),y(),I("disabled",o.isLoading),y(3),I("muted",o.volume===0),C("src",o.volume===0?"assets/icons/music-player/volume-mute.svg":"assets/icons/music-player/volume.svg",st),y(3),Z("width",o.volume*100,"%"),y(),C("min",0)("max",1)("step",.01)("value",o.volume)("disabled",o.isLoading),y(2),C("disabled",o.isLoading),y(2),I("playing",o.isPlaying),C("disabled",o.isLoading),dt("aria-label",o.isPlaying?"Pause":"Play"),y(),C("src",o.isPlaying?"assets/icons/music-player/pause.svg":"assets/icons/music-player/play.svg",st)("alt",o.isPlaying?"Pause":"Play"),y(),C("disabled",o.isLoading))},dependencies:[it,yt,xt],styles:[".music-player-container[_ngcontent-%COMP%]{position:relative;width:100%;margin:0 0 2rem;padding:0;isolation:isolate;overflow-x:hidden!important;overflow-y:visible!important;box-sizing:border-box!important;max-width:100%!important}.music-player-container[_ngcontent-%COMP%]   .player-backdrop[_ngcontent-%COMP%]{position:absolute;inset:-4px 0;overflow:hidden!important;box-sizing:border-box!important;background:linear-gradient(135deg,#00000026,#0000002e,#00000038 50%,#00000040);backdrop-filter:blur(16px) saturate(1.4) brightness(1.1);-webkit-backdrop-filter:blur(16px) saturate(1.4) brightness(1.1);border-radius:20px;opacity:.8;z-index:-1}.music-player-container[_ngcontent-%COMP%]   .player-backdrop[_ngcontent-%COMP%]:before{display:none!important}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%;opacity:0}50%{left:100%;opacity:1}to{left:100%;opacity:0}}.music-player[_ngcontent-%COMP%]{position:relative;width:100%;background:linear-gradient(135deg,#ffffff1f,#ffffff14 25%,#ffffff0f 75%,#ffffff0a);backdrop-filter:blur(24px) saturate(1.6);-webkit-backdrop-filter:blur(24px) saturate(1.6);border:1px solid rgba(255,255,255,.15);border-radius:16px;overflow-x:hidden!important;overflow-y:visible!important;box-sizing:border-box!important;max-width:100%!important;box-shadow:0 12px 40px #00000040,0 4px 16px #00000026,0 2px 8px #0000001a,inset 0 1px #fff3,inset 0 -1px #ffffff1a;display:flex;flex-direction:column;gap:clamp(12px,2vw,20px);padding:clamp(16px,3vw,24px);font-family:Inter,Roboto,sans-serif;color:#fffffff2;font-size:16px;line-height:1.5;letter-spacing:.01em;transition:all .4s cubic-bezier(.19,1,.22,1)}.music-player[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 16px 48px #0000004d,0 6px 20px #0003,0 2px 8px #0000001a,inset 0 1px #ffffff40,inset 0 -1px #ffffff26}.status-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-height:0}.status-section[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:linear-gradient(135deg,#dc354526,#dc354514);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(220,53,69,.3);border-radius:8px;color:#ffffffe6;font-size:clamp(.85rem,1vw,1.1rem);font-weight:500}.status-section[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:16px;color:#ffc107e6}.status-section[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:16px;color:#fffc;font-size:clamp(.85rem,1vw,1.1rem);font-weight:400}.status-section[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.2);border-top:2px solid rgba(255,255,255,.8);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.track-section[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;gap:8px}.track-section[_ngcontent-%COMP%]   .track-details[_ngcontent-%COMP%]   .track-info-content[_ngcontent-%COMP%]   .track-title[_ngcontent-%COMP%]{font-size:clamp(1.4rem,2vw,2rem);font-weight:600;color:#fff;margin-bottom:4px;line-height:1.3;background:linear-gradient(135deg,#fff,#ffffffe6);-webkit-background-clip:text;background-clip:text;letter-spacing:.02em}.track-section[_ngcontent-%COMP%]   .track-details[_ngcontent-%COMP%]   .track-info-content[_ngcontent-%COMP%]   .track-artist[_ngcontent-%COMP%]{font-size:clamp(1.1rem,1.5vw,1.6rem);font-weight:400;color:#ffffffbf;line-height:1.4;font-style:italic;letter-spacing:.01em}.track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-title[_ngcontent-%COMP%]{font-size:clamp(1.4rem,2vw,2rem);font-weight:600;color:#fff;margin-bottom:4px;line-height:1.3;background:linear-gradient(135deg,#fff,#ffffffe6);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 2px 8px rgba(255,255,255,.1);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;letter-spacing:.02em}.track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-artist[_ngcontent-%COMP%]{font-size:clamp(1.1rem,1.5vw,1.6rem);font-weight:400;color:#ffffffbf;line-height:1.4;font-style:italic;letter-spacing:.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.track-section[_ngcontent-%COMP%]   .current-subtitle[_ngcontent-%COMP%]{font-size:clamp(.85rem,1vw,1.1rem);color:#fff9;font-weight:300;line-height:1.4;letter-spacing:.01em}.progress-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.progress-section.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.progress-section[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:clamp(.75rem,.9vw,.95rem);font-weight:400;color:#ffffffb3;font-variant-numeric:tabular-nums;letter-spacing:.02em}.progress-section[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%], .progress-section[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{padding:2px 4px;background:#ffffff0d;border-radius:4px;min-width:45px;text-align:center;font-family:Inter,monospace}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{position:relative;height:32px;display:flex;align-items:center}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]{position:relative;width:100%;height:6px;background:linear-gradient(90deg,#ffffff1a,#ffffff26,#ffffff1a);border-radius:3px;overflow:hidden;cursor:pointer;box-shadow:inset 0 1px 2px #0003,0 0 8px #ffffff0d}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#ffffffe6,#ffffffb3,#ffffffe6);border-radius:3px;transition:width .1s ease-out;box-shadow:0 0 12px #fff6,inset 0 1px #ffffff80}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]:after{display:none!important}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:32px;-webkit-appearance:none;background:transparent;outline:none;cursor:pointer;margin:0;padding:0;z-index:2}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:linear-gradient(135deg,#fffffff2,#fffc);border:2px solid rgba(255,255,255,.3);border-radius:50%;cursor:grab;transition:all .3s cubic-bezier(.19,1,.22,1);margin-top:-5px;box-shadow:0 4px 12px #0000004d,0 2px 6px #0003,inset 0 1px #ffffff80}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2);background:linear-gradient(135deg,#fff,#ffffffe6);box-shadow:0 6px 20px #0006,0 3px 10px #0000004d,0 0 16px #ffffff80,inset 0 1px #ffffffb3}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:active{cursor:grabbing;transform:scale(1.1)}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:6px;background:transparent;border-radius:3px}@keyframes _ngcontent-%COMP%_progressShimmer{0%{left:-100%;opacity:0}50%{left:100%;opacity:.6}to{left:100%;opacity:0}}.controls-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:clamp(16px,3vw,24px)}.controls-section.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:100px;flex:0 0 auto}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]{cursor:pointer;padding:6px;border-radius:6px;transition:all .3s cubic-bezier(.19,1,.22,1)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]   .volume-icon[_ngcontent-%COMP%]{width:18px;height:18px;filter:invert(1) opacity(.85);transition:all .3s cubic-bezier(.19,1,.22,1)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]   .volume-icon.muted[_ngcontent-%COMP%]{filter:invert(1) opacity(.6);transform:scale(.9)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]{flex:1;max-width:80px}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]{position:relative;width:100%;height:4px;background:linear-gradient(90deg,#ffffff26,#fff3,#ffffff26);border-radius:2px;overflow:hidden;cursor:pointer}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#ffffffb3,#ffffffe6);border-radius:2px;transition:width .2s ease-out;box-shadow:0 0 6px #ffffff4d}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]{position:absolute;top:-6px;left:0;width:100%;height:16px;-webkit-appearance:none;background:transparent;outline:none;cursor:pointer;margin:0;padding:0;z-index:2}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:12px;height:12px;background:#ffffffe6;border-radius:50%;cursor:pointer;transition:all .2s cubic-bezier(.19,1,.22,1);margin-top:-4px;box-shadow:0 2px 6px #0000004d,inset 0 1px #ffffff80}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.3);background:#fff;box-shadow:0 3px 10px #0006,0 0 12px #fff9,inset 0 1px #ffffffb3}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:4px;background:transparent;border-radius:2px}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:clamp(12px,2vw,16px);flex:1;max-width:180px}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{position:relative;border:none;background:linear-gradient(135deg,#ffffff26,#ffffff14,#ffffff0d);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.2);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .4s cubic-bezier(.19,1,.22,1);box-shadow:0 6px 20px #00000040,0 2px 8px #00000026,inset 0 1px #ffffff4d,inset 0 -1px #ffffff1a}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:18px;height:18px;filter:invert(1) opacity(.9);transition:all .3s cubic-bezier(.19,1,.22,1);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]{width:40px;height:40px}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%]:hover, .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:linear-gradient(135deg,#fff3,#ffffff1f,#ffffff14);box-shadow:0 8px 28px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 20px #ffffff26}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%]:active, .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]:active{transform:scale(1.05);transition-duration:.15s}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]{width:52px;height:52px;background:linear-gradient(135deg,#ffffff2e,#ffffff1f,#ffffff14);border-width:1.5px}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:22px;height:22px;filter:invert(1) opacity(.95)}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]:hover{transform:scale(1.08);background:linear-gradient(135deg,#ffffff40,#ffffff2e,#ffffff1f);box-shadow:0 12px 36px #00000059,0 6px 16px #00000040,inset 0 1px #ffffff80,inset 0 -1px #fff3,0 0 32px #fff3}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]:active{transform:scale(1.02);transition-duration:.15s}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button.playing[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff38,#ffffff26,#ffffff1a);box-shadow:0 8px 24px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 24px #ffffff2e;animation:_ngcontent-%COMP%_playingPulse 2s ease-in-out infinite}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;transform:none}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:disabled:hover{transform:none;background:linear-gradient(135deg,#ffffff14,#ffffff0d)}@keyframes _ngcontent-%COMP%_playingPulse{0%,to{box-shadow:0 8px 24px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 24px #ffffff2e}50%{box-shadow:0 8px 24px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 32px #ffffff40}}@media (max-width: 768px){.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]{padding:clamp(14px,4vw,20px);gap:clamp(10px,2.5vw,16px);border-radius:14px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-title[_ngcontent-%COMP%]{font-size:clamp(.95rem,1.2vw,1.3rem)}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-artist[_ngcontent-%COMP%]{font-size:clamp(.85rem,1vw,1.1rem)}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]{height:8px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]{height:36px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{width:18px;height:18px;margin-top:-5px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{gap:clamp(8px,3vw,16px)}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]{min-width:80px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]{max-width:60px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]{gap:clamp(8px,2.5vw,12px);max-width:160px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%], .music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]{width:36px;height:36px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%], .music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:16px;height:16px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]{width:46px;height:46px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 480px){.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]{padding:12px 16px;gap:8px;border-radius:12px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]{order:2;align-self:stretch;min-width:auto}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]{max-width:none;flex:1}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]{order:1;max-width:none;justify-content:center}}input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:16px;background:linear-gradient(135deg,#fffffff2,#fffc);border:2px solid rgba(255,255,255,.3);border-radius:50%;cursor:pointer;box-shadow:0 4px 12px #0000004d,0 2px 6px #0003,inset 0 1px #ffffff80;-moz-appearance:none}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb:hover{background:linear-gradient(135deg,#fff,#ffffffe6);box-shadow:0 6px 20px #0006,0 3px 10px #0000004d,0 0 16px #ffffff80,inset 0 1px #ffffffb3;transform:scale(1.2)}input[type=range][_ngcontent-%COMP%]::-moz-range-track{height:6px;background:linear-gradient(90deg,#ffffff1a,#ffffff26,#ffffff1a);border:none;border-radius:3px;-moz-appearance:none}input[type=range][_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}@media (prefers-reduced-motion: reduce){.music-player-container[_ngcontent-%COMP%]   .player-backdrop[_ngcontent-%COMP%]:before{animation:none}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]:after{animation:none}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{transition-duration:.2s}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button.playing[_ngcontent-%COMP%]{animation:none}@keyframes shimmer{0%,to{opacity:0}}@keyframes progressShimmer{0%,to{opacity:0}}@keyframes playingPulse{0%,to{opacity:1}}@keyframes spin{0%,to{transform:rotate(0)}}}"],changeDetection:0});var Ot=W;function Kt(h,e){if(h&1&&M(0,"div",24),h&2){let n=e.$implicit;Z("left",n.x+"vw")("top",n.y+"vh")("--move-x",n.moveX+"px")("--move-y",n.moveY+"px")("--scale",n.scale)("--base-opacity",n.opacity)("--rotation-offset",n.rotationOffset)("--delay",n.delay),I("clockwise",n.clockwise)("counter-clockwise",!n.clockwise)}}var K=class K{constructor(e){this.cdr=e;this._progress=0;this.progressText="0%";this.runes=[]}set progress(e){this._progress=e,this.progressText=`${Math.floor(e)}%`,this.cdr.markForCheck()}get progress(){return this._progress}ngOnInit(){this.generateRunePositions()}generateRunePositions(){this.runes=Array.from({length:48},()=>({x:Math.random()*100,y:Math.random()*100,scale:.6+Math.random()*1.4,delay:Math.random()*8,opacity:.3+Math.random()*.5,moveX:15+Math.random()*20,moveY:15+Math.random()*20,rotationOffset:Math.random()*360,clockwise:Math.random()<.5}))}};K.\u0275fac=function(n){return new(n||K)(U(J))},K.\u0275cmp=j({type:K,selectors:[["app-loading-screen"]],inputs:{progress:"progress"},decls:25,vars:3,consts:[[1,"loader-container"],[1,"magical-circle","outer"],[1,"magical-circle"],[1,"rune-effects"],[1,"decorative-elements"],[1,"corner-line","top-left"],[1,"corner-line","top-right"],[1,"corner-line","bottom-left"],[1,"corner-line","bottom-right"],[1,"mid-line","left"],[1,"mid-line","right"],[1,"mid-line","top"],[1,"mid-line","bottom"],[1,"light-beams"],[1,"beam","beam-1"],[1,"beam","beam-2"],[1,"beam","beam-3"],[1,"beam","beam-4"],[1,"rune-circle"],["class","rune",3,"clockwise","counter-clockwise","left","top","--move-x","--move-y","--scale","--base-opacity","--rotation-offset","--delay",4,"ngFor","ngForOf"],[1,"content"],[1,"logo-container"],["src","/assets/images/logos/prismcoll_logox_black_upright.svg","alt","Prismatic Collections",1,"logo"],[1,"loading-text"],[1,"rune"]],template:function(n,o){n&1&&(_(0,"div",0),M(1,"div",1)(2,"div",2)(3,"div",3),_(4,"div",4),M(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),x(),_(13,"div",13),M(14,"div",14)(15,"div",15)(16,"div",16)(17,"div",17),x(),_(18,"div",18),Q(19,Kt,1,20,"div",19),x(),_(20,"div",20)(21,"div",21),M(22,"img",22),x(),_(23,"div",23),P(24,"NOW LOADING"),x()()()),n&2&&(I("visible",!0),y(19),C("ngForOf",o.runes))},dependencies:[it,_t],styles:['.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#fff;opacity:0;pointer-events:none;transition:opacity .5s ease;z-index:99999;isolation:isolate;overflow:hidden;contain:layout size style}.loader-container.visible[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.logo-container[_ngcontent-%COMP%]{position:relative;z-index:10;margin-bottom:30px}.logo[_ngcontent-%COMP%]{width:240px;height:auto;display:block;margin:0 auto}.magical-circle[_ngcontent-%COMP%]{position:absolute;width:800px;height:800px;border:1px solid rgba(0,0,0,.1);border-radius:50%;animation:_ngcontent-%COMP%_rotate 20s linear infinite}.magical-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;border:2px solid transparent;border-top-color:#0003;border-radius:50%}.magical-circle[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-10px;border:1px solid transparent;border-left-color:#00000026;border-radius:50%}.magical-circle.outer[_ngcontent-%COMP%]{width:1000px;height:1000px;animation:_ngcontent-%COMP%_rotate 30s linear infinite reverse;opacity:.5}.decorative-elements[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;pointer-events:none}.corner-line[_ngcontent-%COMP%]{position:absolute;width:150px;height:150px;border:2px solid rgba(0,0,0,.15);border-radius:4px}.corner-line[_ngcontent-%COMP%]:before, .corner-line[_ngcontent-%COMP%]:after{content:"";position:absolute;background:linear-gradient(90deg,#0000001a,#0003)}.corner-line.top-left[_ngcontent-%COMP%]{top:50px;left:50px;border-right:none;border-bottom:none;animation:_ngcontent-%COMP%_pulse 3s infinite}.corner-line.top-right[_ngcontent-%COMP%]{top:50px;right:50px;border-left:none;border-bottom:none;animation:_ngcontent-%COMP%_pulse 3s infinite .75s}.corner-line.bottom-left[_ngcontent-%COMP%]{bottom:50px;left:50px;border-right:none;border-top:none;animation:_ngcontent-%COMP%_pulse 3s infinite 1.5s}.corner-line.bottom-right[_ngcontent-%COMP%]{bottom:50px;right:50px;border-left:none;border-top:none;animation:_ngcontent-%COMP%_pulse 3s infinite 2.25s}.mid-line[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;border:2px solid rgba(0,0,0,.15);border-radius:4px;animation:_ngcontent-%COMP%_pulse 3s infinite}.mid-line.left[_ngcontent-%COMP%]{left:50px;top:50%;transform:translateY(-50%);border-right:none;animation-delay:.5s}.mid-line.right[_ngcontent-%COMP%]{right:50px;top:50%;transform:translateY(-50%);border-left:none;animation-delay:1s}.mid-line.top[_ngcontent-%COMP%]{top:50px;left:50%;transform:translate(-50%);border-bottom:none;animation-delay:1.5s}.mid-line.bottom[_ngcontent-%COMP%]{bottom:50px;left:50%;transform:translate(-50%);border-top:none;animation-delay:2s}.rune-circle[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;pointer-events:none;overflow:hidden;left:0;top:0}.rune[_ngcontent-%COMP%]{position:absolute;width:18px;height:18px;background:linear-gradient(135deg,#0006,#3c3c3c4d);clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);transform-origin:center center;transform:translate(0) scale(var(--scale)) rotate(calc(var(--rotation-offset) * 1deg));opacity:var(--base-opacity);will-change:transform;animation:none}.rune.clockwise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rune-move-clockwise 8s infinite linear;animation-delay:calc(var(--delay) * -1s)}.rune.counter-clockwise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rune-move-counterclockwise 8s infinite linear;animation-delay:calc(var(--delay) * -1s)}.rune[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.6));mix-blend-mode:screen;animation:_ngcontent-%COMP%_sparkle 4s infinite linear}.rune[_ngcontent-%COMP%]:after{content:"";position:absolute;width:140%;height:140%;top:-20%;left:-20%;background:radial-gradient(circle at center,rgba(120,200,255,.15) 0%,rgba(70,150,255,.1) 30%,transparent 70%);mix-blend-mode:screen;opacity:.5}.rune-effects[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;pointer-events:none;mix-blend-mode:multiply;background:radial-gradient(circle at center,transparent 0%,rgba(0,0,0,.02) 50%,transparent 100%);animation:_ngcontent-%COMP%_effect-pulse-safe 8s infinite ease-in-out;left:0;top:0;contain:layout}.light-beams[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;pointer-events:none;mix-blend-mode:multiply}.beam[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(90deg,#0000001a,#28282826,#0000001a);mix-blend-mode:multiply}.beam.beam-1[_ngcontent-%COMP%]{width:600px;height:2px;animation:_ngcontent-%COMP%_beam-rotate 8s infinite linear,_ngcontent-%COMP%_beam-pulse 4s infinite ease-in-out}.beam.beam-2[_ngcontent-%COMP%]{width:400px;height:1px;animation:_ngcontent-%COMP%_beam-rotate 12s infinite linear reverse,_ngcontent-%COMP%_beam-pulse 6s infinite ease-in-out 1s}.beam.beam-3[_ngcontent-%COMP%]{width:300px;height:1px;animation:_ngcontent-%COMP%_beam-rotate 10s infinite linear,_ngcontent-%COMP%_beam-pulse 5s infinite ease-in-out 2s}.beam.beam-4[_ngcontent-%COMP%]{width:200px;height:1px;animation:_ngcontent-%COMP%_beam-rotate 14s infinite linear reverse,_ngcontent-%COMP%_beam-pulse 7s infinite ease-in-out 3s}.content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-text[_ngcontent-%COMP%]{margin-top:2rem;font-size:1rem;letter-spacing:.3em;text-transform:uppercase;color:#000000b3;font-family:Arial,sans-serif;font-weight:500}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.2}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_rune-move-clockwise{0%{transform:translate(0) scale(var(--scale)) rotate(calc(var(--rotation-offset) * 1deg))}25%{transform:translate(var(--move-x),var(--move-y)) scale(var(--scale)) rotate(calc((90 + var(--rotation-offset)) * 1deg))}50%{transform:translateY(var(--move-y)) scale(var(--scale)) rotate(calc((180 + var(--rotation-offset)) * 1deg))}75%{transform:translate(calc(var(--move-x) * -1)) scale(var(--scale)) rotate(calc((270 + var(--rotation-offset)) * 1deg))}to{transform:translate(0) scale(var(--scale)) rotate(calc((360 + var(--rotation-offset)) * 1deg))}}@keyframes _ngcontent-%COMP%_rune-move-counterclockwise{0%{transform:translate(0) scale(var(--scale)) rotate(calc(var(--rotation-offset) * 1deg))}25%{transform:translate(var(--move-x),var(--move-y)) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 90) * 1deg))}50%{transform:translateY(var(--move-y)) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 180) * 1deg))}75%{transform:translate(calc(var(--move-x) * -1)) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 270) * 1deg))}to{transform:translate(0) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 360) * 1deg))}}@keyframes _ngcontent-%COMP%_beam-rotate{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}@keyframes _ngcontent-%COMP%_beam-pulse{0%,to{opacity:.2;width:100%}50%{opacity:.5;width:120%}}@keyframes _ngcontent-%COMP%_sparkle{0%,to{opacity:.4;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_effect-pulse-safe{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_effect-pulse{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.1)}}'],changeDetection:0});var Tt=K;export{Xt as a,ne as b,qe as c,ot as d,rt as e,Ot as f,Tt as g};
