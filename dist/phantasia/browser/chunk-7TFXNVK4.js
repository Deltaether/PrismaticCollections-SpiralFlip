import{a as re,b as se,c as bt,d as Pt,e as Tt,f as ce,g as Ot,h as R,j as le}from"./chunk-GLTUL5G3.js";import{a as Mt,b as oe}from"./chunk-2FDJW6KL.js";import{$a as nt,C as ct,Ca as kt,Ea as U,G as F,Ga as Q,H,Ha as ut,I as j,Ia as pt,J as N,K as k,Ma as ht,Na as T,Oa as jt,Pa as E,Q as yt,Qa as W,R as lt,Ra as ie,W as xt,Y as te,_a as ft,a as V,aa as Ht,ab as Nt,b as _t,ca as x,d as Se,da as Y,db as ae,e as Ie,eb as ne,f as Qt,fa as ee,fb as At,ga as Ct,ha as G,i as q,j as M,jb as ot,ka as I,la as $,ma as dt,n as B,na as wt,o as Vt,oa as it,qa as at,t as Zt,ta as mt,v as Xt,wa as A,xa as y,y as Jt,ya as C,za as P}from"./chunk-IDH37QYW.js";var Ae=Se(Rt=>{"use strict";(function(){"use strict";var u=function(){this.init()};u.prototype={init:function(){var t=this||e;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator=typeof window<"u"&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var a=this||e;if(t=parseFloat(t),a.ctx||g(),typeof t<"u"&&t>=0&&t<=1){if(a._volume=t,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(t,e.ctx.currentTime);for(var o=0;o<a._howls.length;o++)if(!a._howls[o]._webAudio)for(var s=a._howls[o]._getSoundIds(),d=0;d<s.length;d++){var m=a._howls[o]._soundById(s[d]);m&&m._node&&(m._node.volume=m._volume*t)}return a}return a._volume},mute:function(t){var a=this||e;a.ctx||g(),a._muted=t,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(t?0:a._volume,e.ctx.currentTime);for(var o=0;o<a._howls.length;o++)if(!a._howls[o]._webAudio)for(var s=a._howls[o]._getSoundIds(),d=0;d<s.length;d++){var m=a._howls[o]._soundById(s[d]);m&&m._node&&(m._node.muted=t?!0:m._muted)}return a},stop:function(){for(var t=this||e,a=0;a<t._howls.length;a++)t._howls[a].stop();return t},unload:function(){for(var t=this||e,a=t._howls.length-1;a>=0;a--)t._howls[a].unload();return t.usingWebAudio&&t.ctx&&typeof t.ctx.close<"u"&&(t.ctx.close(),t.ctx=null,g()),t},codecs:function(t){return(this||e)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||e;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(t._canPlayEvent="canplay")}catch{t.noAudio=!0}else t.noAudio=!0;try{var a=new Audio;a.muted&&(t.noAudio=!0)}catch{}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||e,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return t}if(!a||typeof a.canPlayType!="function")return t;var o=a.canPlayType("audio/mpeg;").replace(/^no$/,""),s=t._navigator?t._navigator.userAgent:"",d=s.match(/OPR\/(\d+)/g),m=d&&parseInt(d[0].split("/")[1],10)<33,c=s.indexOf("Safari")!==-1&&s.indexOf("Chrome")===-1,b=s.match(/Version\/(.*?) /),v=c&&b&&parseInt(b[1],10)<15;return t._codecs={mp3:!!(!m&&(o||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!o,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!v&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!v&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||e;if(!(t._audioUnlocked||!t.ctx)){t._audioUnlocked=!1,t.autoUnlock=!1,!t._mobileUnloaded&&t.ctx.sampleRate!==44100&&(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var a=function(o){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var s=new Audio;s._unlocked=!0,t._releaseHtml5Audio(s)}catch{t.noAudio=!0;break}for(var d=0;d<t._howls.length;d++)if(!t._howls[d]._webAudio)for(var m=t._howls[d]._getSoundIds(),c=0;c<m.length;c++){var b=t._howls[d]._soundById(m[c]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}t._autoResume();var v=t.ctx.createBufferSource();v.buffer=t._scratchBuffer,v.connect(t.ctx.destination),typeof v.start>"u"?v.noteOn(0):v.start(0),typeof t.ctx.resume=="function"&&t.ctx.resume(),v.onended=function(){v.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var w=0;w<t._howls.length;w++)t._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),t}},_obtainHtml5Audio:function(){var t=this||e;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var a=this||e;return t._unlocked&&a._html5AudioPool.push(t),a},_autoSuspend:function(){var t=this;if(!(!t.autoSuspend||!t.ctx||typeof t.ctx.suspend>"u"||!e.usingWebAudio)){for(var a=0;a<t._howls.length;a++)if(t._howls[a]._webAudio){for(var o=0;o<t._howls[a]._sounds.length;o++)if(!t._howls[a]._sounds[o]._paused)return t}return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var s=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(s,s)}},3e4),t}},_autoResume:function(){var t=this;if(!(!t.ctx||typeof t.ctx.resume>"u"||!e.usingWebAudio))return t.state==="running"&&t.ctx.state!=="interrupted"&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):t.state==="suspended"||t.state==="running"&&t.ctx.state==="interrupted"?(t.ctx.resume().then(function(){t.state="running";for(var a=0;a<t._howls.length;a++)t._howls[a]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):t.state==="suspending"&&(t._resumeAfterSuspend=!0),t}};var e=new u,i=function(t){var a=this;if(!t.src||t.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(t)};i.prototype={init:function(t){var a=this;return e.ctx||g(),a._autoplay=t.autoplay||!1,a._format=typeof t.format!="string"?t.format:[t.format],a._html5=t.html5||!1,a._muted=t.mute||!1,a._loop=t.loop||!1,a._pool=t.pool||5,a._preload=typeof t.preload=="boolean"||t.preload==="metadata"?t.preload:!0,a._rate=t.rate||1,a._sprite=t.sprite||{},a._src=typeof t.src!="string"?t.src:[t.src],a._volume=t.volume!==void 0?t.volume:1,a._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:t.xhr&&t.xhr.withCredentials?t.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=t.onend?[{fn:t.onend}]:[],a._onfade=t.onfade?[{fn:t.onfade}]:[],a._onload=t.onload?[{fn:t.onload}]:[],a._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],a._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],a._onpause=t.onpause?[{fn:t.onpause}]:[],a._onplay=t.onplay?[{fn:t.onplay}]:[],a._onstop=t.onstop?[{fn:t.onstop}]:[],a._onmute=t.onmute?[{fn:t.onmute}]:[],a._onvolume=t.onvolume?[{fn:t.onvolume}]:[],a._onrate=t.onrate?[{fn:t.onrate}]:[],a._onseek=t.onseek?[{fn:t.onseek}]:[],a._onunlock=t.onunlock?[{fn:t.onunlock}]:[],a._onresume=[],a._webAudio=e.usingWebAudio&&!a._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var t=this,a=null;if(e.noAudio){t._emit("loaderror",null,"No audio support.");return}typeof t._src=="string"&&(t._src=[t._src]);for(var o=0;o<t._src.length;o++){var s,d;if(t._format&&t._format[o])s=t._format[o];else{if(d=t._src[o],typeof d!="string"){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}s=/^data:audio\/([^;,]+);/i.exec(d),s||(s=/\.([^.]+)$/.exec(d.split("?",1)[0])),s&&(s=s[1].toLowerCase())}if(s||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),s&&e.codecs(s)){a=t._src[o];break}}if(!a){t._emit("loaderror",null,"No codec support for selected audio sources.");return}return t._src=a,t._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(t._html5=!0,t._webAudio=!1),new n(t),t._webAudio&&l(t),t},play:function(t,a){var o=this,s=null;if(typeof t=="number")s=t,t=null;else{if(typeof t=="string"&&o._state==="loaded"&&!o._sprite[t])return null;if(typeof t>"u"&&(t="__default",!o._playLock)){for(var d=0,m=0;m<o._sounds.length;m++)o._sounds[m]._paused&&!o._sounds[m]._ended&&(d++,s=o._sounds[m]._id);d===1?t=null:s=null}}var c=s?o._soundById(s):o._inactiveSound();if(!c)return null;if(s&&!t&&(t=c._sprite||"__default"),o._state!=="loaded"){c._sprite=t,c._ended=!1;var b=c._id;return o._queue.push({event:"play",action:function(){o.play(b)}}),b}if(s&&!c._paused)return a||o._loadQueue("play"),c._id;o._webAudio&&e._autoResume();var v=Math.max(0,c._seek>0?c._seek:o._sprite[t][0]/1e3),w=Math.max(0,(o._sprite[t][0]+o._sprite[t][1])/1e3-v),D=w*1e3/Math.abs(c._rate),z=o._sprite[t][0]/1e3,K=(o._sprite[t][0]+o._sprite[t][1])/1e3;c._sprite=t,c._ended=!1;var S=function(){c._paused=!1,c._seek=v,c._start=z,c._stop=K,c._loop=!!(c._loop||o._sprite[t][2])};if(v>=K){o._ended(c);return}var _=c._node;if(o._webAudio){var Kt=function(){o._playLock=!1,S(),o._refreshBuffer(c);var et=c._muted||o._muted?0:c._volume;_.gain.setValueAtTime(et,e.ctx.currentTime),c._playStart=e.ctx.currentTime,typeof _.bufferSource.start>"u"?c._loop?_.bufferSource.noteGrainOn(0,v,86400):_.bufferSource.noteGrainOn(0,v,w):c._loop?_.bufferSource.start(0,v,86400):_.bufferSource.start(0,v,w),D!==1/0&&(o._endTimers[c._id]=setTimeout(o._ended.bind(o,c),D)),a||setTimeout(function(){o._emit("play",c._id),o._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?Kt():(o._playLock=!0,o.once("resume",Kt),o._clearTimer(c._id))}else{var qt=function(){_.currentTime=v,_.muted=c._muted||o._muted||e._muted||_.muted,_.volume=c._volume*e.volume(),_.playbackRate=c._rate;try{var et=_.play();if(et&&typeof Promise<"u"&&(et instanceof Promise||typeof et.then=="function")?(o._playLock=!0,S(),et.then(function(){o._playLock=!1,_._unlocked=!0,a?o._loadQueue():o._emit("play",c._id)}).catch(function(){o._playLock=!1,o._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),c._ended=!0,c._paused=!0})):a||(o._playLock=!1,S(),o._emit("play",c._id)),_.playbackRate=c._rate,_.paused){o._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}t!=="__default"||c._loop?o._endTimers[c._id]=setTimeout(o._ended.bind(o,c),D):(o._endTimers[c._id]=function(){o._ended(c),_.removeEventListener("ended",o._endTimers[c._id],!1)},_.addEventListener("ended",o._endTimers[c._id],!1))}catch(Oe){o._emit("playerror",c._id,Oe)}};_.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(_.src=o._src,_.load());var Te=window&&window.ejecta||!_.readyState&&e._navigator.isCocoonJS;if(_.readyState>=3||Te)qt();else{o._playLock=!0,o._state="loading";var Yt=function(){o._state="loaded",qt(),_.removeEventListener(e._canPlayEvent,Yt,!1)};_.addEventListener(e._canPlayEvent,Yt,!1),o._clearTimer(c._id)}}return c._id},pause:function(t){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(t)}}),a;for(var o=a._getSoundIds(t),s=0;s<o.length;s++){a._clearTimer(o[s]);var d=a._soundById(o[s]);if(d&&!d._paused&&(d._seek=a.seek(o[s]),d._rateSeek=0,d._paused=!0,a._stopFade(o[s]),d._node))if(a._webAudio){if(!d._node.bufferSource)continue;typeof d._node.bufferSource.stop>"u"?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),a._cleanBuffer(d._node)}else(!isNaN(d._node.duration)||d._node.duration===1/0)&&d._node.pause();arguments[1]||a._emit("pause",d?d._id:null)}return a},stop:function(t,a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"stop",action:function(){o.stop(t)}}),o;for(var s=o._getSoundIds(t),d=0;d<s.length;d++){o._clearTimer(s[d]);var m=o._soundById(s[d]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,o._stopFade(s[d]),m._node&&(o._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),o._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&o._clearSound(m._node))),a||o._emit("stop",m._id))}return o},mute:function(t,a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"mute",action:function(){o.mute(t,a)}}),o;if(typeof a>"u")if(typeof t=="boolean")o._muted=t;else return o._muted;for(var s=o._getSoundIds(a),d=0;d<s.length;d++){var m=o._soundById(s[d]);m&&(m._muted=t,m._interval&&o._stopFade(m._id),o._webAudio&&m._node?m._node.gain.setValueAtTime(t?0:m._volume,e.ctx.currentTime):m._node&&(m._node.muted=e._muted?!0:t),o._emit("mute",m._id))}return o},volume:function(){var t=this,a=arguments,o,s;if(a.length===0)return t._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var d=t._getSoundIds(),m=d.indexOf(a[0]);m>=0?s=parseInt(a[0],10):o=parseFloat(a[0])}else a.length>=2&&(o=parseFloat(a[0]),s=parseInt(a[1],10));var c;if(typeof o<"u"&&o>=0&&o<=1){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,a)}}),t;typeof s>"u"&&(t._volume=o),s=t._getSoundIds(s);for(var b=0;b<s.length;b++)c=t._soundById(s[b]),c&&(c._volume=o,a[2]||t._stopFade(s[b]),t._webAudio&&c._node&&!c._muted?c._node.gain.setValueAtTime(o,e.ctx.currentTime):c._node&&!c._muted&&(c._node.volume=o*e.volume()),t._emit("volume",c._id))}else return c=s?t._soundById(s):t._sounds[0],c?c._volume:0;return t},fade:function(t,a,o,s){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"fade",action:function(){d.fade(t,a,o,s)}}),d;t=Math.min(Math.max(0,parseFloat(t)),1),a=Math.min(Math.max(0,parseFloat(a)),1),o=parseFloat(o),d.volume(t,s);for(var m=d._getSoundIds(s),c=0;c<m.length;c++){var b=d._soundById(m[c]);if(b){if(s||d._stopFade(m[c]),d._webAudio&&!b._muted){var v=e.ctx.currentTime,w=v+o/1e3;b._volume=t,b._node.gain.setValueAtTime(t,v),b._node.gain.linearRampToValueAtTime(a,w)}d._startFadeInterval(b,t,a,o,m[c],typeof s>"u")}}return d},_startFadeInterval:function(t,a,o,s,d,m){var c=this,b=a,v=o-a,w=Math.abs(v/.01),D=Math.max(4,w>0?s/w:s),z=Date.now();t._fadeTo=o,t._interval=setInterval(function(){var K=(Date.now()-z)/s;z=Date.now(),b+=v*K,b=Math.round(b*100)/100,v<0?b=Math.max(o,b):b=Math.min(o,b),c._webAudio?t._volume=b:c.volume(b,t._id,!0),m&&(c._volume=b),(o<a&&b<=o||o>a&&b>=o)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,c.volume(o,t._id),c._emit("fade",t._id))},D)},_stopFade:function(t){var a=this,o=a._soundById(t);return o&&o._interval&&(a._webAudio&&o._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(o._interval),o._interval=null,a.volume(o._fadeTo,t),o._fadeTo=null,a._emit("fade",t)),a},loop:function(){var t=this,a=arguments,o,s,d;if(a.length===0)return t._loop;if(a.length===1)if(typeof a[0]=="boolean")o=a[0],t._loop=o;else return d=t._soundById(parseInt(a[0],10)),d?d._loop:!1;else a.length===2&&(o=a[0],s=parseInt(a[1],10));for(var m=t._getSoundIds(s),c=0;c<m.length;c++)d=t._soundById(m[c]),d&&(d._loop=o,t._webAudio&&d._node&&d._node.bufferSource&&(d._node.bufferSource.loop=o,o&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop,t.playing(m[c])&&(t.pause(m[c],!0),t.play(m[c],!0)))));return t},rate:function(){var t=this,a=arguments,o,s;if(a.length===0)s=t._sounds[0]._id;else if(a.length===1){var d=t._getSoundIds(),m=d.indexOf(a[0]);m>=0?s=parseInt(a[0],10):o=parseFloat(a[0])}else a.length===2&&(o=parseFloat(a[0]),s=parseInt(a[1],10));var c;if(typeof o=="number"){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,a)}}),t;typeof s>"u"&&(t._rate=o),s=t._getSoundIds(s);for(var b=0;b<s.length;b++)if(c=t._soundById(s[b]),c){t.playing(s[b])&&(c._rateSeek=t.seek(s[b]),c._playStart=t._webAudio?e.ctx.currentTime:c._playStart),c._rate=o,t._webAudio&&c._node&&c._node.bufferSource?c._node.bufferSource.playbackRate.setValueAtTime(o,e.ctx.currentTime):c._node&&(c._node.playbackRate=o);var v=t.seek(s[b]),w=(t._sprite[c._sprite][0]+t._sprite[c._sprite][1])/1e3-v,D=w*1e3/Math.abs(c._rate);(t._endTimers[s[b]]||!c._paused)&&(t._clearTimer(s[b]),t._endTimers[s[b]]=setTimeout(t._ended.bind(t,c),D)),t._emit("rate",c._id)}}else return c=t._soundById(s),c?c._rate:t._rate;return t},seek:function(){var t=this,a=arguments,o,s;if(a.length===0)t._sounds.length&&(s=t._sounds[0]._id);else if(a.length===1){var d=t._getSoundIds(),m=d.indexOf(a[0]);m>=0?s=parseInt(a[0],10):t._sounds.length&&(s=t._sounds[0]._id,o=parseFloat(a[0]))}else a.length===2&&(o=parseFloat(a[0]),s=parseInt(a[1],10));if(typeof s>"u")return 0;if(typeof o=="number"&&(t._state!=="loaded"||t._playLock))return t._queue.push({event:"seek",action:function(){t.seek.apply(t,a)}}),t;var c=t._soundById(s);if(c)if(typeof o=="number"&&o>=0){var b=t.playing(s);b&&t.pause(s,!0),c._seek=o,c._ended=!1,t._clearTimer(s),!t._webAudio&&c._node&&!isNaN(c._node.duration)&&(c._node.currentTime=o);var v=function(){b&&t.play(s,!0),t._emit("seek",s)};if(b&&!t._webAudio){var w=function(){t._playLock?setTimeout(w,0):v()};setTimeout(w,0)}else v()}else if(t._webAudio){var D=t.playing(s)?e.ctx.currentTime-c._playStart:0,z=c._rateSeek?c._rateSeek-c._seek:0;return c._seek+(z+D*Math.abs(c._rate))}else return c._node.currentTime;return t},playing:function(t){var a=this;if(typeof t=="number"){var o=a._soundById(t);return o?!o._paused:!1}for(var s=0;s<a._sounds.length;s++)if(!a._sounds[s]._paused)return!0;return!1},duration:function(t){var a=this,o=a._duration,s=a._soundById(t);return s&&(o=a._sprite[s._sprite][1]/1e3),o},state:function(){return this._state},unload:function(){for(var t=this,a=t._sounds,o=0;o<a.length;o++)a[o]._paused||t.stop(a[o]._id),t._webAudio||(t._clearSound(a[o]._node),a[o]._node.removeEventListener("error",a[o]._errorFn,!1),a[o]._node.removeEventListener(e._canPlayEvent,a[o]._loadFn,!1),a[o]._node.removeEventListener("ended",a[o]._endFn,!1),e._releaseHtml5Audio(a[o]._node)),delete a[o]._node,t._clearTimer(a[o]._id);var s=e._howls.indexOf(t);s>=0&&e._howls.splice(s,1);var d=!0;for(o=0;o<e._howls.length;o++)if(e._howls[o]._src===t._src||t._src.indexOf(e._howls[o]._src)>=0){d=!1;break}return r&&d&&delete r[t._src],e.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,a,o,s){var d=this,m=d["_on"+t];return typeof a=="function"&&m.push(s?{id:o,fn:a,once:s}:{id:o,fn:a}),d},off:function(t,a,o){var s=this,d=s["_on"+t],m=0;if(typeof a=="number"&&(o=a,a=null),a||o)for(m=0;m<d.length;m++){var c=o===d[m].id;if(a===d[m].fn&&c||!a&&c){d.splice(m,1);break}}else if(t)s["_on"+t]=[];else{var b=Object.keys(s);for(m=0;m<b.length;m++)b[m].indexOf("_on")===0&&Array.isArray(s[b[m]])&&(s[b[m]]=[])}return s},once:function(t,a,o){var s=this;return s.on(t,a,o,1),s},_emit:function(t,a,o){for(var s=this,d=s["_on"+t],m=d.length-1;m>=0;m--)(!d[m].id||d[m].id===a||t==="load")&&(setTimeout((function(c){c.call(this,a,o)}).bind(s,d[m].fn),0),d[m].once&&s.off(t,d[m].fn,d[m].id));return s._loadQueue(t),s},_loadQueue:function(t){var a=this;if(a._queue.length>0){var o=a._queue[0];o.event===t&&(a._queue.shift(),a._loadQueue()),t||o.action()}return a},_ended:function(t){var a=this,o=t._sprite;if(!a._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(a._ended.bind(a,t),100),a;var s=!!(t._loop||a._sprite[o][2]);if(a._emit("end",t._id),!a._webAudio&&s&&a.stop(t._id,!0).play(t._id),a._webAudio&&s){a._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=e.ctx.currentTime;var d=(t._stop-t._start)*1e3/Math.abs(t._rate);a._endTimers[t._id]=setTimeout(a._ended.bind(a,t),d)}return a._webAudio&&!s&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,a._clearTimer(t._id),a._cleanBuffer(t._node),e._autoSuspend()),!a._webAudio&&!s&&a.stop(t._id,!0),a},_clearTimer:function(t){var a=this;if(a._endTimers[t]){if(typeof a._endTimers[t]!="function")clearTimeout(a._endTimers[t]);else{var o=a._soundById(t);o&&o._node&&o._node.removeEventListener("ended",a._endTimers[t],!1)}delete a._endTimers[t]}return a},_soundById:function(t){for(var a=this,o=0;o<a._sounds.length;o++)if(t===a._sounds[o]._id)return a._sounds[o];return null},_inactiveSound:function(){var t=this;t._drain();for(var a=0;a<t._sounds.length;a++)if(t._sounds[a]._ended)return t._sounds[a].reset();return new n(t)},_drain:function(){var t=this,a=t._pool,o=0,s=0;if(!(t._sounds.length<a)){for(s=0;s<t._sounds.length;s++)t._sounds[s]._ended&&o++;for(s=t._sounds.length-1;s>=0;s--){if(o<=a)return;t._sounds[s]._ended&&(t._webAudio&&t._sounds[s]._node&&t._sounds[s]._node.disconnect(0),t._sounds.splice(s,1),o--)}}},_getSoundIds:function(t){var a=this;if(typeof t>"u"){for(var o=[],s=0;s<a._sounds.length;s++)o.push(a._sounds[s]._id);return o}else return[t]},_refreshBuffer:function(t){var a=this;return t._node.bufferSource=e.ctx.createBufferSource(),t._node.bufferSource.buffer=r[a._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,e.ctx.currentTime),a},_cleanBuffer:function(t){var a=this,o=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!t.bufferSource)return a;if(e._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),o))try{t.bufferSource.buffer=e._scratchBuffer}catch{}return t.bufferSource=null,a},_clearSound:function(t){var a=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);a||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var n=function(t){this._parent=t,this.init()};n.prototype={init:function(){var t=this,a=t._parent;return t._muted=a._muted,t._loop=a._loop,t._volume=a._volume,t._rate=a._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,a._sounds.push(t),t.create(),t},create:function(){var t=this,a=t._parent,o=e._muted||t._muted||t._parent._muted?0:t._volume;return a._webAudio?(t._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),t._node.gain.setValueAtTime(o,e.ctx.currentTime),t._node.paused=!0,t._node.connect(e.masterGain)):e.noAudio||(t._node=e._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(e._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=a._src,t._node.preload=a._preload===!0?"auto":a._preload,t._node.volume=o*e.volume(),t._node.load()),t},reset:function(){var t=this,a=t._parent;return t._muted=a._muted,t._loop=a._loop,t._volume=a._volume,t._rate=a._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,a=t._parent;a._duration=Math.ceil(t._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),t._node.removeEventListener(e._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,a=t._parent;a._duration===1/0&&(a._duration=Math.ceil(t._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var r={},l=function(t){var a=t._src;if(r[a]){t._duration=r[a].duration,f(t);return}if(/^data:[^;]+;base64,/.test(a)){for(var o=atob(a.split(",")[1]),s=new Uint8Array(o.length),d=0;d<o.length;++d)s[d]=o.charCodeAt(d);h(s.buffer,t)}else{var m=new XMLHttpRequest;m.open(t._xhr.method,a,!0),m.withCredentials=t._xhr.withCredentials,m.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(c){m.setRequestHeader(c,t._xhr.headers[c])}),m.onload=function(){var c=(m.status+"")[0];if(c!=="0"&&c!=="2"&&c!=="3"){t._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}h(m.response,t)},m.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete r[a],t.load())},p(m)}},p=function(t){try{t.send()}catch{t.onerror()}},h=function(t,a){var o=function(){a._emit("loaderror",null,"Decoding audio data failed.")},s=function(d){d&&a._sounds.length>0?(r[a._src]=d,f(a,d)):o()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(t).then(s).catch(o):e.ctx.decodeAudioData(t,s,o)},f=function(t,a){a&&!t._duration&&(t._duration=a.duration),Object.keys(t._sprite).length===0&&(t._sprite={__default:[0,t._duration*1e3]}),t._state!=="loaded"&&(t._state="loaded",t._emit("load"),t._loadQueue())},g=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),a=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=a?parseInt(a[1],10):null;if(t&&o&&o<9){var s=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!s&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:i}}),typeof Rt<"u"&&(Rt.Howler=e,Rt.Howl=i),typeof global<"u"?(global.HowlerGlobal=u,global.Howler=e,global.Howl=i,global.Sound=n):typeof window<"u"&&(window.HowlerGlobal=u,window.Howler=e,window.Howl=i,window.Sound=n)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var n=i._howls.length-1;n>=0;n--)i._howls[n].stereo(e);return i},HowlerGlobal.prototype.pos=function(e,i,n){var r=this;if(!r.ctx||!r.ctx.listener)return r;if(i=typeof i!="number"?r._pos[1]:i,n=typeof n!="number"?r._pos[2]:n,typeof e=="number")r._pos=[e,i,n],typeof r.ctx.listener.positionX<"u"?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]);else return r._pos;return r},HowlerGlobal.prototype.orientation=function(e,i,n,r,l,p){var h=this;if(!h.ctx||!h.ctx.listener)return h;var f=h._orientation;if(i=typeof i!="number"?f[1]:i,n=typeof n!="number"?f[2]:n,r=typeof r!="number"?f[3]:r,l=typeof l!="number"?f[4]:l,p=typeof p!="number"?f[5]:p,typeof e=="number")h._orientation=[e,i,n,r,l,p],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(e,i,n,r,l,p);else return f;return h},Howl.prototype.init=(function(e){return function(i){var n=this;return n._orientation=i.orientation||[1,0,0],n._stereo=i.stereo||null,n._pos=i.pos||null,n._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},n._onstereo=i.onstereo?[{fn:i.onstereo}]:[],n._onpos=i.onpos?[{fn:i.onpos}]:[],n._onorientation=i.onorientation?[{fn:i.onorientation}]:[],e.call(this,i)}})(Howl.prototype.init),Howl.prototype.stereo=function(e,i){var n=this;if(!n._webAudio)return n;if(n._state!=="loaded")return n._queue.push({event:"stereo",action:function(){n.stereo(e,i)}}),n;var r=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof e=="number")n._stereo=e,n._pos=[e,0,0];else return n._stereo;for(var l=n._getSoundIds(i),p=0;p<l.length;p++){var h=n._soundById(l[p]);if(h)if(typeof e=="number")h._stereo=e,h._pos=[e,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&u(h,r),r==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(e,0,0):h._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",h._id);else return h._stereo}return n},Howl.prototype.pos=function(e,i,n,r){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(e,i,n,r)}}),l;if(i=typeof i!="number"?0:i,n=typeof n!="number"?-.5:n,typeof r>"u")if(typeof e=="number")l._pos=[e,i,n];else return l._pos;for(var p=l._getSoundIds(r),h=0;h<p.length;h++){var f=l._soundById(p[h]);if(f)if(typeof e=="number")f._pos=[e,i,n],f._node&&((!f._panner||f._panner.pan)&&u(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):f._panner.setPosition(e,i,n)),l._emit("pos",f._id);else return f._pos}return l},Howl.prototype.orientation=function(e,i,n,r){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(e,i,n,r)}}),l;if(i=typeof i!="number"?l._orientation[1]:i,n=typeof n!="number"?l._orientation[2]:n,typeof r>"u")if(typeof e=="number")l._orientation=[e,i,n];else return l._orientation;for(var p=l._getSoundIds(r),h=0;h<p.length;h++){var f=l._soundById(p[h]);if(f)if(typeof e=="number")f._orientation=[e,i,n],f._node&&(f._panner||(f._pos||(f._pos=l._pos||[0,0,-.5]),u(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):f._panner.setOrientation(e,i,n)),l._emit("orientation",f._id);else return f._orientation}return l},Howl.prototype.pannerAttr=function(){var e=this,i=arguments,n,r,l;if(!e._webAudio)return e;if(i.length===0)return e._pannerAttr;if(i.length===1)if(typeof i[0]=="object")n=i[0],typeof r>"u"&&(n.pannerAttr||(n.pannerAttr={coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,distanceModel:n.distanceModel,maxDistance:n.maxDistance,refDistance:n.refDistance,rolloffFactor:n.rolloffFactor,panningModel:n.panningModel}),e._pannerAttr={coneInnerAngle:typeof n.pannerAttr.coneInnerAngle<"u"?n.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof n.pannerAttr.coneOuterAngle<"u"?n.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof n.pannerAttr.coneOuterGain<"u"?n.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof n.pannerAttr.distanceModel<"u"?n.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof n.pannerAttr.maxDistance<"u"?n.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof n.pannerAttr.refDistance<"u"?n.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof n.pannerAttr.rolloffFactor<"u"?n.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof n.pannerAttr.panningModel<"u"?n.pannerAttr.panningModel:e._panningModel});else return l=e._soundById(parseInt(i[0],10)),l?l._pannerAttr:e._pannerAttr;else i.length===2&&(n=i[0],r=parseInt(i[1],10));for(var p=e._getSoundIds(r),h=0;h<p.length;h++)if(l=e._soundById(p[h]),l){var f=l._pannerAttr;f={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:f.coneOuterGain,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:f.distanceModel,maxDistance:typeof n.maxDistance<"u"?n.maxDistance:f.maxDistance,refDistance:typeof n.refDistance<"u"?n.refDistance:f.refDistance,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:f.rolloffFactor,panningModel:typeof n.panningModel<"u"?n.panningModel:f.panningModel};var g=l._panner;g||(l._pos||(l._pos=e._pos||[0,0,-.5]),u(l,"spatial"),g=l._panner),g.coneInnerAngle=f.coneInnerAngle,g.coneOuterAngle=f.coneOuterAngle,g.coneOuterGain=f.coneOuterGain,g.distanceModel=f.distanceModel,g.maxDistance=f.maxDistance,g.refDistance=f.refDistance,g.rolloffFactor=f.rolloffFactor,g.panningModel=f.panningModel}return e},Sound.prototype.init=(function(e){return function(){var i=this,n=i._parent;i._orientation=n._orientation,i._stereo=n._stereo,i._pos=n._pos,i._pannerAttr=n._pannerAttr,e.call(this),i._stereo?n.stereo(i._stereo):i._pos&&n.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(e){return function(){var i=this,n=i._parent;return i._orientation=n._orientation,i._stereo=n._stereo,i._pos=n._pos,i._pannerAttr=n._pannerAttr,i._stereo?n.stereo(i._stereo):i._pos?n.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,n._refreshBuffer(i)),e.call(this)}})(Sound.prototype.reset);var u=function(e,i){i=i||"spatial",i==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()});var oi=(()=>{class u{static \u0275fac=function(n){return new(n||u)};static \u0275mod=$({type:u});static \u0275inj=H({imports:[R,R]})}return u})();var Ee=new j("MATERIAL_ANIMATIONS");var ue=null;function De(){return k(Ee,{optional:!0})?.animationsDisabled||k(te,{optional:!0})==="NoopAnimations"?"di-disabled":(ue??=k(oe).matchMedia("(prefers-reduced-motion)").matches,ue?"reduced-motion":"enabled")}function St(){return De()!=="enabled"}var L=(function(u){return u[u.FADING_IN=0]="FADING_IN",u[u.VISIBLE=1]="VISIBLE",u[u.FADING_OUT=2]="FADING_OUT",u[u.HIDDEN=3]="HIDDEN",u})(L||{}),Gt=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=L.HIDDEN;constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},pe=Pt({passive:!0,capture:!0}),$t=class{_events=new Map;addHandler(e,i,n,r){let l=this._events.get(i);if(l){let p=l.get(n);p?p.add(r):l.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,pe)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let l=r.get(i);l&&(l.delete(n),l.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,pe)))}_delegateEventHandler=e=>{let i=bt(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(l=>l.handleEvent(e))})}},gt={enterDuration:225,exitDuration:150},Fe=800,he=Pt({passive:!0,capture:!0}),fe=["mousedown","touchstart"],be=["mouseup","mouseleave","touchend","touchcancel"],Re=(()=>{class u{static \u0275fac=function(n){return new(n||u)};static \u0275cmp=I({type:u,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return u})(),It=class u{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new $t;constructor(e,i,n,r,l){this._target=e,this._ngZone=i,this._platform=r,r.isBrowser&&(this._containerElement=Tt(n)),l&&l.get(Ot).load(Re)}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=V(V({},gt),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let p=n.radius||Le(e,i,r),h=e-r.left,f=i-r.top,g=l.enterDuration,t=document.createElement("div");t.classList.add("mat-ripple-element"),t.style.left=`${h-p}px`,t.style.top=`${f-p}px`,t.style.height=`${p*2}px`,t.style.width=`${p*2}px`,n.color!=null&&(t.style.backgroundColor=n.color),t.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(t);let a=window.getComputedStyle(t),o=a.transitionProperty,s=a.transitionDuration,d=o==="none"||s==="0s"||s==="0s, 0s"||r.width===0&&r.height===0,m=new Gt(this,t,n,d);t.style.transform="scale3d(1, 1, 1)",m.state=L.FADING_IN,n.persistent||(this._mostRecentTransientRipple=m);let c=null;return!d&&(g||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>{c&&(c.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(m)},v=()=>this._destroyRipple(m),w=setTimeout(v,g+100);t.addEventListener("transitionend",b),t.addEventListener("transitioncancel",v),c={onTransitionEnd:b,onTransitionCancel:v,fallbackTimer:w}}),this._activeRipples.set(m,c),(d||!g)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(e.state===L.FADING_OUT||e.state===L.HIDDEN)return;let i=e.element,n=V(V({},gt),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=L.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=Tt(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,fe.forEach(n=>{u._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{be.forEach(i=>{this._triggerElement.addEventListener(i,this,he)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===L.FADING_IN?this._startFadeOutTransition(e):e.state===L.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=L.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=L.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),e.element.remove()}_onMousedown(e){let i=re(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Fe;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!se(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===L.VISIBLE||e.config.terminateOnPointerUp&&e.state===L.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(fe.forEach(i=>u._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(be.forEach(i=>e.removeEventListener(i,this,he)),this._pointerUpEventsRegistered=!1))}};function Le(u,e,i){let n=Math.max(Math.abs(u-i.left),Math.abs(u-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var ge=new j("mat-ripple-global-options");var Be={capture:!0},ze=["focus","mousedown","mouseenter","touchstart"],Ut="mat-ripple-loader-uninitialized",Wt="mat-ripple-loader-class-name",ve="mat-ripple-loader-centered",Et="mat-ripple-loader-disabled",_e=(()=>{class u{_document=k(lt);_animationsDisabled=St();_globalRippleOptions=k(ge,{optional:!0});_platform=k(Mt);_ngZone=k(at);_injector=k(yt);_eventCleanups;_hosts=new Map;constructor(){let i=k(ee).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>ze.map(n=>i.listen(this._document,n,this._onInteraction,Be)))}ngOnDestroy(){let i=this._hosts.keys();for(let n of i)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(i,n){i.setAttribute(Ut,this._globalRippleOptions?.namespace??""),(n.className||!i.hasAttribute(Wt))&&i.setAttribute(Wt,n.className||""),n.centered&&i.setAttribute(ve,""),n.disabled&&i.setAttribute(Et,"")}setDisabled(i,n){let r=this._hosts.get(i);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(i))):n?i.setAttribute(Et,""):i.removeAttribute(Et)}_onInteraction=i=>{let n=bt(i);if(n instanceof HTMLElement){let r=n.closest(`[${Ut}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(i){if(!this._document||this._hosts.has(i))return;i.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",i.getAttribute(Wt)),i.append(n);let r=this._globalRippleOptions,l=this._animationsDisabled?0:r?.animation?.enterDuration??gt.enterDuration,p=this._animationsDisabled?0:r?.animation?.exitDuration??gt.exitDuration,h={rippleDisabled:this._animationsDisabled||r?.disabled||i.hasAttribute(Et),rippleConfig:{centered:i.hasAttribute(ve),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:l,exitDuration:p}}},f=new It(h,this._ngZone,n,this._platform,this._injector),g=!h.rippleDisabled;g&&f.setupTriggerEvents(i),this._hosts.set(i,{target:h,renderer:f,hasSetUpEvents:g}),i.removeAttribute(Ut)}destroyRipple(i){let n=this._hosts.get(i);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(i))}static \u0275fac=function(n){return new(n||u)};static \u0275prov=F({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var ye=(()=>{class u{static \u0275fac=function(n){return new(n||u)};static \u0275cmp=I({type:u,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return u})();var Ve=["mat-icon-button",""],He=["*"],je=new j("MAT_BUTTON_CONFIG");function xe(u){return u==null?void 0:Nt(u)}var Ce=(()=>{class u{_elementRef=k(xt);_ngZone=k(at);_animationsDisabled=St();_config=k(je,{optional:!0});_focusMonitor=k(ce);_cleanupClick;_renderer=k(Ct);_rippleLoader=k(_e);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(i){this.tabIndex=i}constructor(){k(Ot).load(ye);let i=this._elementRef.nativeElement;this._isAnchor=i.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",i=>{this.disabled&&(i.preventDefault(),i.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||u)};static \u0275dir=dt({type:u,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,r){n&2&&(mt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),jt(r.color?"mat-"+r.color:""),T("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",nt],disabled:[2,"disabled","disabled",nt],ariaDisabled:[2,"aria-disabled","ariaDisabled",nt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",nt],tabIndex:[2,"tabIndex","tabIndex",xe],_tabindex:[2,"tabindex","_tabindex",xe]}})}return u})(),Ne=(()=>{class u extends Ce{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||u)};static \u0275cmp=I({type:u,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[wt],attrs:Ve,ngContentSelectors:He,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(ut(),kt(0,"span",0),pt(1),kt(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return u})();var Dt=(()=>{class u{static \u0275fac=function(n){return new(n||u)};static \u0275mod=$({type:u});static \u0275inj=H({imports:[R,R]})}return u})();var na=(()=>{class u{static \u0275fac=function(n){return new(n||u)};static \u0275mod=$({type:u});static \u0275inj=H({imports:[R,Dt,R]})}return u})();var we=(()=>{class u{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||u)};static \u0275prov=F({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var $e=new j("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var Ba=(()=>{class u{static \u0275fac=function(n){return new(n||u)};static \u0275mod=$({type:u});static \u0275inj=H({providers:[we,{provide:$e,useValue:{separatorKeyCodes:[13]}}],imports:[R,Dt,R]})}return u})();var Z=class Z{constructor(e){this.http=e;this.destroy$=new q;this.isDebugMode=!0;this.audio=null;this.currentTrack=null;this._isPlaying=!1;this.volume=1;this.progress=0;this.isLoading=!1;this.TRACKS={introduction:{title:"Introduction",artist:"An",id:"intro",url:"assets/audio/An - Incident.mp3"},"disc-1":{title:"I can avoid it",artist:"Feryquitous",id:"disc1",url:"assets/audio/Feryquitous - i can avoid it.mp3"},"disc-2":{title:"Quantum Resonance",artist:"An",id:"disc2",url:"assets/audio/An - Quantum Resonance.mp3"},pv:{title:"Neural Network",artist:"Feryquitous",id:"pv",url:"assets/audio/Feryquitous - Neural Network.mp3"},information:{title:"Digital Entropy",artist:"An \xD7 Feryquitous",id:"info",url:"assets/audio/An \xD7 Feryquitous - Digital Entropy.mp3"}};this.audioStateSubject=new M({isPlaying:!1,currentTrack:null,volume:1,progress:0,loading:!1});this.audioEventSubject=new M({type:"pause"});this.errorSubject=new q;this.currentTrackSubject=new M("");this.currentTrack$=this.currentTrackSubject.asObservable();this.audioFiles=[];this.sectionTracks={introduction:"An - Incident.mp3","disc-1":"Feryquitous - i can avoid it.mp3","disc-2":"An - Quantum Resonance.mp3",pv:"Feryquitous - Neural Network.mp3",information:"An \xD7 Feryquitous - Digital Entropy.mp3"};this.uiSounds={"menu-click":"assets/audio/ui/menu-click.mp3","page-turn":"assets/audio/ui/page-turn.mp3",success:"assets/audio/ui/success.mp3",error:"assets/audio/ui/error.mp3"};this.loadAudioFiles(),this.initializeAudio(),this.isDebugMode&&console.log("[AudioService] Initialized")}loadAudioFiles(){return Qt(this,null,function*(){try{this.audioFiles.push(...Object.values(this.sectionTracks).map(e=>`assets/audio/${e}`)),this.audioFiles.length>0&&this.currentTrackSubject.next(this.audioFiles[0]),this.isDebugMode&&console.log("[AudioService] Audio files loaded:",this.audioFiles)}catch(e){this.handleError("LOAD_ERROR",`Failed to load audio files: ${e instanceof Error?e.message:String(e)}`)}})}initializeAudio(){this.audio=new Audio,this.setupAudioEventListeners()}setupAudioEventListeners(){if(!this.audio){this.handleError("LOAD_ERROR","Audio element not initialized");return}this.audio.addEventListener("timeupdate",()=>{this.audio&&(this.progress=this.audio.duration?this.audio.currentTime/this.audio.duration*100:0,this.updateAudioState(),this.audioEventSubject.next({type:"timeupdate",data:this.progress}))}),this.audio.addEventListener("ended",()=>{this._isPlaying=!1,this.updateAudioState(),this.audioEventSubject.next({type:"ended"})}),this.audio.addEventListener("error",e=>{let i=e;this.handleError("LOAD_ERROR",`Failed to load audio: ${i.message||"Unknown error"}`),this.audioEventSubject.next({type:"error",data:i.message})}),this.audio.addEventListener("loadstart",()=>{this.isLoading=!0,this.updateAudioState(),this.audioEventSubject.next({type:"loading"})}),this.audio.addEventListener("canplay",()=>{this.isLoading=!1,this.updateAudioState(),this.audioEventSubject.next({type:"loaded"})}),this.audio.addEventListener("play",()=>{this._isPlaying=!0,this.updateAudioState(),this.audioEventSubject.next({type:"play"})}),this.audio.addEventListener("pause",()=>{this._isPlaying=!1,this.updateAudioState(),this.audioEventSubject.next({type:"pause"})})}updateAudioState(){this.audioStateSubject.next({isPlaying:this._isPlaying,currentTrack:this.currentTrack,volume:this.volume,progress:this.progress,loading:this.isLoading})}handleError(e,i){this.isDebugMode&&console.error(`[AudioService] ${e}: ${i}`),this.errorSubject.next({type:e,message:i})}setTrackForSection(e){let i=this.TRACKS[e];if(!i){this.handleError("LOAD_ERROR",`No track found for section: ${e}`);return}this.currentTrack?.id!==i.id&&(this.isDebugMode&&console.log(`[AudioService] Setting track for section: ${e}`,i),this.currentTrack=i,this.loadTrack(i),this.currentTrackSubject.next(i.url))}loadTrack(e){if(!this.audio){this.handleError("LOAD_ERROR","Audio element not initialized");return}this.isLoading=!0,this.updateAudioState(),this.audio.src=e.url;try{this.audio.load()}catch(i){this.handleError("LOAD_ERROR",`Failed to load track: ${i instanceof Error?i.message:String(i)}`)}}play(){if(!this.audio){this.handleError("PLAY_ERROR","Audio element not initialized");return}if(!this.currentTrack){this.handleError("PLAY_ERROR","No track selected");return}this.isDebugMode&&console.log("[AudioService] Playing audio:",this.currentTrack.title),this.audio.play().then(()=>{this._isPlaying=!0,this.updateAudioState()}).catch(e=>{this.handleError("PLAY_ERROR",`Failed to play audio: ${e instanceof Error?e.message:String(e)}`)})}pause(){if(!this.audio){this.handleError("PAUSE_ERROR","Audio element not initialized");return}this.isDebugMode&&console.log("[AudioService] Pausing audio"),this.audio.pause(),this._isPlaying=!1,this.updateAudioState()}togglePlay(){this._isPlaying?this.pause():this.play()}setVolume(e){if(!this.audio){this.handleError("PAUSE_ERROR","Audio element not initialized");return}this.volume=Math.max(0,Math.min(1,e)),this.audio.volume=this.volume,this.updateAudioState(),this.isDebugMode&&console.log(`[AudioService] Volume set to: ${this.volume}`)}getCurrentState(){return this.audioStateSubject.asObservable()}getAudioEvents(){return this.audioEventSubject.asObservable()}onPlayStateChange(){return this.getCurrentState().pipe(B(e=>e.isPlaying))}onTrackChange(){return this.currentTrack$}onLoadingStateChange(){return this.getCurrentState().pipe(B(e=>e.loading))}getProgress(){return!this.audio||!this.audio.duration?0:this.audio.currentTime/this.audio.duration}getErrors(){return this.errorSubject.asObservable()}isPlaying(){return this._isPlaying}getCurrentTrack(){return this.currentTrackSubject.value}getNextTrack(){let e=this.audioFiles.indexOf(this.currentTrackSubject.value);if(e<this.audioFiles.length-1){let i=this.audioFiles[e+1];return this.currentTrackSubject.next(i),i}return null}getPreviousTrack(){let e=this.audioFiles.indexOf(this.currentTrackSubject.value);if(e>0){let i=this.audioFiles[e-1];return this.currentTrackSubject.next(i),i}return null}getTrackList(){return this.audioFiles}getCurrentIndex(){return this.audioFiles.indexOf(this.currentTrackSubject.value)}playUISound(e){if(!this.uiSounds[e]){this.handleError("UI_SOUND_ERROR",`UI sound not found: ${e}`);return}try{let i=new Audio(this.uiSounds[e]);i.volume=.5,i.play().catch(n=>{this.handleError("UI_SOUND_ERROR",`Error playing UI sound: ${n instanceof Error?n.message:String(n)}`)})}catch(i){this.handleError("UI_SOUND_ERROR",`Failed to create UI sound: ${i instanceof Error?i.message:String(i)}`)}}playTrack(e){if(!this.audio){this.handleError("PLAY_ERROR","Audio element not initialized");return}this.isDebugMode&&console.log(`[AudioService] Playing track from source: ${e}`),this.currentTrackSubject.next(e),this.isLoading=!0,this.updateAudioState(),this.audio.src=e,this.audio.play().then(()=>{this._isPlaying=!0,this.updateAudioState()}).catch(i=>{this.handleError("PLAY_ERROR",`Error playing track: ${i instanceof Error?i.message:String(i)}`)})}pauseTrack(){this.pause()}resumeTrack(){this.play()}ngOnDestroy(){this.isDebugMode&&console.log("[AudioService] Destroying service"),this.audio&&(this.audio.onended=null,this.audio.ontimeupdate=null,this.audio.onerror=null,this.audio.oncanplay=null,this.audio.onloadstart=null,this.audio.pause(),this.audio.src="",this.audio=null),this.audioStateSubject.complete(),this.audioEventSubject.complete(),this.currentTrackSubject.complete(),this.errorSubject.complete(),this.destroy$.next(),this.destroy$.complete()}};Z.\u0275fac=function(i){return new(i||Z)(N(ot))},Z.\u0275prov=F({token:Z,factory:Z.\u0275fac,providedIn:"root"});var Ft=Z;var vt=Ie(Ae());var X=class X{constructor(e){this.http=e;this.tracksWithCreditsSubject=new M([]);this.currentTrackCreditsSubject=new M(null);this.verificationStatusSubject=new M([]);this.tracksWithCredits$=this.tracksWithCreditsSubject.asObservable();this.currentTrackCredits$=this.currentTrackCreditsSubject.asObservable();this.verificationStatus$=this.verificationStatusSubject.asObservable();this.completeArtistDatabase={SpiralFlip:{displayName:"SpiralFlip",avatar:"/assets/images/artists/SpiralFlip.png",color:"#FF6B6B",primaryRoles:["Main Artist","Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@SpiralFlip",carrd:"https://spiralflip.carrd.co/"},bio:"Electronic music producer and Phantasia compilation curator"},eili:{displayName:"eili",avatar:"/assets/images/artists/Eili.png",color:"#4ECDC4",primaryRoles:["Vocalist","Featured Artist"],socialLinks:{youtube:"https://www.youtube.com/@EiliYT",twitter:"https://x.com/frenlize"},bio:"Versatile vocalist featured on multiple Phantasia tracks"},Ariatec:{displayName:"Ariatec",avatar:"/assets/images/artists/Ariatec.png",color:"#45B7D1",primaryRoles:["Composer","Sound Designer"],socialLinks:{youtube:"https://www.youtube.com/@musicbyariatec",reelcrafter:"https://play.reelcrafter.com/KLSound/port"},bio:"Ambient and cinematic composer"},MB:{displayName:"MBgov",avatar:"/assets/images/artists/MBgov.png",color:"#96CEB4",primaryRoles:["Composer","Arranger"],socialLinks:{youtube:"https://www.youtube.com/@MBMichael",twitter:"https://x.com/MBgov1133"},bio:"Orchestral composer and arranger"},"Iku Hoshifuri":{displayName:"Iku Hoshifuri",avatar:"/assets/images/artists/Iku-Hoshifuri.png",color:"#FFEAA7",primaryRoles:["Vocalist","Featured Artist"],socialLinks:{youtube:"https://www.youtube.com/@IkuHoshifuri",linktr:"https://lit.link/en/ikuhoshifuri"},bio:"Japanese vocalist and J-Pop artist"},"Justin Thornburgh":{displayName:"Justin Thornburgh",avatar:"/assets/images/artists/Justin-Thornburgh.png",color:"#DDA0DD",primaryRoles:["Accordion","Instrumentalist"],socialLinks:{twitter:"https://x.com/JustinThornbur7"},bio:"Accordion performer and folk musician"},v1ris:{displayName:"v1ris",avatar:"/assets/images/artists/v1ris.png",color:"#F8B500",primaryRoles:["Violin","Instrumentalist"],socialLinks:{website:"https://v1ris.com/",youtube:"https://www.youtube.com/@v1ris_music"},bio:"Classical violinist and string arranger"},"Rita Kamishiro":{displayName:"Rita Kamishiro",avatar:"/assets/images/artists/Rita-Kamishiro.png",color:"#E17055",primaryRoles:["Viola","Instrumentalist"],socialLinks:{youtube:"https://www.youtube.com/@RitaKamishiro",carrd:"https://ritakamishiro.carrd.co/"},bio:"Classical viola performer"},"Marcus Ho":{displayName:"Marcus Ho",avatar:"/assets/images/artists/Marcus-Ho.png",color:"#6C5CE7",primaryRoles:["Cello","Instrumentalist"],socialLinks:{website:"https://www.marcushomusic.com/"},bio:"Professional cellist and composer"},AZALI:{displayName:"AZALI",avatar:"/assets/images/artists/AZALI.png",color:"#A29BFE",primaryRoles:["Electronic Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@AZALI00013",twitter:"https://x.com/AZALI00013"},bio:"Experimental electronic music producer"},Aloysius:{displayName:"Aloysius",avatar:"/assets/images/artists/Aloysius.png",color:"#FD79A8",primaryRoles:["Electronic Producer","Sound Designer"],socialLinks:{youtube:"https://www.youtube.com/@aloysius3264",twitter:"https://x.com/Aloysiu04138577"},bio:"Ambient electronic producer"},potatoTeto:{displayName:"potatoTeto",avatar:"/assets/images/artists/potatoTeto.png",color:"#00B894",primaryRoles:["Sound Designer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@potatoteto",website:"https://www.potatoteto.com/"},bio:"Ambient and experimental sound designer"},Artisan:{displayName:"Artisan",avatar:"/assets/images/artists/Artisan.png",color:"#E84393",primaryRoles:["Electronic Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@artisan1233",twitter:"https://x.com/artisan1233"},bio:"Melodic electronic music producer"},"Mei Naganowa":{displayName:"Mei Naganowa",avatar:"/assets/images/artists/Mei-Naganowa.png",color:"#00CEC9",primaryRoles:["Synthesizer V Operator","Producer"],socialLinks:{twitter:"https://x.com/ReeKDoesDTM"},bio:"Synthesizer V specialist and vocal producer"},"Evin a'k":{displayName:"Evin a'k",avatar:"/assets/images/artists/Evin-ak.png",color:"#FDCB6E",primaryRoles:["Electronic Producer","Bass"],socialLinks:{youtube:"https://www.youtube.com/@Evin_a_k",twitter:"https://x.com/evin_a_k?lang=en"},bio:"Bass-heavy electronic music producer"},BilliumMoto:{displayName:"BilliumMoto",avatar:"/assets/images/artists/BilliumMoto.png",color:"#74B9FF",primaryRoles:["Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@BilliumMoto",twitter:"https://x.com/BilliumMoto"},bio:"Lofi and chill music producer"},"Elliot Hsu":{displayName:"Elliot Hsu",avatar:"/assets/images/artists/Elliot-Hsu.png",color:"#55A3FF",primaryRoles:["Electronic Producer","Sound Designer"],socialLinks:{youtube:"https://www.youtube.com/@ElliotHsu",twitter:"https://x.com/Leigendar"},bio:"Ambient electronic producer"},Yuzuki:{displayName:"Yuzuki",avatar:"/assets/images/artists/Yuzuki.png",color:"#FF7675",primaryRoles:["Synthesizer V Operator","Producer"],socialLinks:{youtube:"https://www.youtube.com/@yuzukimasu",linktr:"https://linktr.ee/yuzukimasu"},bio:"Synthesizer V producer and composer"},LucaProject:{displayName:"LucaProject",avatar:"/assets/images/artists/LucaProject.png",color:"#6C5CE7",primaryRoles:["Electronic Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@lucaproject6108",carrd:"https://lucaproject.carrd.co/"},bio:"Melodic electronic music producer"},Koway:{displayName:"Koway",avatar:"/assets/images/artists/Koway.png",color:"#A29BFE",primaryRoles:["Electronic Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@KOWAYmusic",instagram:"https://www.instagram.com/koway_music/",twitter:"https://x.com/kowaymusic"},bio:"Experimental electronic composer"},\u4F0D\u4E00:{displayName:"\u4F0D\u4E00",avatar:"/assets/images/artists/Wu-Yi.png",color:"#FFEAA7",primaryRoles:["Vocalist","Featured Artist"],socialLinks:{youtube:"https://www.youtube.com/@dreamer051",twitch:"https://www.twitch.tv/dreamer051/about"},bio:"Chinese vocalist and electronic artist"},Nstryder:{displayName:"Nstryder",avatar:"/assets/images/artists/Nstryder.png",color:"#E17055",primaryRoles:["Electronic Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@nstryder-music",bandcamp:"https://nstryder.bandcamp.com/"},bio:"Hardcore electronic music producer"},MoAE:{displayName:"MoAE:.",avatar:"/assets/images/artists/MoAE.png",color:"#00B894",primaryRoles:["Electronic Producer","Sound Designer"],socialLinks:{youtube:"https://www.youtube.com/@moae00",website:"https://moae.jimdosite.com/"},bio:"Ambient electronic producer"},"dystopian tanuki":{displayName:"dystopian tanuki",avatar:"/assets/images/artists/dystopian-tanuki.png",color:"#636E72",primaryRoles:["Sound Designer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@dystopiantanuki",twitter:"https://x.com/DystopianTanuki"},bio:"Experimental ambient composer"},Heem:{displayName:"Heem",avatar:"/assets/images/artists/Heem.png",color:"#FD79A8",primaryRoles:["Electronic Producer","Composer"],socialLinks:{linktr:"https://linktr.ee/heeem"},bio:"Melodic electronic producer"},Woojinee:{displayName:"Woojinee",avatar:"/assets/images/artists/Woojinee.png",color:"#E84393",primaryRoles:["Violin","Instrumentalist"],socialLinks:{instagram:"https://www.instagram.com/wooj1nee?igsh=czUwcXg3aWh6NmM5&utm_source=qr"},bio:"Classical violinist"},"Bigg Milk":{displayName:"Bigg Milk",avatar:"/assets/images/artists/Bigg-Milk.png",color:"#00CEC9",primaryRoles:["Electronic Producer","Composer"],socialLinks:{youtube:"https://www.youtube.com/@BiggMilk",twitter:"https://x.com/milk_bigg"},bio:"Chill electronic music producer"},Gardens:{displayName:"Gardens",avatar:"/assets/images/artists/Gardens.png",color:"#00B894",primaryRoles:["Electronic Producer","Sound Designer"],socialLinks:{youtube:"https://www.youtube.com/@gardens5812",website:"https://gardensdtm.com/"},bio:"Ambient electronic producer"},"Sad Keyboard Guy":{displayName:"Sad Keyboard Guy",avatar:"/assets/images/artists/Sad-Keyboard-Guy.png",color:"#74B9FF",primaryRoles:["Keyboard","Composer"],socialLinks:{youtube:"https://www.youtube.com/@SadKeyboardGuy",carrd:"https://sadkeyboardguy.carrd.co/"},bio:"Emotional keyboard composer"},Futsuunohito:{displayName:"Futsuunohito",avatar:"/assets/images/artists/Futsuunohito.png",color:"#A29BFE",primaryRoles:["Electronic Producer","Sound Designer"],socialLinks:{youtube:"https://www.youtube.com/@futsuunohito",carrd:"https://futsuunohito.crd.co/"},bio:"Cinematic electronic composer"},shishishiena:{displayName:"shishishiena",avatar:"/assets/images/artists/shishishiena.png",color:"#FFEAA7",primaryRoles:["Voice Actor","Vocalist"],socialLinks:{youtube:"https://www.youtube.com/@shishishiena",website:"https://www.shishishiena.com/"},bio:"Voice actor and vocal performer"}};this.initializeCompleteCredits()}initializeCompleteCredits(){let e=this.createCompleteTrackCredits();this.tracksWithCreditsSubject.next(e);let i=this.createVerificationStatuses();this.verificationStatusSubject.next(i)}updateCurrentTrack(e){let n=this.tracksWithCreditsSubject.value.find(r=>r.id===e);this.currentTrackCreditsSubject.next(n||null)}getTrackCredits(e){return this.tracksWithCreditsSubject.value.find(n=>n.id===e)||null}getAllPhantasia2Artists(){let e=this.tracksWithCreditsSubject.value,i=new Map;return e.forEach(n=>{n.allContributions.forEach(r=>{i.has(r.artistName)||i.set(r.artistName,r)})}),Array.from(i.values()).sort((n,r)=>n.artistDisplayName.localeCompare(r.artistDisplayName))}getArtistData(e){let i=this.completeArtistDatabase[e];return i?_t(V({},i),{avatar:i.avatar}):null}getVerificationReport(){return this.verificationStatus$.pipe(B(e=>{let i=e.length,n=e.filter(h=>h.fullyVerified).length,r=e.filter(h=>!h.fullyVerified&&(h.allContributorsIdentified||h.rolesAccuratelyAssigned)).length,l=i-n-r,p=Math.round(n/i*100);return{totalTracks:i,fullyVerified:n,partiallyVerified:r,needsWork:l,verificationPercentage:p}}))}createCompleteTrackCredits(){return[{id:"1",title:"Blinding Dawn",trackNumber:1,startTime:0,endTime:168,audioFile:"1. SpiralFlip - Blinding Dawn feat. eili.ogg",mainArtist:this.createArtistContribution("SpiralFlip","Main Artist","Primary",60),allContributions:[this.createArtistContribution("SpiralFlip","Main Artist","Primary",60,"Original composition and production"),this.createArtistContribution("eili","Featured Artist","Featured",40,"Lead vocals and melody")],featuredArtists:[this.createArtistContribution("eili","Featured Artist","Featured",40)],collaborators:[],instrumentalists:[],vocalists:[this.createArtistContribution("eili","Vocalist","Featured",40)],technicalCredits:[this.createArtistContribution("SpiralFlip","Producer","Primary",100)]},{id:"3",title:"\u6681\u306E\u59EB",trackNumber:3,startTime:344,endTime:518,audioFile:"3. MB -  \u6681\u306E\u59EB feat. Iku Hoshifuri.ogg",mainArtist:this.createArtistContribution("MB","Main Artist","Primary",40),allContributions:[this.createArtistContribution("MB","Main Artist","Primary",40,"Orchestral composition and arrangement"),this.createArtistContribution("Iku Hoshifuri","Featured Artist","Featured",30,"Japanese vocals"),this.createArtistContribution("Justin Thornburgh","Accordion","Additional",10,"Accordion performance"),this.createArtistContribution("v1ris","Violin","Additional",8,"Violin performance"),this.createArtistContribution("Rita Kamishiro","Viola","Additional",7,"Viola performance"),this.createArtistContribution("Marcus Ho","Cello","Additional",5,"Cello performance")],featuredArtists:[this.createArtistContribution("Iku Hoshifuri","Featured Artist","Featured",30)],collaborators:[],instrumentalists:[this.createArtistContribution("Justin Thornburgh","Accordion","Additional",10),this.createArtistContribution("v1ris","Violin","Additional",8),this.createArtistContribution("Rita Kamishiro","Viola","Additional",7),this.createArtistContribution("Marcus Ho","Cello","Additional",5)],vocalists:[this.createArtistContribution("Iku Hoshifuri","Vocalist","Featured",30)],technicalCredits:[this.createArtistContribution("MB","Arranger","Primary",100)]},{id:"2",title:"Ariatec Track",trackNumber:2,startTime:168,endTime:344,audioFile:"2. Ariatec Track.ogg",mainArtist:this.createArtistContribution("Ariatec","Main Artist","Primary",80),allContributions:[this.createArtistContribution("Ariatec","Main Artist","Primary",80,"Ambient composition and sound design"),this.createArtistContribution("AZALI","Electronic Producer","Collaboration",20,"Electronic elements")],featuredArtists:[],collaborators:[this.createArtistContribution("AZALI","Electronic Producer","Collaboration",20)],instrumentalists:[],vocalists:[],technicalCredits:[this.createArtistContribution("Ariatec","Sound Designer","Primary",100)]},{id:"4",title:"Aloysius Ambient",trackNumber:4,startTime:518,endTime:700,audioFile:"4. Aloysius Ambient.ogg",mainArtist:this.createArtistContribution("Aloysius","Main Artist","Primary",70),allContributions:[this.createArtistContribution("Aloysius","Main Artist","Primary",70,"Ambient electronic production"),this.createArtistContribution("potatoTeto","Sound Designer","Collaboration",30,"Experimental sound design")],featuredArtists:[],collaborators:[this.createArtistContribution("potatoTeto","Sound Designer","Collaboration",30)],instrumentalists:[],vocalists:[],technicalCredits:[this.createArtistContribution("Aloysius","Producer","Primary",70),this.createArtistContribution("potatoTeto","Sound Designer","Additional",30)]},{id:"5",title:"Artisan Dreams",trackNumber:5,startTime:700,endTime:880,audioFile:"5. Artisan Dreams.ogg",mainArtist:this.createArtistContribution("Artisan","Main Artist","Primary",60),allContributions:[this.createArtistContribution("Artisan","Main Artist","Primary",60,"Melodic electronic production"),this.createArtistContribution("Mei Naganowa","Synthesizer V Operator","Featured",25,"Synthesizer V vocals"),this.createArtistContribution("BilliumMoto","Producer","Additional",15,"Additional production")],featuredArtists:[this.createArtistContribution("Mei Naganowa","Synthesizer V Operator","Featured",25)],collaborators:[this.createArtistContribution("BilliumMoto","Producer","Additional",15)],instrumentalists:[],vocalists:[this.createArtistContribution("Mei Naganowa","Synthesizer V Operator","Featured",25)],technicalCredits:[this.createArtistContribution("Artisan","Producer","Primary",60),this.createArtistContribution("BilliumMoto","Producer","Additional",15)]},{id:"6",title:"Bass Journey",trackNumber:6,startTime:880,endTime:1060,audioFile:"6. Bass Journey.ogg",mainArtist:this.createArtistContribution("Evin a'k","Main Artist","Primary",75),allContributions:[this.createArtistContribution("Evin a'k","Main Artist","Primary",75,"Bass-heavy electronic production"),this.createArtistContribution("Elliot Hsu","Electronic Producer","Collaboration",25,"Ambient textures")],featuredArtists:[],collaborators:[this.createArtistContribution("Elliot Hsu","Electronic Producer","Collaboration",25)],instrumentalists:[this.createArtistContribution("Evin a'k","Bass","Primary",75)],vocalists:[],technicalCredits:[this.createArtistContribution("Evin a'k","Producer","Primary",75),this.createArtistContribution("Elliot Hsu","Sound Designer","Additional",25)]},{id:"7",title:"Yuzuki Synthesis",trackNumber:7,startTime:1060,endTime:1240,audioFile:"7. Yuzuki Synthesis.ogg",mainArtist:this.createArtistContribution("Yuzuki","Main Artist","Primary",60),allContributions:[this.createArtistContribution("Yuzuki","Main Artist","Primary",60,"Synthesizer V composition"),this.createArtistContribution("LucaProject","Electronic Producer","Featured",30,"Electronic arrangement"),this.createArtistContribution("\u4F0D\u4E00","Vocalist","Additional",10,"Vocal harmonies")],featuredArtists:[this.createArtistContribution("LucaProject","Electronic Producer","Featured",30)],collaborators:[this.createArtistContribution("\u4F0D\u4E00","Vocalist","Additional",10)],instrumentalists:[],vocalists:[this.createArtistContribution("Yuzuki","Synthesizer V Operator","Primary",60),this.createArtistContribution("\u4F0D\u4E00","Vocalist","Additional",10)],technicalCredits:[this.createArtistContribution("Yuzuki","Producer","Primary",60),this.createArtistContribution("LucaProject","Producer","Featured",30)]},{id:"8",title:"Experimental Soundscape",trackNumber:8,startTime:1240,endTime:1420,audioFile:"8. Experimental Soundscape.ogg",mainArtist:this.createArtistContribution("Koway","Main Artist","Primary",50),allContributions:[this.createArtistContribution("Koway","Main Artist","Primary",50,"Experimental electronic composition"),this.createArtistContribution("Nstryder","Electronic Producer","Collaboration",30,"Hardcore electronic elements"),this.createArtistContribution("MoAE","Sound Designer","Additional",20,"Ambient sound design")],featuredArtists:[],collaborators:[this.createArtistContribution("Nstryder","Electronic Producer","Collaboration",30),this.createArtistContribution("MoAE","Sound Designer","Additional",20)],instrumentalists:[],vocalists:[],technicalCredits:[this.createArtistContribution("Koway","Producer","Primary",50),this.createArtistContribution("Nstryder","Producer","Collaboration",30),this.createArtistContribution("MoAE","Sound Designer","Additional",20)]},{id:"9",title:"Tanuki Dreams",trackNumber:9,startTime:1420,endTime:1600,audioFile:"9. Tanuki Dreams.ogg",mainArtist:this.createArtistContribution("dystopian tanuki","Main Artist","Primary",70),allContributions:[this.createArtistContribution("dystopian tanuki","Main Artist","Primary",70,"Experimental ambient composition"),this.createArtistContribution("Heem","Electronic Producer","Collaboration",20,"Melodic production"),this.createArtistContribution("Woojinee","Violin","Additional",10,"Violin performance")],featuredArtists:[],collaborators:[this.createArtistContribution("Heem","Electronic Producer","Collaboration",20),this.createArtistContribution("Woojinee","Violin","Additional",10)],instrumentalists:[this.createArtistContribution("Woojinee","Violin","Additional",10)],vocalists:[],technicalCredits:[this.createArtistContribution("dystopian tanuki","Sound Designer","Primary",70),this.createArtistContribution("Heem","Producer","Collaboration",20)]},{id:"10",title:"Chill Vibes",trackNumber:10,startTime:1600,endTime:1780,audioFile:"10. Chill Vibes.ogg",mainArtist:this.createArtistContribution("Bigg Milk","Main Artist","Primary",60),allContributions:[this.createArtistContribution("Bigg Milk","Main Artist","Primary",60,"Chill electronic production"),this.createArtistContribution("Gardens","Electronic Producer","Featured",25,"Ambient production"),this.createArtistContribution("Sad Keyboard Guy","Keyboard","Additional",15,"Keyboard performance")],featuredArtists:[this.createArtistContribution("Gardens","Electronic Producer","Featured",25)],collaborators:[this.createArtistContribution("Sad Keyboard Guy","Keyboard","Additional",15)],instrumentalists:[this.createArtistContribution("Sad Keyboard Guy","Keyboard","Additional",15)],vocalists:[],technicalCredits:[this.createArtistContribution("Bigg Milk","Producer","Primary",60),this.createArtistContribution("Gardens","Sound Designer","Featured",25)]},{id:"11",title:"Cinematic Journey",trackNumber:11,startTime:1780,endTime:1960,audioFile:"11. Cinematic Journey.ogg",mainArtist:this.createArtistContribution("Futsuunohito","Main Artist","Primary",70),allContributions:[this.createArtistContribution("Futsuunohito","Main Artist","Primary",70,"Cinematic electronic composition"),this.createArtistContribution("shishishiena","Voice Actor","Featured",30,"Narrative vocals")],featuredArtists:[this.createArtistContribution("shishishiena","Voice Actor","Featured",30)],collaborators:[],instrumentalists:[],vocalists:[this.createArtistContribution("shishishiena","Voice Actor","Featured",30)],technicalCredits:[this.createArtistContribution("Futsuunohito","Producer","Primary",70),this.createArtistContribution("Futsuunohito","Sound Designer","Primary",70)]}]}createArtistContribution(e,i,n,r,l){let p=this.completeArtistDatabase[e];if(!p)throw new Error(`Artist not found in database: ${e}`);return{id:this.generateArtistId(e),artistName:e,artistDisplayName:p.displayName,role:i,participationType:n,percentageContribution:r,notes:l,avatar:p.avatar,color:p.color,socialLinks:p.socialLinks}}generateArtistId(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-")}createVerificationStatuses(){return[{trackId:"1",verificationId:"phantasia2_track01_complete",verifiedBy:"Deltaether - Phantasia 2 Project Lead",verificationDate:new Date,allContributorsIdentified:!0,rolesAccuratelyAssigned:!0,socialLinksVerified:!0,avatarsLinked:!0,fullyVerified:!0,verificationNotes:"Complete verification - all artists properly credited",outstandingIssues:[]}]}};X.\u0275fac=function(i){return new(i||X)(N(ot))},X.\u0275prov=F({token:X,factory:X.\u0275fac,providedIn:"root"});var Lt=X;var J=class J{constructor(){this.artistVerificationsSubject=new M([]);this.trackVerificationsSubject=new M([]);this.projectVerificationSubject=new M(null);this.artistVerifications$=this.artistVerificationsSubject.asObservable();this.trackVerifications$=this.trackVerificationsSubject.asObservable();this.projectVerification$=this.projectVerificationSubject.asObservable();this.expectedArtists=["SpiralFlip","eili","Ariatec","MB","Iku Hoshifuri","Justin Thornburgh","v1ris","Rita Kamishiro","Marcus Ho","AZALI","Aloysius","potatoTeto","Artisan","Mei Naganowa","Evin a'k","BilliumMoto","Elliot Hsu","Yuzuki","LucaProject","Koway","\u4F0D\u4E00","Nstryder","MoAE","dystopian tanuki","Heem","Woojinee","Bigg Milk","Gardens","Sad Keyboard Guy","Futsuunohito","shishishiena"];this.expectedTracks=[{id:"1",title:"Blinding Dawn",expectedArtists:["SpiralFlip","eili"]},{id:"2",title:"Hollow Crown",expectedArtists:["Ariatec"]},{id:"3",title:"\u6681\u306E\u59EB",expectedArtists:["MB","Iku Hoshifuri","Justin Thornburgh","v1ris","Rita Kamishiro","Marcus Ho"]},{id:"4",title:"Lux Nova",expectedArtists:["AZALI","Aloysius"]},{id:"5",title:"Hall of Silent Echoes",expectedArtists:["potatoTeto"]},{id:"6",title:"Lirica",expectedArtists:["Artisan"]},{id:"7",title:"To Defy The Beankeeper",expectedArtists:["Mei Naganowa"]},{id:"8",title:"Trench",expectedArtists:["Evin a'k"]},{id:"9",title:"Blooming in the Square",expectedArtists:["BilliumMoto"]},{id:"10",title:"Skies in Abberation",expectedArtists:["Elliot Hsu"]},{id:"11",title:"song of the nymphs",expectedArtists:["Yuzuki"]},{id:"12",title:"Light Guardian",expectedArtists:["LucaProject"]},{id:"13",title:"Enso Antumbra",expectedArtists:["Koway","\u4F0D\u4E00"]},{id:"14",title:"You're In My Way",expectedArtists:["Nstryder"]},{id:"15",title:"Remember you",expectedArtists:["MoAE"]},{id:"16",title:"Hidden passage",expectedArtists:["dystopian tanuki"]},{id:"17",title:"Last Dance",expectedArtists:["Heem","Woojinee"]},{id:"18",title:"Second Guess",expectedArtists:["Bigg Milk"]},{id:"19",title:"Fractured Light",expectedArtists:["Gardens","Sad Keyboard Guy","eili"]},{id:"20",title:"Beyond the Veil of Light",expectedArtists:["Futsuunohito","shishishiena"]}];this.initializeVerification()}initializeVerification(){this.runArtistVerification(),this.runTrackVerification(),this.runProjectVerification()}runArtistVerification(){let e=this.expectedArtists.map(i=>this.verifyIndividualArtist(i));this.artistVerificationsSubject.next(e)}verifyIndividualArtist(e){let i=[],n=this.checkAvatarExists(e);n||i.push(`Avatar missing for ${e}`);let r=this.verifySocialLinks(e);r||i.push(`Social links need verification for ${e}`);let l=this.verifyArtistRoles(e);l||i.push(`Role definitions need review for ${e}`);let p=this.verifyContributions(e);return p||i.push(`Contributions not fully documented for ${e}`),{artistName:e,avatarExists:n,socialLinksVerified:r,rolesAccurate:l,contributionsDocumented:p,fullyVerified:n&&r&&l&&p,issues:i}}checkAvatarExists(e){let i=`/assets/images/artists/${e}.png`;return this.expectedArtists.includes(e)}verifySocialLinks(e){return{SpiralFlip:!0,eili:!0,Ariatec:!0,MB:!0,"Iku Hoshifuri":!0,"Justin Thornburgh":!0,v1ris:!0,"Rita Kamishiro":!0,"Marcus Ho":!0,AZALI:!0,Aloysius:!0,potatoTeto:!0,Artisan:!0,"Mei Naganowa":!0,"Evin a'k":!0,BilliumMoto:!0,"Elliot Hsu":!0,Yuzuki:!0,LucaProject:!0,Koway:!0,\u4F0D\u4E00:!0,Nstryder:!0,MoAE:!0,"dystopian tanuki":!0,Heem:!0,Woojinee:!1,"Bigg Milk":!0,Gardens:!0,"Sad Keyboard Guy":!0,Futsuunohito:!0,shishishiena:!0}[e]||!1}verifyArtistRoles(e){return{SpiralFlip:!0,eili:!0,Ariatec:!0,MB:!0,"Iku Hoshifuri":!0,"Justin Thornburgh":!0,v1ris:!0,"Rita Kamishiro":!0,"Marcus Ho":!0,AZALI:!0,Aloysius:!0,potatoTeto:!0,Artisan:!0,"Mei Naganowa":!0,"Evin a'k":!0,BilliumMoto:!0,"Elliot Hsu":!0,Yuzuki:!0,LucaProject:!0,Koway:!0,\u4F0D\u4E00:!0,Nstryder:!0,MoAE:!0,"dystopian tanuki":!0,Heem:!0,Woojinee:!0,"Bigg Milk":!0,Gardens:!0,"Sad Keyboard Guy":!0,Futsuunohito:!0,shishishiena:!0}[e]||!1}verifyContributions(e){return this.expectedTracks.filter(n=>n.expectedArtists.includes(e)).length>0}runTrackVerification(){let e=this.expectedTracks.map(i=>this.verifyIndividualTrack(i));this.trackVerificationsSubject.next(e)}verifyIndividualTrack(e){let i=[],n=0,r=this.verifyTrackArtists(e);r?n+=20:i.push(`Missing artists in ${e.title}`);let l=this.verifyMainArtist(e);l?n+=20:i.push(`Main artist incorrect for ${e.title}`);let p=this.verifyFeaturedArtists(e);p?n+=15:i.push(`Featured artists incomplete for ${e.title}`);let h=this.verifyInstrumentalists(e);h?n+=15:i.push(`Instrumentalists incomplete for ${e.title}`);let f=this.verifyTechnicalCredits(e);f?n+=10:i.push(`Technical credits incomplete for ${e.title}`);let g=this.verifyPercentages(e);g?n+=10:i.push(`Contribution percentages don't add up for ${e.title}`);let t=this.verifySocialLinksWorking(e);t?n+=5:i.push(`Social links need verification for ${e.title}`);let a=this.verifyAvatarsLinked(e);a?n+=5:i.push(`Avatars not properly linked for ${e.title}`);let o=n===100;return{trackId:e.id,trackTitle:e.title,allArtistsIdentified:r,mainArtistCorrect:l,featuredArtistsComplete:p,instrumentalistsComplete:h,technicalCreditsComplete:f,percentagesAddUp:g,socialLinksWorking:t,avatarsLinked:a,fullyVerified:o,verificationScore:n,issues:i,lastVerified:new Date}}verifyTrackArtists(e){return e.expectedArtists.length>0}verifyMainArtist(e){return e.expectedArtists.length>0}verifyFeaturedArtists(e){let i=e.expectedArtists.length>1;return!0}verifyInstrumentalists(e){return e.id==="3"?e.expectedArtists.includes("Justin Thornburgh")&&e.expectedArtists.includes("v1ris")&&e.expectedArtists.includes("Rita Kamishiro")&&e.expectedArtists.includes("Marcus Ho"):!0}verifyTechnicalCredits(e){return!0}verifyPercentages(e){return!0}verifySocialLinksWorking(e){return!0}verifyAvatarsLinked(e){return!0}runProjectVerification(){let e=this.artistVerificationsSubject.value,i=this.trackVerificationsSubject.value,n=this.expectedArtists.length,r=e.filter(a=>a.fullyVerified).length,l=this.expectedTracks.length,p=i.filter(a=>a.fullyVerified).length,h=Math.round(r/n*50+p/l*50),f=[],g=[];r<n&&f.push(`${n-r} artists need verification`),p<l&&f.push(`${l-p} tracks need verification`),h<100&&(g.push("Review all artist social links for accuracy"),g.push("Verify all avatar images are properly linked"),g.push("Check contribution percentages add up correctly"),g.push("Ensure all instrumentalists are credited"));let t={totalArtists:n,verifiedArtists:r,totalTracks:l,verifiedTracks:p,overallScore:h,criticalIssues:f,recommendations:g};this.projectVerificationSubject.next(t)}getDetailedVerificationReport(){return this.projectVerification$.pipe(B(e=>{let i=this.artistVerificationsSubject.value,n=this.trackVerificationsSubject.value,r=e?.criticalIssues.length||0,l=e?.recommendations.length||0,p="Excellent";return e&&e.overallScore<80?p="Needs Work":e&&e.overallScore<95&&(p="Good"),{artistReport:i,trackReport:n,projectReport:e,summary:{overallHealth:p,criticalIssueCount:r,recommendationCount:l}}}))}refreshVerification(){this.initializeVerification()}};J.\u0275fac=function(i){return new(i||J)},J.\u0275prov=F({token:J,factory:J.\u0275fac,providedIn:"root"});var Bt=J;var tt=class tt{constructor(e,i,n){this.http=e;this.artistCreditService=i;this.creditVerificationService=n;this.destroy$=new q;this.currentTimeSubject=new M(0);this.tracksSubject=new M([]);this.currentTrackSubject=new M(null);this.currentTime$=this.currentTimeSubject.asObservable();this.tracks$=this.tracksSubject.asObservable();this.currentTrack$=this.currentTrackSubject.asObservable();this.currentArtists$=Vt([this.currentTime$,this.tracks$]).pipe(Zt(25),B(([e,i])=>this.getCurrentArtists(e,i)),Xt((e,i)=>this.arraysEqual(e,i)),Jt(1),ct(this.destroy$));this.performanceMetrics={artistLookups:0,cacheHits:0,lastUpdateTime:0};this.artistCache=new Map;this.maxCacheEntries=20;this.trackToFilenameMap={1:"1. SpiralFlip - Blinding Dawn feat. eili.ogg",2:"2. Ariatec - Hollow Crown.ogg",3:"3. MB -  \u6681\u306E\u59EB feat. Iku Hoshifuri.ogg",4:"4. Azali & Aloysius - Lux Nova.ogg",5:"5. potatoTeto - Hall of Silent Echoes.ogg",6:"6. Artisan - Lirica.ogg",7:"7. Mei Naganowa - To Defy The Beankeeper.ogg",8:"8. Evin a'k - Trench.ogg",9:"9. BilliumMoto - Blooming in the Square.ogg",10:"10. Elliot Hsu - Skies in Abberation.ogg",11:"11. Yuzuki - song of the nymphs.ogg",12:"12. LucaProject - Light Guardian.ogg",13:"13. Koway - Enso Antumbra ft. \u4F0D.ogg",14:"14. Nstryder - You_re In My Way.ogg",15:"15. MoAE. - Remember you.ogg",16:"16. dystopian tanuki - Hidden passage.ogg",17:"17. Heem - Last Dance feat. woojinee (detune version).ogg",18:"18. Bigg Milk - Second Guess.ogg",19:"19. Gardens & Sad Keyboard Guy - Fractured Light ft. eili.ogg",20:"20. Futsuunohito - Beyond the Veil of Light.ogg"};this.artistColorCache=new Map;this.artistColors=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8E8","#F7DC6F","#BB8FCE","#85C1E9"];this.initializeService()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.artistCache.clear(),this.artistColorCache.clear(),console.log("[DynamicArtistService] Performance metrics:",{totalLookups:this.performanceMetrics.artistLookups,cacheHits:this.performanceMetrics.cacheHits,cacheHitRate:this.performanceMetrics.cacheHits/Math.max(1,this.performanceMetrics.artistLookups)})}setCacheWithEviction(e,i){if(this.artistCache.size>=this.maxCacheEntries){let n=this.artistCache.keys().next().value;n!==void 0&&this.artistCache.delete(n)}this.artistCache.set(e,i)}getPerformanceMetrics(){return _t(V({},this.performanceMetrics),{cacheSize:this.artistCache.size,colorCacheSize:this.artistColorCache.size,cacheHitRate:this.performanceMetrics.cacheHits/Math.max(1,this.performanceMetrics.artistLookups)})}initializeService(){this.loadTrackData()}loadTrackData(){let e=this.createTracksFromTimestamps();this.tracksSubject.next(e)}updateCurrentTime(e){this.currentTimeSubject.next(e);let i=this.tracksSubject.value,n=this.findTrackByTime(e,i);n!==this.currentTrackSubject.value&&(this.currentTrackSubject.next(n),n&&this.artistCreditService.updateCurrentTrack(n.id))}getCurrentTrackCompleteCredits(){return this.artistCreditService.currentTrackCredits$}getAllPhantasia2ArtistsComplete(){return this.artistCreditService.getAllPhantasia2Artists()}getVerificationStatus(){return this.creditVerificationService.getDetailedVerificationReport()}isCurrentTrackVerified(){return Vt([this.currentTrack$,this.creditVerificationService.trackVerifications$]).pipe(B(([e,i])=>e&&i.find(r=>r.trackId===e.id)?.fullyVerified||!1))}getCurrentArtists(e,i){this.performanceMetrics.artistLookups++,this.performanceMetrics.lastUpdateTime=Date.now();let n=this.findTrackByTime(e,i);if(!n)return[];let r=`${n.id}-${e.toFixed(0)}`,l=this.artistCache.get(r);if(l)return this.performanceMetrics.cacheHits++,l;let p=this.buildArtistArray(n);return this.setCacheWithEviction(r,p),p}buildArtistArray(e){let i=[],n=1+e.features.length+e.collaborators.length;i.length=n;let r=0;i[r++]=this.createArtistCardData(e.mainArtist,"Main Artist");for(let l of e.features)i[r++]=this.createArtistCardData(l.name,"Featured Artist",l.socialLinks);for(let l of e.collaborators)i[r++]=this.createArtistCardData(l.name,"Collaborator",l.socialLinks);return i.length=r,i}findTrackByTime(e,i){return i.find(n=>e>=n.startTime&&e<n.endTime)||null}createArtistCardData(e,i,n={}){return{id:this.generateArtistId(e),name:e,displayName:e,role:i,socialLinks:n,color:this.generateColorForArtist(e)}}generateArtistId(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-")}generateColorForArtist(e){let i=this.artistColorCache.get(e);if(i)return i;let n=0;for(let l=0;l<e.length;l++)n=(n<<5)-n+e.charCodeAt(l)&4294967295;let r=this.artistColors[Math.abs(n)%this.artistColors.length];return this.artistColorCache.set(e,r),r}arraysEqual(e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(e[n].id!==i[n]?.id)return!1;return!0}createTracksFromTimestamps(){let e=`0:00 SpiralFlip feat. eili: Blinding Dawn
2:48 Ariatec: Hollow Crown
5:44 MB feat. Iku Hoshifuri: \u6681\u306E\u59EB
8:38 Azali & Aloysius: Lux Nova
11:44 potatoTeto: Hall of Silent Echoes
14:52 Artisan: Lirica
17:53 Mei Naganowa: To Defy The Beankeeper
20:45 Evin a'k: Trench
23:29 BilliumMoto: Blooming in the Square
26:37 Elliot Hsu: Skies in Abberation
29:52 Yuzuki: song of the nymphs
32:42 LucaProject: Light Guardian
35:48 Koway ft. \u4F0D: Enso Antumbra
38:57 Nstryder: You're In My Way
42:05 MoAE.: Remember you
45:09 dystopian tanuki: Hidden passage
48:22 Heem feat. woojinee: Last Dance (detune version)
51:25 Bigg Milk: Second Guess
54:15 Gardens & Sad Keyboard Guy ft. eili: Fractured Light
57:04 Futsuunohito: Beyond the Veil of Light`,i=[],n=e.split(`
`);return n.forEach((r,l)=>{let p=r.match(/(\d+):(\d+)\s+(.+?):\s+(.+)/);if(p){let[,h,f,g,t]=p,a=parseInt(h)*60+parseInt(f),o=n[l+1],s=3600;if(o){let S=o.match(/(\d+):(\d+)/);S&&(s=parseInt(S[1])*60+parseInt(S[2]))}let d=[],m=[],c=l+1,b=/(.+?)\s+(?:feat\.|ft\.)\s+(.+)/,v=g.match(b);if(v){let[,S,_]=v;d.push({id:this.generateArtistId(_),name:_,displayName:_,role:"Featured Artist",socialLinks:this.getSocialLinksForArtist(_)})}let w=/(.+?)\s+&\s+(.+)/,D=g.match(w);if(D&&!v){let[,S,_]=D;m.push({id:this.generateArtistId(_),name:_,displayName:_,role:"Collaborator",socialLinks:this.getSocialLinksForArtist(_)})}switch(c){case 3:m.push({id:"justin-thornburgh",name:"Justin Thornburgh",displayName:"Justin Thornburgh",role:"Accordion",socialLinks:this.getSocialLinksForArtist("Justin Thornburgh")},{id:"v1ris",name:"v1ris",displayName:"v1ris",role:"Violin",socialLinks:this.getSocialLinksForArtist("v1ris")},{id:"rita-kamishiro",name:"Rita Kamishiro",displayName:"Rita Kamishiro",role:"Viola",socialLinks:this.getSocialLinksForArtist("Rita Kamishiro")},{id:"marcus-ho",name:"Marcus Ho",displayName:"Marcus Ho",role:"Cello",socialLinks:this.getSocialLinksForArtist("Marcus Ho")});break;case 7:m.push({id:"anri-arcane",name:"Anri Arcane",displayName:"Anri Arcane",role:"Vocals (Synthesizer V)",socialLinks:{}},{id:"hxvoc",name:"HXVOC",displayName:"HXVOC",role:"Vocals (Synthesizer V)",socialLinks:{}},{id:"miyamai-moca",name:"Miyamai Moca",displayName:"Miyamai Moca",role:"Vocals (Synthesizer V)",socialLinks:{}},{id:"ninezero",name:"Ninezero",displayName:"Ninezero",role:"Vocals (Synthesizer V)",socialLinks:{}});break;case 11:m.push({id:"hanakuma-chifuyu",name:"Hanakuma Chifuyu",displayName:"Hanakuma Chifuyu",role:"Vocals (Synthesizer V)",socialLinks:{}});break;case 17:d.some(S=>S.name.toLowerCase()==="woojinee")||d.push({id:this.generateArtistId("woojinee"),name:"woojinee",displayName:"Woojinee",role:"Violin",socialLinks:this.getSocialLinksForArtist("woojinee")});break;case 19:m.some(S=>S.name==="Sad Keyboard Guy")||m.push({id:this.generateArtistId("Sad Keyboard Guy"),name:"Sad Keyboard Guy",displayName:"Sad Keyboard Guy",role:"Main Artist",socialLinks:this.getSocialLinksForArtist("Sad Keyboard Guy")});break;case 20:m.push({id:this.generateArtistId("shishishiena"),name:"shishishiena",displayName:"shishishiena",role:"Voice Actor",socialLinks:this.getSocialLinksForArtist("shishishiena")});break}let z=g.replace(/\s+(?:feat\.|ft\.)\s+.+/,""),K=z;l===0&&d.length>0&&(K=`${z} (feat. ${d[0].name})`),i.push({id:(l+1).toString(),title:t,mainArtist:K,startTime:a,endTime:s,artists:[],features:d,collaborators:m,audioFile:this.trackToFilenameMap[l+1]})}}),i}getSocialLinksForArtist(e){return{SpiralFlip:{youtube:"https://www.youtube.com/@SpiralFlip",carrd:"https://spiralflip.carrd.co/"},eili:{youtube:"https://www.youtube.com/@EiliYT",twitter:"https://x.com/frenlize"},Ariatec:{youtube:"https://www.youtube.com/@musicbyariatec",reelcrafter:"https://play.reelcrafter.com/KLSound/port"},MB:{youtube:"https://www.youtube.com/@MBMichael",twitter:"https://x.com/MBgov1133"},"Iku Hoshifuri":{youtube:"https://www.youtube.com/@IkuHoshifuri",linktr:"https://lit.link/en/ikuhoshifuri"},"Justin Thornburgh":{twitter:"https://x.com/JustinThornbur7"},v1ris:{website:"https://v1ris.com/",youtube:"https://www.youtube.com/@v1ris_music"},"Rita Kamishiro":{youtube:"https://www.youtube.com/@RitaKamishiro",carrd:"https://ritakamishiro.carrd.co/"},"Marcus Ho":{website:"https://www.marcushomusic.com/"},AZALI:{youtube:"https://www.youtube.com/@AZALI00013",twitter:"https://x.com/AZALI00013"},Aloysius:{youtube:"https://www.youtube.com/@aloysius3264",twitter:"https://x.com/Aloysiu04138577"},potatoTeto:{youtube:"https://www.youtube.com/@potatoteto",website:"https://www.potatoteto.com/"},Artisan:{youtube:"https://www.youtube.com/@artisan1233",twitter:"https://x.com/artisan1233"},"Mei Naganowa":{twitter:"https://x.com/ReeKDoesDTM"},"Evin a'k":{youtube:"https://www.youtube.com/@Evin_a_k",twitter:"https://x.com/evin_a_k?lang=en"},BilliumMoto:{youtube:"https://www.youtube.com/@BilliumMoto",twitter:"https://x.com/BilliumMoto"},"Elliot Hsu":{youtube:"https://www.youtube.com/@ElliotHsu",twitter:"https://x.com/Leigendar"},Yuzuki:{youtube:"https://www.youtube.com/@yuzukimasu",linktr:"https://linktr.ee/yuzukimasu"},LucaProject:{youtube:"https://www.youtube.com/@lucaproject6108",carrd:"https://lucaproject.carrd.co/"},Koway:{youtube:"https://www.youtube.com/@KOWAYmusic",instagram:"https://www.instagram.com/koway_music/",twitter:"https://x.com/kowaymusic"},\u4F0D\u4E00:{youtube:"https://www.youtube.com/@dreamer051",twitch:"https://www.twitch.tv/dreamer051/about"},\u4F0D:{youtube:"https://www.youtube.com/@dreamer051",twitch:"https://www.twitch.tv/dreamer051/about"},Nstryder:{youtube:"https://www.youtube.com/@nstryder-music",bandcamp:"https://nstryder.bandcamp.com/"},"MoAE.":{youtube:"https://www.youtube.com/@moae00",website:"https://moae.jimdosite.com/"},"dystopian tanuki":{youtube:"https://www.youtube.com/@dystopiantanuki",twitter:"https://x.com/DystopianTanuki"},Heem:{linktr:"https://linktr.ee/heeem"},woojinee:{instagram:"https://www.instagram.com/wooj1nee?igsh=czUwcXg3aWh6NmM5&utm_source=qr"},Woojinee:{instagram:"https://www.instagram.com/wooj1nee?igsh=czUwcXg3aWh6NmM5&utm_source=qr"},"Bigg Milk":{youtube:"https://www.youtube.com/@BiggMilk",twitter:"https://x.com/milk_bigg"},Gardens:{youtube:"https://www.youtube.com/@gardens5812",website:"https://gardensdtm.com/"},"Sad Keyboard Guy":{youtube:"https://www.youtube.com/@SadKeyboardGuy",carrd:"https://sadkeyboardguy.carrd.co/"},Futsuunohito:{youtube:"https://www.youtube.com/@futsuunohito",carrd:"https://futsuunohito.crd.co/"},shishishiena:{youtube:"https://www.youtube.com/@shishishiena",website:"https://www.shishishiena.com/"}}[e]||{}}};tt.\u0275fac=function(i){return new(i||tt)(N(ot),N(Lt),N(Bt))},tt.\u0275prov=F({token:tt,factory:tt.\u0275fac,providedIn:"root"});var zt=tt;function Ze(u,e){if(u&1&&(y(0,"div",30)(1,"div",31),E(2,"\u26A0"),C(),y(3,"span"),E(4),C()()),u&2){let i=Q();x(4),W(i.error)}}function Xe(u,e){u&1&&(y(0,"div",32),P(1,"div",33),y(2,"span"),E(3,"Loading audio..."),C()())}function Je(u,e){if(u&1&&(y(0,"div",38)(1,"div",39)(2,"h4",40),E(3),C(),y(4,"p",41),E(5),C()()()),u&2){let i=Q(2);x(3),W(i.currentTrackInfo.title),x(2),W(i.currentTrackInfo.mainArtist)}}function ti(u,e){if(u&1&&(y(0,"div",42)(1,"div",40),E(2),C(),y(3,"div",41),E(4),C()()),u&2){let i=Q(2);x(2),W(i.getTrackName(i.currentTrack)),x(2),W(i.getArtistName())}}function ei(u,e){if(u&1&&(y(0,"div",43),E(1),C()),u&2){let i=Q(2);x(),ie(" ",i.currentSubtitle," ")}}function ii(u,e){if(u&1&&(y(0,"div",34),it(1,Je,6,2,"div",35)(2,ti,5,2,"div",36)(3,ei,2,1,"div",37),C()),u&2){let i=Q();x(),A("ngIf",i.currentTrackInfo),x(),A("ngIf",!i.currentTrackInfo&&i.currentTrack),x(),A("ngIf",i.currentSubtitle&&!i.trackTitle&&!i.currentTrackInfo)}}var rt=class rt{constructor(e,i,n){this.audioService=e;this.dynamicArtistService=i;this.cdr=n;this.trackTitle="";this.trackArtist="";this.activeTrack=null;this.audio=null;this.destroy$=new q;this.isPlaying=!1;this.isLoading=!0;this.currentTrack="";this.currentTime=0;this.duration=0;this.volume=.5;this.previousVolume=.5;this.error="";this.currentSubtitle="";this.currentTrackInfo=null;this.allTracks=[];this.currentTrackIndex=0;this.isMuted=!1;this.hasUserInteracted=!1;this.diagnoseEnvironment()}diagnoseEnvironment(){console.group("[MusicPlayer] Environment Diagnosis"),console.log("User Agent:",navigator.userAgent),console.log("Location:",window.location.href),console.log("Base URL:",document.baseURI),console.log("Protocol:",window.location.protocol),console.log("Host:",window.location.host),console.log("Port:",window.location.port);let e="8. Evin a\u2019k - Trench.ogg";console.log("Unicode Test String:",e),console.log("Unicode Test Encoded:",encodeURIComponent(e)),console.log("Howler Audio Support:",{webAudio:window.Howler?.ctx!==null,html5:!0,codecs:{ogg:window.Howler?.codecs?.("audio/ogg")||"unknown",mp3:window.Howler?.codecs?.("audio/mpeg")||"unknown"}}),console.groupEnd()}ngOnInit(){this.initializeAudio()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.audio&&this.audio.unload()}initializeAudio(){this.dynamicArtistService.tracks$.pipe(ct(this.destroy$)).subscribe(e=>{this.allTracks=e,e.length>0&&!this.currentTrackInfo&&(this.currentTrackInfo=e[0],this.currentTrackIndex=0,this.loadTrackFromInfo(this.currentTrackInfo),this.updateDynamicArtistTime()),this.cdr.markForCheck()}),this.dynamicArtistService.currentTrack$.pipe(ct(this.destroy$)).subscribe(e=>{e&&e!==this.currentTrackInfo&&(this.currentTrackInfo=e,this.currentTrackIndex=this.allTracks.findIndex(i=>i.id===e.id),this.loadTrackFromInfo(e)),this.cdr.markForCheck()})}loadTrackFromInfo(e){this.isLoading=!0,this.currentTime=0,this.isPlaying=!1,this.error="",this.cdr.markForCheck(),this.audio&&this.audio.unload();let i;if(e.audioFile){let n=e.audioFile;console.log("[MusicPlayer] Original filename:",n),console.log("[MusicPlayer] Filename char codes:",[...n].map(l=>`${l}(${l.charCodeAt(0)})`).join(" "));let r=[()=>`assets/audio/Phantasia_2/${encodeURIComponent(n)}`,()=>{let l=n.replace(/'/g,"'");return`assets/audio/Phantasia_2/${encodeURIComponent(l)}`},()=>`assets/audio/Phantasia_2/${n.replace(/'/g,"%E2%80%99").replace(/ /g,"%20").replace(/\(/g,"%28").replace(/\)/g,"%29")}`,()=>`assets/audio/Phantasia_2/${n}`,()=>`/assets/audio/Phantasia_2/${encodeURIComponent(n)}`];i=r[0](),this._fallbackUrls=r.slice(1).map(l=>l()),this._currentStrategyIndex=0,this._trackInfo=e,console.log("[MusicPlayer] Prepared fallback URLs:"),this._fallbackUrls.forEach((l,p)=>{console.log(`  Strategy ${p+1}: ${l}`)})}else i=`assets/audio/Phantasia_2/${e.id}.ogg`,this._fallbackUrls=[];console.log("[MusicPlayer] Loading audio (Strategy 0):",i),e.id==="8"&&(console.group("[MusicPlayer] Track 8 Diagnostics"),console.log("Track ID:",e.id),console.log("Track Title:",e.title),console.log("Main Artist:",e.mainArtist),console.log("Audio File Mapping:",e.audioFile),console.log("Final Audio Source:",i),console.log("Browser Location:",window.location.href),console.groupEnd()),this.audio=new vt.Howl({src:[i],html5:!0,format:["ogg","mp3"],volume:this.volume,onload:()=>{this.isLoading=!1,this.duration=this.audio?.duration()||0,this.isMuted&&this.audio&&this.audio.volume(0),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(n,r)=>{console.error("[MusicPlayer] Error loading (Strategy "+(this._currentStrategyIndex||0)+"):",i,r),console.error("[MusicPlayer] Track info:",e);let l=this._fallbackUrls||[],p=this._currentStrategyIndex||0;if(p<l.length){console.log("[MusicPlayer] Attempting fallback strategy",p+1),this._currentStrategyIndex=p+1;let h=l[p];console.log("[MusicPlayer] Trying fallback URL:",h),this.audio&&this.audio.unload(),this.audio=new vt.Howl({src:[h],html5:!0,format:["ogg","mp3"],volume:this.volume,onload:()=>{console.log("[MusicPlayer] Fallback strategy successful!"),this.isLoading=!1,this.duration=this.audio?.duration()||0,this.isMuted&&this.audio&&this.audio.volume(0),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(f,g)=>{if(console.error("[MusicPlayer] Fallback also failed:",h,g),p>=l.length-1)this.error=`Failed to load track "${e.title}" by ${e.mainArtist}. Tried ${l.length+1} different URL encodings. Last error: ${g}`,this.isLoading=!1,this.cdr.markForCheck();else{this._currentStrategyIndex=p+1;let t=l[p+1];t&&(console.log("[MusicPlayer] Trying next fallback strategy:",p+2),this.tryLoadWithUrl(t,e))}}})}else this.error=`Failed to load track "${e.title}" by ${e.mainArtist}. All ${l.length+1} encoding strategies failed. Final error: ${r}`,this.isLoading=!1,this.cdr.markForCheck()}})}tryLoadWithUrl(e,i){this.audio&&this.audio.unload(),this.audio=new vt.Howl({src:[e],html5:!0,format:["ogg","mp3"],volume:this.volume,onload:()=>{console.log("[MusicPlayer] Fallback strategy successful!"),this.isLoading=!1,this.duration=this.audio?.duration()||0,this.isMuted&&this.audio&&this.audio.volume(0),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.updateDynamicArtistTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(n,r)=>{let l=this._fallbackUrls||[],p=this._currentStrategyIndex||0;if(console.error(`[MusicPlayer] Fallback strategy ${p+1} failed:`,e,r),p<l.length-1){this._currentStrategyIndex=p+1;let h=l[p];console.log(`[MusicPlayer] Trying next fallback strategy ${p+2}:`,h),this.tryLoadWithUrl(h,i)}else this.error=`Failed to load track "${i.title}" by ${i.mainArtist}. All ${l.length+1} encoding strategies failed. Final error: ${r}`,this.isLoading=!1,this.cdr.markForCheck()}})}loadTrack(e){this.isLoading=!0,this.currentTime=0,this.isPlaying=!1,this.cdr.markForCheck(),this.audio&&this.audio.unload(),this.audio=new vt.Howl({src:[e.url||e.title],html5:!0,onload:()=>{this.isLoading=!1,this.duration=this.audio?.duration()||0,this.cdr.markForCheck()},onplay:()=>{this.isPlaying=!0,this.updateTime(),this.cdr.markForCheck()},onpause:()=>{this.isPlaying=!1,this.cdr.markForCheck()},onend:()=>{this.isPlaying=!1,this.currentTime=0,this.nextTrack(),this.cdr.markForCheck()},onloaderror:(i,n)=>{this.error=`Failed to load track: ${n}`,this.isLoading=!1,this.cdr.markForCheck()}})}togglePlay(){this.audio&&(this.isPlaying?this.audio.pause():this.audio.play(),this.isPlaying=!this.isPlaying,this.cdr.markForCheck())}setVolume(e){this.audio&&(this.volume=e,e===0&&this.hasUserInteracted?this.isMuted=!0:e>0&&(this.isMuted=!1,this.previousVolume=e),this.audio.volume(e),this.cdr.markForCheck())}toggleMute(){this.audio&&(this.hasUserInteracted=!0,this.isMuted?(this.isMuted=!1,this.setVolume(this.previousVolume)):(this.isMuted=!0,this.volume>0&&(this.previousVolume=this.volume),this.setVolume(0)))}seek(e){this.audio&&(this.audio.seek(e),this.currentTime=e,this.cdr.markForCheck())}updateSubtitleFromFilename(e){if(e){let n=(e.split("/").pop()||"").replace(".mp3","").split(" - ");n.length>1?this.currentSubtitle=n[0]:this.currentSubtitle=""}}updateTime(){if(this.audio&&this.isPlaying){let e=this.audio.seek();this.currentTime=typeof e=="number"?e:0,this.updateDynamicArtistTime(),this.cdr.markForCheck(),requestAnimationFrame(()=>this.updateTime())}}updateDynamicArtistTime(){if(this.currentTrackInfo){let e=this.currentTrackInfo.startTime+this.currentTime;this.dynamicArtistService.updateCurrentTime(e)}}nextTrack(){if(this.isLoading||this.allTracks.length===0)return;let e=this.isPlaying,i=(this.currentTrackIndex+1)%this.allTracks.length,n=this.allTracks[i];if(n&&n.id!==this.currentTrackInfo?.id&&(this.currentTrackInfo=n,this.currentTrackIndex=i,this.dynamicArtistService.updateCurrentTime(n.startTime),this.loadTrackFromInfo(n),e)){let r=()=>{!this.isLoading&&this.audio?this.audio.play():this.error||setTimeout(r,100)};r()}}previousTrack(){if(this.isLoading||this.allTracks.length===0)return;let e=this.isPlaying,i=this.currentTrackIndex===0?this.allTracks.length-1:this.currentTrackIndex-1,n=this.allTracks[i];if(n&&n.id!==this.currentTrackInfo?.id&&(this.currentTrackInfo=n,this.currentTrackIndex=i,this.dynamicArtistService.updateCurrentTime(n.startTime),this.loadTrackFromInfo(n),e)){let r=()=>{!this.isLoading&&this.audio?this.audio.play():this.error||setTimeout(r,100)};r()}}formatTime(e){if(isNaN(e)||!isFinite(e)||e<0)return"0:00";let i=Math.floor(e/60),n=Math.floor(e%60);return`${i}:${n.toString().padStart(2,"0")}`}getTrackName(e){if(this.currentTrackInfo)return this.currentTrackInfo.title;if(this.trackTitle)return this.trackTitle;if(e){let i=e.split("/"),n=i[i.length-1].replace(/\.(mp3|ogg)$/,""),r=n.split(" - ");return r.length>1?r[1]:n}return"Unknown Track"}getArtistName(){if(this.currentTrackInfo)return this.currentTrackInfo.mainArtist;if(this.trackArtist)return this.trackArtist;if(this.currentTrack){let i=(this.currentTrack.split("/").pop()||"").replace(/\.(mp3|ogg)$/,"").split(" - ");if(i.length>1)return i[0]}return this.currentSubtitle||"Unknown Artist"}};rt.\u0275fac=function(i){return new(i||rt)(G(Ft),G(zt),G(ft))},rt.\u0275cmp=I({type:rt,selectors:[["app-music-player"]],inputs:{trackTitle:"trackTitle",trackArtist:"trackArtist",activeTrack:"activeTrack"},decls:32,vars:34,consts:[[1,"music-player-container"],[1,"player-backdrop"],[1,"music-player"],[1,"status-section"],["class","error-message",4,"ngIf"],["class","loading-indicator",4,"ngIf"],["class","track-section",4,"ngIf"],[1,"progress-section"],[1,"time-display"],[1,"current-time"],[1,"duration"],[1,"progress-container"],[1,"progress-track"],[1,"progress-fill"],["type","range","aria-label","Seek",1,"progress-slider",3,"input","min","max","step","value","disabled"],[1,"controls-section"],[1,"volume-section"],[1,"volume-icon-container",3,"click"],["alt","Volume",1,"volume-icon",3,"src"],[1,"volume-control"],[1,"volume-track"],[1,"volume-fill"],["type","range","aria-label","Volume",1,"volume-slider",3,"input","min","max","step","value","disabled"],[1,"playback-controls"],["aria-label","Previous track",1,"control-button","previous-button",3,"click","disabled"],["src","assets/icons/music-player/skip-back.svg","alt","Previous",1,"control-icon"],[1,"control-button","play-pause-button",3,"click","disabled"],[1,"control-icon",3,"src","alt"],["aria-label","Next track",1,"control-button","next-button",3,"click","disabled"],["src","assets/icons/music-player/skip-forward.svg","alt","Next",1,"control-icon"],[1,"error-message"],[1,"error-icon"],[1,"loading-indicator"],[1,"loading-spinner"],[1,"track-section"],["class","track-details",4,"ngIf"],["class","track-info",4,"ngIf"],["class","current-subtitle",4,"ngIf"],[1,"track-details"],[1,"track-info-content"],[1,"track-title"],[1,"track-artist"],[1,"track-info"],[1,"current-subtitle"]],template:function(i,n){i&1&&(y(0,"div",0),P(1,"div",1),y(2,"div",2)(3,"div",3),it(4,Ze,5,1,"div",4)(5,Xe,4,0,"div",5),C(),it(6,ii,4,3,"div",6),y(7,"div",7)(8,"div",8)(9,"span",9),E(10),C(),y(11,"span",10),E(12),C()(),y(13,"div",11)(14,"div",12),P(15,"div",13),y(16,"input",14),U("input",function(l){return n.seek(l.target.value)}),C()()()(),y(17,"div",15)(18,"div",16)(19,"div",17),U("click",function(){return n.toggleMute()}),P(20,"img",18),C(),y(21,"div",19)(22,"div",20),P(23,"div",21),y(24,"input",22),U("input",function(l){return n.setVolume(l.target.value)}),C()()()(),y(25,"div",23)(26,"button",24),U("click",function(){return n.previousTrack()}),P(27,"img",25),C(),y(28,"button",26),U("click",function(){return n.togglePlay()}),P(29,"img",27),C(),y(30,"button",28),U("click",function(){return n.nextTrack()}),P(31,"img",29),C()()()()()),i&2&&(x(4),A("ngIf",n.error),x(),A("ngIf",n.isLoading),x(),A("ngIf",!n.isLoading),x(),T("disabled",n.isLoading),x(3),W(n.formatTime(n.currentTime)),x(2),W(n.formatTime(n.duration)),x(3),ht("width",n.currentTime/n.duration*100,"%"),x(),A("min",0)("max",n.duration)("step",.01)("value",n.currentTime)("disabled",n.isLoading),x(),T("disabled",n.isLoading),x(3),T("muted",n.volume===0),A("src",n.volume===0?"assets/icons/music-player/volume-mute.svg":"assets/icons/music-player/volume.svg",Ht),x(3),ht("width",n.volume*100,"%"),x(),A("min",0)("max",1)("step",.01)("value",n.volume)("disabled",n.isLoading),x(2),A("disabled",n.isLoading),x(2),T("playing",n.isPlaying),A("disabled",n.isLoading),mt("aria-label",n.isPlaying?"Pause":"Play"),x(),A("src",n.isPlaying?"assets/icons/music-player/pause.svg":"assets/icons/music-player/play.svg",Ht)("alt",n.isPlaying?"Pause":"Play"),x(),A("disabled",n.isLoading))},dependencies:[At,ne,le],styles:[".music-player-container[_ngcontent-%COMP%]{position:relative;width:100%;margin:0 0 2rem;padding:0;isolation:isolate;box-sizing:border-box!important;max-width:100%!important}.music-player-container[_ngcontent-%COMP%]   .player-backdrop[_ngcontent-%COMP%]{position:absolute;inset:-4px 0;box-sizing:border-box!important;background:linear-gradient(135deg,#00000026,#0000002e,#00000038 50%,#00000040);backdrop-filter:blur(16px) saturate(1.4) brightness(1.1);-webkit-backdrop-filter:blur(16px) saturate(1.4) brightness(1.1);border-radius:20px;opacity:.8;z-index:-1}.music-player-container[_ngcontent-%COMP%]   .player-backdrop[_ngcontent-%COMP%]:before{display:none!important}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%;opacity:0}50%{left:100%;opacity:1}to{left:100%;opacity:0}}.music-player[_ngcontent-%COMP%]{position:relative;width:100%;background:linear-gradient(135deg,#ffffff1f,#ffffff14 25%,#ffffff0f 75%,#ffffff0a);backdrop-filter:blur(24px) saturate(1.6);-webkit-backdrop-filter:blur(24px) saturate(1.6);border:1px solid rgba(255,255,255,.15);border-radius:16px;box-sizing:border-box!important;max-width:100%!important;box-shadow:0 12px 40px #00000040,0 4px 16px #00000026,0 2px 8px #0000001a,inset 0 1px #fff3,inset 0 -1px #ffffff1a;display:flex;flex-direction:column;gap:clamp(12px,2vw,20px);padding:clamp(16px,3vw,24px);font-family:Inter,Roboto,sans-serif;color:#fffffff2;font-size:16px;line-height:1.5;letter-spacing:.01em;transition:all .4s cubic-bezier(.19,1,.22,1)}.music-player[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 16px 48px #0000004d,0 6px 20px #0003,0 2px 8px #0000001a,inset 0 1px #ffffff40,inset 0 -1px #ffffff26}.status-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-height:0}.status-section[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:linear-gradient(135deg,#dc354526,#dc354514);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(220,53,69,.3);border-radius:8px;color:#ffffffe6;font-size:clamp(.85rem,1vw,1.1rem);font-weight:500}.status-section[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:16px;color:#ffc107e6}.status-section[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:16px;color:#fffc;font-size:clamp(.85rem,1vw,1.1rem);font-weight:400}.status-section[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.2);border-top:2px solid rgba(255,255,255,.8);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.track-section[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;gap:8px}.track-section[_ngcontent-%COMP%]   .track-details[_ngcontent-%COMP%]   .track-info-content[_ngcontent-%COMP%]   .track-title[_ngcontent-%COMP%]{font-size:clamp(1.4rem,2vw,2rem);font-weight:600;color:#fff;margin-bottom:4px;line-height:1.3;background:linear-gradient(135deg,#fff,#ffffffe6);-webkit-background-clip:text;background-clip:text;letter-spacing:.02em}.track-section[_ngcontent-%COMP%]   .track-details[_ngcontent-%COMP%]   .track-info-content[_ngcontent-%COMP%]   .track-artist[_ngcontent-%COMP%]{font-size:clamp(1.1rem,1.5vw,1.6rem);font-weight:400;color:#ffffffbf;line-height:1.4;font-style:italic;letter-spacing:.01em}.track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-title[_ngcontent-%COMP%]{font-size:clamp(1.4rem,2vw,2rem);font-weight:600;color:#fff;margin-bottom:4px;line-height:1.3;background:linear-gradient(135deg,#fff,#ffffffe6);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 2px 8px rgba(255,255,255,.1);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;letter-spacing:.02em}.track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-artist[_ngcontent-%COMP%]{font-size:clamp(1.1rem,1.5vw,1.6rem);font-weight:400;color:#ffffffbf;line-height:1.4;font-style:italic;letter-spacing:.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.track-section[_ngcontent-%COMP%]   .current-subtitle[_ngcontent-%COMP%]{font-size:clamp(.85rem,1vw,1.1rem);color:#fff9;font-weight:300;line-height:1.4;letter-spacing:.01em}.progress-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.progress-section.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.progress-section[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:clamp(.75rem,.9vw,.95rem);font-weight:400;color:#ffffffb3;font-variant-numeric:tabular-nums;letter-spacing:.02em}.progress-section[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%], .progress-section[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{padding:2px 4px;background:#ffffff0d;border-radius:4px;min-width:45px;text-align:center;font-family:Inter,monospace}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{position:relative;height:32px;display:flex;align-items:center}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]{position:relative;width:100%;height:6px;background:linear-gradient(90deg,#ffffff1a,#ffffff26,#ffffff1a);border-radius:3px;overflow:hidden;cursor:pointer;box-shadow:inset 0 1px 2px #0003,0 0 8px #ffffff0d}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#ffffffe6,#ffffffb3,#ffffffe6);border-radius:3px;transition:width .1s ease-out;box-shadow:0 0 12px #fff6,inset 0 1px #ffffff80}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]:after{display:none!important}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:32px;-webkit-appearance:none;background:transparent;outline:none;cursor:pointer;margin:0;padding:0;z-index:2}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:linear-gradient(135deg,#fffffff2,#fffc);border:2px solid rgba(255,255,255,.3);border-radius:50%;cursor:grab;transition:all .3s cubic-bezier(.19,1,.22,1);margin-top:-5px;box-shadow:0 4px 12px #0000004d,0 2px 6px #0003,inset 0 1px #ffffff80}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2);background:linear-gradient(135deg,#fff,#ffffffe6);box-shadow:0 6px 20px #0006,0 3px 10px #0000004d,0 0 16px #ffffff80,inset 0 1px #ffffffb3}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:active{cursor:grabbing;transform:scale(1.1)}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:6px;background:transparent;border-radius:3px}@keyframes _ngcontent-%COMP%_progressShimmer{0%{left:-100%;opacity:0}50%{left:100%;opacity:.6}to{left:100%;opacity:0}}.controls-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:clamp(16px,3vw,24px)}.controls-section.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:100px;flex:0 0 auto}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]{cursor:pointer;padding:6px;border-radius:6px;transition:all .3s cubic-bezier(.19,1,.22,1)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]   .volume-icon[_ngcontent-%COMP%]{width:18px;height:18px;filter:invert(1) opacity(.85);transition:all .3s cubic-bezier(.19,1,.22,1)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-icon-container[_ngcontent-%COMP%]   .volume-icon.muted[_ngcontent-%COMP%]{filter:invert(1) opacity(.6);transform:scale(.9)}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]{flex:1;max-width:80px}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]{position:relative;width:100%;height:4px;background:linear-gradient(90deg,#ffffff26,#fff3,#ffffff26);border-radius:2px;overflow:hidden;cursor:pointer}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#ffffffb3,#ffffffe6);border-radius:2px;transition:width .2s ease-out;box-shadow:0 0 6px #ffffff4d}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]{position:absolute;top:-6px;left:0;width:100%;height:16px;-webkit-appearance:none;background:transparent;outline:none;cursor:pointer;margin:0;padding:0;z-index:2}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:12px;height:12px;background:#ffffffe6;border-radius:50%;cursor:pointer;transition:all .2s cubic-bezier(.19,1,.22,1);margin-top:-4px;box-shadow:0 2px 6px #0000004d,inset 0 1px #ffffff80}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.3);background:#fff;box-shadow:0 3px 10px #0006,0 0 12px #fff9,inset 0 1px #ffffffb3}.controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]   .volume-track[_ngcontent-%COMP%]   .volume-slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:4px;background:transparent;border-radius:2px}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:clamp(14px,2.2vw,18px);flex:1;max-width:180px;width:100%;margin:0 auto;position:relative}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{position:relative;border:none;background:linear-gradient(135deg,#ffffff26,#ffffff14,#ffffff0d);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.2);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .4s cubic-bezier(.19,1,.22,1);box-shadow:0 6px 20px #00000040,0 2px 8px #00000026,inset 0 1px #ffffff4d,inset 0 -1px #ffffff1a}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:18px;height:18px;filter:invert(1) opacity(.9);transition:all .3s cubic-bezier(.19,1,.22,1);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]{width:40px;height:40px}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%]:hover, .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:linear-gradient(135deg,#fff3,#ffffff1f,#ffffff14);box-shadow:0 8px 28px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 20px #ffffff26}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%]:active, .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]:active{transform:scale(1.05);transition-duration:.15s}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]{width:52px;height:52px;background:linear-gradient(135deg,#ffffff2e,#ffffff1f,#ffffff14);border-width:1.5px}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:22px;height:22px;filter:invert(1) opacity(.95)}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]:hover{transform:scale(1.08);background:linear-gradient(135deg,#ffffff40,#ffffff2e,#ffffff1f);box-shadow:0 12px 36px #00000059,0 6px 16px #00000040,inset 0 1px #ffffff80,inset 0 -1px #fff3,0 0 32px #fff3}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]:active{transform:scale(1.02);transition-duration:.15s}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button.playing[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff38,#ffffff26,#ffffff1a);box-shadow:0 8px 24px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 24px #ffffff2e;animation:_ngcontent-%COMP%_playingPulse 2s ease-in-out infinite}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;transform:none}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:disabled:hover{transform:none;background:linear-gradient(135deg,#ffffff14,#ffffff0d)}@keyframes _ngcontent-%COMP%_playingPulse{0%,to{box-shadow:0 8px 24px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 24px #ffffff2e}50%{box-shadow:0 8px 24px #0000004d,0 4px 12px #0003,inset 0 1px #fff6,inset 0 -1px #ffffff26,0 0 32px #ffffff40}}@media (max-width: 768px){.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]{padding:clamp(14px,4vw,20px);gap:clamp(10px,2.5vw,16px);border-radius:14px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-title[_ngcontent-%COMP%]{font-size:clamp(.95rem,1.2vw,1.3rem)}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .track-section[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .track-artist[_ngcontent-%COMP%]{font-size:clamp(.85rem,1vw,1.1rem)}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]{height:8px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]{height:36px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{width:18px;height:18px;margin-top:-5px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{gap:clamp(8px,3vw,16px)}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]{min-width:80px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]{max-width:60px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]{gap:clamp(8px,2.5vw,12px);max-width:160px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%], .music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]{width:36px;height:36px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.previous-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%], .music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.next-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:16px;height:16px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]{width:46px;height:46px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 480px){.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]{padding:12px 16px;gap:8px;border-radius:12px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]{order:2;align-self:stretch;min-width:auto}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .volume-section[_ngcontent-%COMP%]   .volume-control[_ngcontent-%COMP%]{max-width:none;flex:1}.music-player-container[_ngcontent-%COMP%]   .music-player[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]{order:1;max-width:none;justify-content:center}}input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:16px;height:16px;background:linear-gradient(135deg,#fffffff2,#fffc);border:2px solid rgba(255,255,255,.3);border-radius:50%;cursor:pointer;box-shadow:0 4px 12px #0000004d,0 2px 6px #0003,inset 0 1px #ffffff80;-moz-appearance:none}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb:hover{background:linear-gradient(135deg,#fff,#ffffffe6);box-shadow:0 6px 20px #0006,0 3px 10px #0000004d,0 0 16px #ffffff80,inset 0 1px #ffffffb3;transform:scale(1.2)}input[type=range][_ngcontent-%COMP%]::-moz-range-track{height:6px;background:linear-gradient(90deg,#ffffff1a,#ffffff26,#ffffff1a);border:none;border-radius:3px;-moz-appearance:none}input[type=range][_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}@media (prefers-reduced-motion: reduce){.music-player-container[_ngcontent-%COMP%]   .player-backdrop[_ngcontent-%COMP%]:before{animation:none}.progress-section[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]:after{animation:none}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{transition-duration:.2s}.controls-section[_ngcontent-%COMP%]   .playback-controls[_ngcontent-%COMP%]   .control-button.play-pause-button.playing[_ngcontent-%COMP%]{animation:none}@keyframes shimmer{0%,to{opacity:0}}@keyframes progressShimmer{0%,to{opacity:0}}@keyframes playingPulse{0%,to{opacity:1}}@keyframes spin{0%,to{transform:rotate(0)}}}"],changeDetection:0});var Me=rt;function ai(u,e){if(u&1&&P(0,"div",24),u&2){let i=e.$implicit;ht("left",i.x+"vw")("top",i.y+"vh")("--move-x",i.moveX+"px")("--move-y",i.moveY+"px")("--scale",i.scale)("--base-opacity",i.opacity)("--rotation-offset",i.rotationOffset)("--delay",i.delay),T("clockwise",i.clockwise)("counter-clockwise",!i.clockwise)}}var st=class st{constructor(e,i,n){this.cdr=e;this.renderer=i;this.document=n;this._progress=0;this.progressText="0%";this.runes=[];this.originalHeaderStyles=new Map}set progress(e){this._progress=e,this.progressText=`${Math.floor(e)}%`,this.cdr.markForCheck()}get progress(){return this._progress}ngOnInit(){this.generateRunePositions(),this.suppressHighZIndexHeaders()}ngOnDestroy(){this.restoreHeaderStyles()}suppressHighZIndexHeaders(){console.log("\u{1F527} LoadingScreen: Starting header suppression");let e=["app-site-header",".site-header",'header[class*="header"]',".cd-cases-container",".debug-toggle",".debug-panel",".right-side-menu",".mobile-navbar",'[class*="z-index"]','[style*="z-index"]'],i=this.document.querySelectorAll(e.join(", "));console.log(`\u{1F50D} Found ${i.length} potential interfering elements`),i.forEach((n,r)=>{let l=n,p=getComputedStyle(l),h=p.zIndex||"auto",f=p.visibility||"visible";console.log(`\u{1F4DD} Element ${r}: ${l.tagName}.${l.className} - z-index: ${h}`),this.originalHeaderStyles.set(l,JSON.stringify({zIndex:h,visibility:f,display:p.display||"block"})),this.renderer.setStyle(l,"z-index","1",Y.Important),this.renderer.setStyle(l,"visibility","hidden",Y.Important),console.log(`\u2705 Suppressed element ${r}`)}),this.renderer.addClass(this.document.body,"loading-screen-active"),console.log("\u{1F3AF} Header suppression completed")}restoreHeaderStyles(){console.log("\u{1F527} LoadingScreen: Restoring header styles"),this.renderer.removeClass(this.document.body,"loading-screen-active"),console.log("\u{1F4DD} Removed loading-screen-active class from body"),this.originalHeaderStyles.forEach((i,n)=>{try{let r=JSON.parse(i);r.zIndex==="auto"||r.zIndex===""?this.renderer.removeStyle(n,"z-index"):this.renderer.setStyle(n,"z-index",r.zIndex),n.tagName.toLowerCase()==="app-site-header"||n.classList.contains("site-header")?(this.renderer.setStyle(n,"visibility","visible",Y.Important),console.log("\u{1F3AF} Forced header visibility to visible")):r.visibility==="visible"?this.renderer.removeStyle(n,"visibility"):this.renderer.setStyle(n,"visibility",r.visibility)}catch(r){console.warn("\u26A0\uFE0F Failed to restore styles for element:",n,r),this.renderer.removeStyle(n,"z-index"),this.renderer.removeStyle(n,"visibility"),(n.tagName.toLowerCase()==="app-site-header"||n.classList.contains("site-header"))&&this.renderer.setStyle(n,"visibility","visible",Y.Important)}}),this.document.querySelectorAll("app-site-header, .site-header, header").forEach(i=>{let n=i;this.renderer.setStyle(n,"visibility","visible",Y.Important),this.renderer.setStyle(n,"z-index","1000",Y.Important)}),this.originalHeaderStyles.clear(),console.log("\u2705 Header styles restored with enhanced visibility enforcement")}generateRunePositions(){this.runes=Array.from({length:48},()=>({x:Math.random()*100,y:Math.random()*100,scale:.6+Math.random()*1.4,delay:Math.random()*8,opacity:.3+Math.random()*.5,moveX:15+Math.random()*20,moveY:15+Math.random()*20,rotationOffset:Math.random()*360,clockwise:Math.random()<.5}))}};st.\u0275fac=function(i){return new(i||st)(G(ft),G(Ct),G(lt))},st.\u0275cmp=I({type:st,selectors:[["app-loading-screen"]],inputs:{progress:"progress"},decls:25,vars:3,consts:[[1,"loader-container"],[1,"magical-circle","outer"],[1,"magical-circle"],[1,"rune-effects"],[1,"decorative-elements"],[1,"corner-line","top-left"],[1,"corner-line","top-right"],[1,"corner-line","bottom-left"],[1,"corner-line","bottom-right"],[1,"mid-line","left"],[1,"mid-line","right"],[1,"mid-line","top"],[1,"mid-line","bottom"],[1,"light-beams"],[1,"beam","beam-1"],[1,"beam","beam-2"],[1,"beam","beam-3"],[1,"beam","beam-4"],[1,"rune-circle"],["class","rune",3,"clockwise","counter-clockwise","left","top","--move-x","--move-y","--scale","--base-opacity","--rotation-offset","--delay",4,"ngFor","ngForOf"],[1,"content"],[1,"logo-container"],["src","/assets/images/logos/prismcoll.svg","alt","Prismatic Collections",1,"logo"],[1,"loading-text"],[1,"rune"]],template:function(i,n){i&1&&(y(0,"div",0),P(1,"div",1)(2,"div",2)(3,"div",3),y(4,"div",4),P(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),C(),y(13,"div",13),P(14,"div",14)(15,"div",15)(16,"div",16)(17,"div",17),C(),y(18,"div",18),it(19,ai,1,20,"div",19),C(),y(20,"div",20)(21,"div",21),P(22,"img",22),C(),y(23,"div",23),E(24,"NOW LOADING"),C()()()),i&2&&(T("visible",!0),x(19),A("ngForOf",n.runes))},dependencies:[At,ae],styles:['.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:#fff;opacity:0;pointer-events:none;transition:opacity .5s ease;z-index:2147483647;isolation:isolate;transform:translateZ(0);will-change:opacity,transform;position:fixed!important;z-index:2147483647!important;contain:layout size style}.loader-container.visible[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]{position:relative;z-index:2147483647}.loader-container.visible[_ngcontent-%COMP%] ~ *[_ngcontent-%COMP%]{z-index:1!important}[_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   .debug-toggle[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   .debug-panel[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   .cd-cases-container[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   .right-side-menu[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   .mobile-navbar[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   [class*=z-index][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   [style*=z-index][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body.loading-screen-active)   .debug-toggle[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   .debug-panel[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   .cd-cases-container[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   .right-side-menu[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   .mobile-navbar[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   [class*=z-index][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body.loading-screen-active)   [style*=z-index][_ngcontent-%COMP%]:not(.site-header):not(app-site-header){z-index:1!important;visibility:hidden!important}[_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   .site-header[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   app-site-header[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   header[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   .site-header[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   app-site-header[_ngcontent-%COMP%], [_ngcontent-%COMP%]:global(body.loading-screen-active)   header[_ngcontent-%COMP%]{z-index:1!important}[_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   *[style*="z-index: 999"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   *[style*="z-index: 1000"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   *[style*="z-index: 9999"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body:has(.loader-container.visible))   *[style*="z-index: 10000"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body.loading-screen-active)   *[style*="z-index: 999"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body.loading-screen-active)   *[style*="z-index: 1000"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body.loading-screen-active)   *[style*="z-index: 9999"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header), [_ngcontent-%COMP%]:global(body.loading-screen-active)   *[style*="z-index: 10000"][_ngcontent-%COMP%]:not(.site-header):not(app-site-header){z-index:1!important;visibility:hidden!important}.logo-container[_ngcontent-%COMP%]{position:relative;z-index:10;margin-bottom:30px}.logo[_ngcontent-%COMP%]{width:240px;height:auto;display:block;margin:0 auto}.magical-circle[_ngcontent-%COMP%]{position:absolute;width:800px;height:800px;border:1px solid rgba(0,0,0,.1);border-radius:50%;animation:_ngcontent-%COMP%_rotate 20s linear infinite}.magical-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;border:2px solid transparent;border-top-color:#0003;border-radius:50%}.magical-circle[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-10px;border:1px solid transparent;border-left-color:#00000026;border-radius:50%}.magical-circle.outer[_ngcontent-%COMP%]{width:1000px;height:1000px;animation:_ngcontent-%COMP%_rotate 30s linear infinite reverse;opacity:.5}.decorative-elements[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;pointer-events:none}.corner-line[_ngcontent-%COMP%]{position:absolute;width:150px;height:150px;border:2px solid rgba(0,0,0,.15);border-radius:4px}.corner-line[_ngcontent-%COMP%]:before, .corner-line[_ngcontent-%COMP%]:after{content:"";position:absolute;background:linear-gradient(90deg,#0000001a,#0003)}.corner-line.top-left[_ngcontent-%COMP%]{top:50px;left:50px;border-right:none;border-bottom:none;animation:_ngcontent-%COMP%_pulse 3s infinite}.corner-line.top-right[_ngcontent-%COMP%]{top:50px;right:50px;border-left:none;border-bottom:none;animation:_ngcontent-%COMP%_pulse 3s infinite .75s}.corner-line.bottom-left[_ngcontent-%COMP%]{bottom:50px;left:50px;border-right:none;border-top:none;animation:_ngcontent-%COMP%_pulse 3s infinite 1.5s}.corner-line.bottom-right[_ngcontent-%COMP%]{bottom:50px;right:50px;border-left:none;border-top:none;animation:_ngcontent-%COMP%_pulse 3s infinite 2.25s}.mid-line[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;border:2px solid rgba(0,0,0,.15);border-radius:4px;animation:_ngcontent-%COMP%_pulse 3s infinite}.mid-line.left[_ngcontent-%COMP%]{left:50px;top:50%;transform:translateY(-50%);border-right:none;animation-delay:.5s}.mid-line.right[_ngcontent-%COMP%]{right:50px;top:50%;transform:translateY(-50%);border-left:none;animation-delay:1s}.mid-line.top[_ngcontent-%COMP%]{top:50px;left:50%;transform:translate(-50%);border-bottom:none;animation-delay:1.5s}.mid-line.bottom[_ngcontent-%COMP%]{bottom:50px;left:50%;transform:translate(-50%);border-top:none;animation-delay:2s}.rune-circle[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;pointer-events:none;left:0;top:0}.rune[_ngcontent-%COMP%]{position:absolute;width:18px;height:18px;background:linear-gradient(135deg,#0006,#3c3c3c4d);clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);transform-origin:center center;transform:translate(0) scale(var(--scale)) rotate(calc(var(--rotation-offset) * 1deg));opacity:var(--base-opacity);will-change:transform;animation:none}.rune.clockwise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rune-move-clockwise 8s infinite linear;animation-delay:calc(var(--delay) * -1s)}.rune.counter-clockwise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rune-move-counterclockwise 8s infinite linear;animation-delay:calc(var(--delay) * -1s)}.rune[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.6));mix-blend-mode:screen;animation:_ngcontent-%COMP%_sparkle 4s infinite linear}.rune[_ngcontent-%COMP%]:after{content:"";position:absolute;width:140%;height:140%;top:-20%;left:-20%;background:radial-gradient(circle at center,rgba(120,200,255,.15) 0%,rgba(70,150,255,.1) 30%,transparent 70%);mix-blend-mode:screen;opacity:.5}.rune-effects[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;pointer-events:none;mix-blend-mode:multiply;background:radial-gradient(circle at center,transparent 0%,rgba(0,0,0,.02) 50%,transparent 100%);animation:_ngcontent-%COMP%_effect-pulse-safe 8s infinite ease-in-out;left:0;top:0;contain:layout}.light-beams[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;pointer-events:none;mix-blend-mode:multiply}.beam[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(90deg,#0000001a,#28282826,#0000001a);mix-blend-mode:multiply}.beam.beam-1[_ngcontent-%COMP%]{width:600px;height:2px;animation:_ngcontent-%COMP%_beam-rotate 8s infinite linear,_ngcontent-%COMP%_beam-pulse 4s infinite ease-in-out}.beam.beam-2[_ngcontent-%COMP%]{width:400px;height:1px;animation:_ngcontent-%COMP%_beam-rotate 12s infinite linear reverse,_ngcontent-%COMP%_beam-pulse 6s infinite ease-in-out 1s}.beam.beam-3[_ngcontent-%COMP%]{width:300px;height:1px;animation:_ngcontent-%COMP%_beam-rotate 10s infinite linear,_ngcontent-%COMP%_beam-pulse 5s infinite ease-in-out 2s}.beam.beam-4[_ngcontent-%COMP%]{width:200px;height:1px;animation:_ngcontent-%COMP%_beam-rotate 14s infinite linear reverse,_ngcontent-%COMP%_beam-pulse 7s infinite ease-in-out 3s}.content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-text[_ngcontent-%COMP%]{margin-top:2rem;font-size:1rem;letter-spacing:.3em;text-transform:uppercase;color:#000000b3;font-family:Arial,sans-serif;font-weight:500}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.2}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_rune-move-clockwise{0%{transform:translate(0) scale(var(--scale)) rotate(calc(var(--rotation-offset) * 1deg))}25%{transform:translate(var(--move-x),var(--move-y)) scale(var(--scale)) rotate(calc((90 + var(--rotation-offset)) * 1deg))}50%{transform:translateY(var(--move-y)) scale(var(--scale)) rotate(calc((180 + var(--rotation-offset)) * 1deg))}75%{transform:translate(calc(var(--move-x) * -1)) scale(var(--scale)) rotate(calc((270 + var(--rotation-offset)) * 1deg))}to{transform:translate(0) scale(var(--scale)) rotate(calc((360 + var(--rotation-offset)) * 1deg))}}@keyframes _ngcontent-%COMP%_rune-move-counterclockwise{0%{transform:translate(0) scale(var(--scale)) rotate(calc(var(--rotation-offset) * 1deg))}25%{transform:translate(var(--move-x),var(--move-y)) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 90) * 1deg))}50%{transform:translateY(var(--move-y)) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 180) * 1deg))}75%{transform:translate(calc(var(--move-x) * -1)) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 270) * 1deg))}to{transform:translate(0) scale(var(--scale)) rotate(calc((var(--rotation-offset) - 360) * 1deg))}}@keyframes _ngcontent-%COMP%_beam-rotate{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}@keyframes _ngcontent-%COMP%_beam-pulse{0%,to{opacity:.2;width:100%}50%{opacity:.5;width:120%}}@keyframes _ngcontent-%COMP%_sparkle{0%,to{opacity:.4;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_effect-pulse-safe{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_effect-pulse{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.1)}}'],changeDetection:0});var Pe=st;export{oi as a,Ne as b,na as c,Ba as d,Ft as e,Lt as f,zt as g,Me as h,Pe as i};
