/* Import unified triangle animations and winter background system */
/* Triangle animations now handled by TypeScript component */
@use '../../shared/styles/unified-background.scss' as winter;

/* 
 * Z-INDEX HIERARCHY DOCUMENTATION
 * ===============================
 * 0: Triangle background (triangle-container) - Above page background, below content
 * 10: Main collections content container (collections-main)
 * 15: Page header
 * 20: Album cards base layer
 * 25: Featured album badge (::after pseudo-element)
 * 
 * This hierarchy ensures triangles are visible above the page background
 * while cards and content appear above triangles with proper glassmorphism effects.
 */

/* Collections Page - Album Cards Implementation */

.collections-page {
  min-height: 100vh;
  color: #ffffff;
  position: relative;
  overflow-x: hidden;
  margin-top: 89px;
  
  /* Static Background: Only radial gradients and base gradient - NEVER animated */
  background: 
    radial-gradient(ellipse at 15% 25%, rgba(74, 158, 255, 0.12) 0%, transparent 40%),
    radial-gradient(ellipse at 85% 75%, rgba(32, 178, 170, 0.10) 0%, transparent 45%),
    linear-gradient(180deg,
      #1a1a1f 0%,
      #1f2429 25%,
      #242932 50%,
      #1d2127 75%,
      #181820 100%
    );
  
  /* Diagonal Lines Layer - Separate animatable pseudo-element */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      repeating-linear-gradient(
        -45deg,
        transparent 0px,
        transparent 3px,
        rgba(74, 158, 255, 0.035) 4px,
        rgba(74, 158, 255, 0.035) 5px,
        transparent 6px,
        transparent 9px,
        rgba(32, 178, 170, 0.03) 10px,
        rgba(32, 178, 170, 0.03) 11px,
        transparent 12px,
        transparent 15px,
        rgba(0, 206, 209, 0.025) 16px,
        rgba(0, 206, 209, 0.025) 17px,
        transparent 18px,
        transparent 21px
      ),
      repeating-linear-gradient(
        -75deg,
        transparent 0px,
        transparent 8px,
        rgba(74, 158, 255, 0.02) 9px,
        rgba(74, 158, 255, 0.02) 10px,
        transparent 11px,
        transparent 19px
      );
    pointer-events: none;
    z-index: 1;
  }
  
  /* Diagonal Line Animation Variations - A to T (20 animations) */
  /* All animations target ONLY the ::before pseudo-element (diagonal lines layer) */
  
  /* A - Smooth diagonal slide right-down */
  &.anim-a::before {
    animation: diagonalSlideA 8s linear infinite;
  }
  
  /* B - Pulsing diagonal opacity */
  &.anim-b::before {
    animation: diagonalPulseB 6s ease-in-out infinite;
  }
  
  /* C - Fast diagonal sweep */
  &.anim-c::before {
    animation: diagonalSweepC 4s linear infinite;
  }
  
  /* D - Slow diagonal drift */
  &.anim-d::before {
    animation: diagonalDriftD 15s linear infinite;
  }
  
  /* E - Diagonal breathing effect */
  &.anim-e::before {
    animation: diagonalBreatheE 7s ease-in-out infinite;
  }
  
  /* F - Diagonal color shift */
  &.anim-f::before {
    animation: diagonalColorShiftF 12s ease-in-out infinite;
  }
  
  /* G - Multi-layer diagonal movement */
  &.anim-g::before {
    animation: diagonalMultiLayerG 20s linear infinite;
  }
  
  /* H - Diagonal shimmer */
  &.anim-h::before {
    animation: diagonalShimmerH 5s ease-in-out infinite;
  }
  
  /* I - Diagonal glitch effect */
  &.anim-i::before {
    animation: diagonalGlitchI 8s linear infinite;
  }
  
  /* J - Diagonal wave motion */
  &.anim-j::before {
    animation: diagonalWaveJ 14s ease-in-out infinite;
  }
  
  /* K - Diagonal fade in/out */
  &.anim-k::before {
    animation: diagonalFadeK 9s ease-in-out infinite;
  }
  
  /* L - Diagonal bounce */
  &.anim-l::before {
    animation: diagonalBounceL 6s ease-in-out infinite;
  }
  
  /* M - Continuous diagonal slide */
  &.anim-m::before {
    animation: diagonalContinuousM 11s linear infinite;
  }
  
  /* N - Diagonal spiral */
  &.anim-n::before {
    animation: diagonalSpiralN 18s linear infinite;
  }
  
  /* O - Diagonal zoom pulse */
  &.anim-o::before {
    animation: diagonalZoomPulseO 7s ease-in-out infinite;
  }
  
  /* P - Diagonal blur waves */
  &.anim-p::before {
    animation: diagonalBlurWavesP 13s ease-in-out infinite;
  }
  
  /* Q - Diagonal opacity waves */
  &.anim-q::before {
    animation: diagonalOpacityWavesQ 10s ease-in-out infinite;
  }
  
  /* R - Diagonal position oscillation */
  &.anim-r::before {
    animation: diagonalPositionOscillationR 16s ease-in-out infinite;
  }
  
  /* S - Diagonal temperature shift */
  &.anim-s::before {
    animation: diagonalTemperatureShiftS 14s ease-in-out infinite;
  }
  
  /* T - Diagonal morphing pattern */
  &.anim-t::before {
    animation: diagonalMorphingPatternT 12s ease-in-out infinite;
  }
  
  /* Restore subtle animated texture */
  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
      radial-gradient(circle at 90% 90%, rgba(255, 255, 255, 0.025) 1px, transparent 1px),
      radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 100px 100px, 80px 80px, 120px 120px;
    animation: subtleFloat 20s infinite linear;
    pointer-events: none;
    z-index: 0;
  }
  
  /* Apply winter text colors */
  @include winter.winter-text-colors;
  
  /* Let content determine height naturally */
  height: auto;
}

/* Diagonal Line Animation Keyframes - 20 Variations Targeting the Diagonal Lines */

/* A - Smooth diagonal slide right-down */
@keyframes diagonalSlideA {
  0% {
    background-position: 0px 0px, 0px 0px;
  }
  100% {
    background-position: 42px 42px, 38px 38px;
  }
}

/* B - Pulsing diagonal opacity */
@keyframes diagonalPulseB {
  0%, 100% {
    opacity: 1;
  }
  25% {
    opacity: 0.7;
  }
  50% {
    opacity: 0.9;
  }
  75% {
    opacity: 0.6;
  }
}

/* C - Fast diagonal sweep */
@keyframes diagonalSweepC {
  0% {
    background-position: 0px 0px, 0px 0px;
  }
  100% {
    background-position: 84px 84px, 76px 76px;
  }
}

/* D - Slow diagonal drift */
@keyframes diagonalDriftD {
  0% {
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    background-position: 15px 15px, 12px 12px;
  }
  50% {
    background-position: 30px 30px, 25px 25px;
  }
  75% {
    background-position: 45px 45px, 38px 38px;
  }
  100% {
    background-position: 60px 60px, 50px 50px;
  }
}

/* E - Diagonal breathing effect (opacity-based) */
@keyframes diagonalBreatheE {
  0%, 100% {
    filter: opacity(1) saturate(1);
  }
  50% {
    filter: opacity(0.4) saturate(1.3);
  }
}

/* F - Diagonal color shift (hue rotation) */
@keyframes diagonalColorShiftF {
  0%, 100% {
    filter: hue-rotate(0deg);
  }
  33% {
    filter: hue-rotate(30deg);
  }
  66% {
    filter: hue-rotate(-20deg);
  }
}

/* G - Multi-layer diagonal movement */
@keyframes diagonalMultiLayerG {
  0% {
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    background-position: 21px 21px, -19px -19px;
  }
  50% {
    background-position: 42px 42px, -38px -38px;
  }
  75% {
    background-position: 63px 63px, -57px -57px;
  }
  100% {
    background-position: 84px 84px, -76px -76px;
  }
}

/* H - Diagonal shimmer (brightness variation) */
@keyframes diagonalShimmerH {
  0%, 100% {
    filter: brightness(1) contrast(1);
  }
  25% {
    filter: brightness(1.4) contrast(1.2);
  }
  50% {
    filter: brightness(0.8) contrast(1.1);
  }
  75% {
    filter: brightness(1.6) contrast(1.3);
  }
}

/* I - Diagonal glitch effect (position jumps) */
@keyframes diagonalGlitchI {
  0%, 85%, 100% {
    background-position: 0px 0px, 0px 0px;
  }
  10% {
    background-position: 5px 5px, -3px -3px;
  }
  15% {
    background-position: -8px -8px, 6px 6px;
  }
  20% {
    background-position: 12px 12px, -10px -10px;
  }
  25% {
    background-position: -5px -5px, 8px 8px;
  }
}

/* J - Diagonal wave motion (sine wave pattern) */
@keyframes diagonalWaveJ {
  0% {
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    background-position: 30px 15px, -20px -10px;
  }
  50% {
    background-position: 10px 40px, -15px -25px;
  }
  75% {
    background-position: -20px 25px, 25px -15px;
  }
  100% {
    background-position: 0px 0px, 0px 0px;
  }
}

/* K - Diagonal fade in/out */
@keyframes diagonalFadeK {
  0%, 100% {
    filter: opacity(1);
  }
  20% {
    filter: opacity(0.2);
  }
  40% {
    filter: opacity(0.8);
  }
  60% {
    filter: opacity(0.1);
  }
  80% {
    filter: opacity(0.6);
  }
}

/* L - Diagonal bounce (back and forth) */
@keyframes diagonalBounceL {
  0%, 100% {
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    background-position: 15px 15px, 12px 12px;
  }
  50% {
    background-position: -10px -10px, -8px -8px;
  }
  75% {
    background-position: 20px 20px, 16px 16px;
  }
}

/* M - Continuous diagonal slide */
@keyframes diagonalContinuousM {
  0% {
    background-position: 0px 0px, 0px 0px;
  }
  100% {
    background-position: 220px 220px, 200px 200px;
  }
}

/* N - Diagonal spiral (rotating movement) */
@keyframes diagonalSpiralN {
  0% {
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    background-position: 30px 15px, 25px 12px;
  }
  50% {
    background-position: 15px 30px, 12px 25px;
  }
  75% {
    background-position: -15px 15px, -12px 12px;
  }
  100% {
    background-position: 0px 0px, 0px 0px;
  }
}

/* O - Diagonal zoom pulse (background-size) */
@keyframes diagonalZoomPulseO {
  0%, 100% {
    background-size: 42px 42px, 38px 38px;
  }
  50% {
    background-size: 60px 60px, 55px 55px;
  }
}

/* P - Diagonal blur waves */
@keyframes diagonalBlurWavesP {
  0%, 100% {
    filter: blur(0px);
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    filter: blur(1px);
    background-position: 15px 15px, 12px 12px;
  }
  50% {
    filter: blur(2px);
    background-position: 30px 30px, 25px 25px;
  }
  75% {
    filter: blur(1px);
    background-position: 15px 15px, 12px 12px;
  }
}

/* Q - Diagonal opacity waves */
@keyframes diagonalOpacityWavesQ {
  0%, 100% {
    filter: opacity(1);
  }
  16% {
    filter: opacity(0.3);
  }
  32% {
    filter: opacity(0.7);
  }
  48% {
    filter: opacity(0.2);
  }
  64% {
    filter: opacity(0.9);
  }
  80% {
    filter: opacity(0.4);
  }
}

/* R - Diagonal position oscillation */
@keyframes diagonalPositionOscillationR {
  0%, 100% {
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    background-position: 8px 12px, 6px 10px;
  }
  50% {
    background-position: -12px 8px, -10px 6px;
  }
  75% {
    background-position: 15px -10px, 12px -8px;
  }
}

/* S - Diagonal temperature shift (hue + brightness) */
@keyframes diagonalTemperatureShiftS {
  0%, 100% {
    filter: hue-rotate(0deg) brightness(1);
  }
  33% {
    filter: hue-rotate(45deg) brightness(1.2);
  }
  66% {
    filter: hue-rotate(-30deg) brightness(0.8);
  }
}

/* T - Diagonal morphing pattern (size + position) */
@keyframes diagonalMorphingPatternT {
  0%, 100% {
    background-size: 42px 42px, 38px 38px;
    background-position: 0px 0px, 0px 0px;
  }
  25% {
    background-size: 55px 55px, 50px 50px;
    background-position: 20px 10px, 18px 8px;
  }
  50% {
    background-size: 35px 35px, 32px 32px;
    background-position: 40px 20px, 35px 18px;
  }
  75% {
    background-size: 65px 65px, 60px 60px;
    background-position: 20px 30px, 18px 25px;
  }
}

/* Modern subtle background animation */
@keyframes subtleFloat {
  0% {
    background-position: 0px 0px, 0px 0px, 0px 0px;
  }
  33% {
    background-position: 30px 20px, 20px 40px, 40px 10px;
  }
  66% {
    background-position: 20px 40px, 40px 20px, 10px 30px;
  }
  100% {
    background-position: 0px 0px, 0px 0px, 0px 0px;
  }
}

/* Main Content Container - Same as home page */
.collections-main {
  position: relative;
  z-index: 2;
  padding: 0 2rem;
  max-width: 1400px;
  margin: 0 auto;
  padding-top: 4rem;
  padding-bottom: 4rem;
}

/* Hero Section - Exact copy from home page */
.hero {
  position: relative;
  height: 25vh;
  min-height: 220px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  margin-bottom: 3rem;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  
  /* Slightly transparent card styling for illuminated dark theme */
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.25) 0%, 
    rgba(255, 255, 255, 0.22) 50%, 
    rgba(255, 255, 255, 0.18) 100%);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-radius: 24px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-sizing: border-box;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  padding: 3rem 2.5rem;
  
  /* Additional glow effect */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
      circle at center,
      rgba(255, 255, 255, 0.05) 0%,
      transparent 60%
    );
    pointer-events: none;
    z-index: -1;
  }
  
  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('/assets/images/hero-bg.jpg');
    background-size: cover;
    background-position: center;
    z-index: -1;
    
    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8));
    }
  }
  
  .hero-content {
    text-align: center;
    z-index: 1;
    position: relative;
    
    .title {
      font-size: 3.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      color: #ffffff;
      position: relative;
      z-index: 1;
    }
    
    .subtitle {
      font-size: 1.5rem;
      margin-bottom: 2rem;
      color: rgba(255, 255, 255, 0.9); /* White text for dark background */
      position: relative;
      z-index: 1;
    }
    
    .hero-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      position: relative;
      z-index: 1;
      
      .button {
        padding: 0.75rem 1.5rem;
        border-radius: 30px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        
        &.primary {
          background: linear-gradient(135deg, #ff7f50, #ff5252);
          color: #ffffff; /* White text for dark theme */
          border: none;
          
          &:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(255, 127, 80, 0.3);
          }
        }
        
        &.secondary {
          background: transparent;
          color: #ffffff; /* White text for dark theme */
          border: 2px solid #4a90e2;
          
          &:hover {
            background-color: rgba(74, 144, 226, 0.1);
            transform: translateY(-3px);
          }
        }
      }
    }
  }
}

/* Albums Container */
.albums-container {
  position: relative;
  width: 100%;
  margin: 2rem 0;
}

/* Albums Grid */
.albums-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 2rem;
  padding: 1rem 0;
}

/* Album Card - Black Glassy Theme */
.album-card {
  position: relative;
  z-index: 20; /* Ensure cards are above all background elements */
  background: rgba(0, 0, 0, 0.7); /* Black transparent base */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-radius: 20px;
  overflow: hidden;
  cursor: pointer;
  /* Optimize transitions - only animate specific properties */
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              backdrop-filter 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid rgba(255, 255, 255, 0.1);
  
  /* Enable hardware acceleration */
  will-change: transform, box-shadow;
  transform: translateZ(0); /* Force GPU layer */
  
  /* Add subtle background overlay to enhance glassmorphism */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.2); /* Black overlay for depth */
    z-index: -1;
    border-radius: inherit;
  }
  
  &:hover {
    /* Use translate3d for better performance */
    transform: translate3d(0, -8px, 0);
    border-color: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(16px); /* Enhance blur on hover */
    -webkit-backdrop-filter: blur(16px);
    /* Enhanced box-shadow with glassmorphism effect */
    box-shadow: 0 16px 32px rgba(0, 0, 0, 0.6),
                0 8px 16px rgba(255, 255, 255, 0.05);
    
    .card-overlay {
      opacity: 1;
    }
    
    .play-button {
      transform: scale3d(1.05, 1.05, 1); /* Reduce scale for smoother animation */
    }
    
    /* Enhance glassmorphism background on hover */
    &::before {
      background: rgba(0, 0, 0, 0.1); /* Lighter on hover */
    }
  }
  
  &.featured {
    border: 2px solid rgba(255, 255, 255, 0.2);
    background: rgba(0, 0, 0, 0.8); /* Slightly darker for featured */
    backdrop-filter: blur(16px); /* Enhanced blur for featured cards */
    -webkit-backdrop-filter: blur(16px);
    
    /* Enhanced glassmorphism background for featured */
    &::before {
      background: rgba(255, 255, 255, 0.02); /* Very subtle highlight */
    }
    
    /* Featured label positioned properly with z-index */
    &::after {
      content: 'FEATURED';
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: linear-gradient(45deg, #8a2be2, #9932cc);
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: bold;
      z-index: 25; /* Above card content */
      box-shadow: 0 4px 8px rgba(138, 43, 226, 0.3);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    
    &:hover {
      border-color: rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(20px); /* Extra enhanced blur on hover for featured */
      -webkit-backdrop-filter: blur(20px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7),
                  0 8px 16px rgba(255, 255, 255, 0.08);
      
      &::before {
        background: rgba(255, 255, 255, 0.03); /* Subtle hover highlight */
      }
    }
  }
  
  &.ethereal-glassy {
    border: 2px solid rgba(255, 255, 255, 0.15);
    background: rgba(0, 0, 0, 0.75); /* Slightly less transparent */
    backdrop-filter: blur(15px); /* Enhanced blur for glassy effect */
    -webkit-backdrop-filter: blur(15px);
    
    /* Enhanced glassmorphism background for ethereal */
    &::before {
      background: rgba(255, 255, 255, 0.015); /* Very subtle highlight */
    }
    
    &:hover {
      border-color: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(18px); /* Extra enhanced blur on hover */
      -webkit-backdrop-filter: blur(18px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6),
                  0 8px 16px rgba(255, 255, 255, 0.06);
      
      &::before {
        background: rgba(255, 255, 255, 0.025); /* Subtle hover highlight */
      }
    }
  }
}

/* Card Image - Performance Optimized */
.card-image {
  position: relative;
  width: 100%;
  height: 180px;
  overflow: hidden;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    /* Faster transition with hardware acceleration */
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
    transform: translateZ(0); /* Force GPU layer */
  }
  
  &:hover img {
    /* Use scale3d for hardware acceleration and reduce scale */
    transform: scale3d(1.05, 1.05, 1);
  }
}

/* Card Overlay - Performance Optimized */
.card-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  /* Faster transition */
  transition: opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity;
}

/* Play Button - Performance Optimized */
.play-button {
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #000;
  /* Faster transition with hardware acceleration */
  transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
  transform: translateZ(0); /* Force GPU layer */
  
  svg {
    margin-left: 2px; // Optical alignment for play icon
  }
}

/* Card Content */
.card-content {
  padding: 1rem;
}

.album-title {
  font-size: 1.3rem;
  font-weight: bold;
  margin: 0 0 0.4rem 0;
  color: #ffffff;
}

.album-artist {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.7);
  margin: 0 0 0.8rem 0;
  font-weight: 500;
}

.album-meta {
  display: flex;
  gap: 1rem;
  margin-bottom: 0.8rem;
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.5);
  
  .tracks, .year {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    padding: 0.3rem 0.6rem;
    border-radius: 12px;
    font-size: 0.8rem;
  }
}

.album-description {
  font-size: 0.9rem;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.7);
  margin: 0 0 0.8rem 0;
}

.album-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.tag {
  background: rgba(255, 255, 255, 0.08);
  color: rgba(255, 255, 255, 0.8);
  padding: 0.3rem 0.8rem;
  border-radius: 15px;
  font-size: 0.8rem;
  border: 1px solid rgba(255, 255, 255, 0.15);
  /* Optimized transitions - specific properties only */
  transition: background-color 0.15s ease,
              border-color 0.15s ease;
  
  &:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
  }
}

/* Loading Screen */
.loading-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  border-radius: 20px;
}

.loading-content {
  text-align: center;
  color: #ffffff;
  
  .loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(255, 255, 255, 0.1);
    border-top: 3px solid #ff6b35;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
  }
  
  p {
    font-size: 1.1rem;
    color: #b8bcc8;
    margin: 0;
  }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}


/* Quest Scroll Info Overlay */
.scroll-info-overlay {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 5;
  pointer-events: none;
}

.active-scroll-info {
  display: flex;
  gap: 1rem;
  align-items: center;
  justify-content: center;
}

.scroll-card {
  background: rgba(0, 0, 0, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 15px;
  padding: 1rem;
  text-align: center;
  color: #ffffff;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  opacity: 0.5;
  transform: scale(0.9);
  pointer-events: auto;
  min-width: 200px;
  
  &.active {
    opacity: 1;
    transform: scale(1);
    border-color: #ff6b35;
    box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
  }
  
  &.open {
    min-width: 300px;
    
    .scroll-description,
    .scroll-tags {
      animation: fadeIn 0.3s ease;
    }
  }
  
  h2 {
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
    color: #ff6b35;
  }
  
  .scroll-metadata {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    margin-bottom: 0.5rem;
    
    .tracks,
    .year {
      background: rgba(255, 107, 53, 0.2);
      color: #ff8c42;
      padding: 0.2rem 0.5rem;
      border-radius: 15px;
      font-size: 0.8rem;
    }
  }
  
  .scroll-description {
    font-size: 0.85rem;
    color: #b8bcc8;
    line-height: 1.4;
    margin: 0.5rem 0;
  }
  
  .scroll-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.3rem;
    justify-content: center;
    margin: 0.5rem 0;
    
    .tag {
      background: rgba(139, 92, 246, 0.2);
      color: #c084fc;
      padding: 0.2rem 0.5rem;
      border-radius: 12px;
      font-size: 0.75rem;
      border: 1px solid rgba(139, 92, 246, 0.3);
    }
  }
  
  .explore-btn {
    background: linear-gradient(45deg, #7c3aed, #a855f7);
    color: #ffffff;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 25px;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    margin: 0.5rem auto 0;
    transition: all 0.2s ease;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
    }
    
    svg {
      transition: transform 0.2s ease;
    }
    
    &:hover svg {
      transform: translateX(2px);
    }
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Interaction Instructions */
.interaction-instructions {
  position: absolute;
  top: 20px;
  left: 20px;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  padding: 0.8rem;
  color: #b8bcc8;
  font-size: 0.8rem;
  z-index: 5;
  backdrop-filter: blur(10px);
  
  p {
    margin: 0.2rem 0;
    
    strong {
      color: #ff6b35;
    }
  }
}

/* Page Header Styling */
.page-header {
  position: relative;
  z-index: 15; /* Ensure header is above triangles */
  text-align: center;
  margin-bottom: 2rem; /* Reduced from 4rem to 2rem */
  padding: 2rem 0;
  
  h1 {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    background: linear-gradient(45deg, #ff5e00, #ff8c42);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 4px 8px rgba(255, 94, 0, 0.3);
  }
  
  p {
    font-size: 1.2rem;
    color: #b8bcc8;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
  }
}

/* Collections Grid Layout */
.collections-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
  align-items: start; /* Prevent cards from stretching vertically */
  grid-auto-rows: max-content; /* Cards only take the space they need */
}

/* Individual Collection Card - Optimized for Performance */
.collection-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 18px;
  padding: 1.25rem; /* Reduced from 1.5rem to 1.25rem */
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  // Use specific transitions instead of 'all' for better performance
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
  position: relative;
  overflow: hidden;
  
  // Prevent unwanted stretching
  height: fit-content; /* Card only takes the height it needs */
  max-height: none; /* Remove any height constraints */
  
  // Add hardware acceleration and performance optimizations
  will-change: transform;
  contain: layout style paint;
  
  &:hover {
    // Use translate3d for hardware acceleration
    transform: translate3d(0, -10px, 0);
    box-shadow: 0 20px 40px rgba(255, 94, 0, 0.2);
    border-color: rgba(255, 94, 0, 0.3);
    
    // Reduce backdrop-filter on hover to prevent expensive recalculation
    backdrop-filter: blur(8px);
  }
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 94, 0, 0.5), transparent);
  }
}

/* Album Cover Styling - Hardware Accelerated */
.album-cover {
  width: 100%;
  height: 100px; /* Reduced by 100px for more compact design */
  border-radius: 14px;
  overflow: hidden;
  margin-bottom: 1.25rem; /* Reduced from 1.5rem to 1.25rem */
  position: relative;
    
  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.15s ease;
    // Add hardware acceleration
    will-change: transform;
    contain: layout style paint;
  }
    
  &:hover img {
    // Use translate3d and scale3d for hardware acceleration
    transform: scale3d(1.05, 1.05, 1) translate3d(0, 0, 0);
  }
}
  
/* Collection Information Section */
.collection-info {
  h2 {
    font-size: 1.6rem; /* Reduced from 1.8rem to 1.6rem */
    font-weight: 600;
    margin-bottom: 0.75rem; /* Reduced from 0.8rem to 0.75rem */
    color: #ffffff;
  }
}
    
/* Metadata Display */
.metadata {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem; /* Reduced from 1.5rem to 1rem */
  
  .tracks, .year {
    background: rgba(255, 94, 0, 0.2);
    color: #ff8c42;
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 500;
  }
}

/* Description Text */
.description {
  color: #b8bcc8;
  line-height: 1.5; /* Reduced from 1.6 to 1.5 */
  margin-bottom: 1.2rem; /* Reduced from 2rem to 1.2rem */
  font-size: 0.95rem; /* Slightly smaller font */
}

/* Tags Container - Hardware Accelerated */
.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem; /* Reduced from 0.8rem to 0.6rem */
  margin-bottom: 1.2rem; /* Reduced from 2rem to 1.2rem */
      
  .tag {
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
    padding: 0.5rem 1rem;
    border-radius: 25px;
    font-size: 0.85rem;
    border: 1px solid rgba(255, 255, 255, 0.2);
    // Use specific transitions for better performance
    transition: background-color 0.15s ease, border-color 0.15s ease;
    
    // Add hardware acceleration
    will-change: background-color, border-color;
    contain: layout style paint;
    
    &:hover {
      background: rgba(255, 94, 0, 0.2);
      border-color: rgba(255, 94, 0, 0.5);
    }
  }
}

/* Explore Button Styling - Hardware Accelerated */
.explore-btn {
  background: linear-gradient(45deg, #7c3aed, #a855f7);
  color: #ffffff;
  border: none;
  padding: 1rem 2rem;
  border-radius: 50px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  // Use specific transitions for better performance
  transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
  box-shadow: 0 4px 15px rgba(124, 58, 237, 0.3);
  
  // Add hardware acceleration
  will-change: transform, box-shadow;
  contain: layout style paint;
      
  &:hover {
    // Use translate3d for hardware acceleration
    transform: translate3d(0, -2px, 0);
    box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
    background: linear-gradient(45deg, #8b5cf6, #c084fc);
  }
  
  &:active {
    transform: translate3d(0, 0, 0);
  }
  
  svg {
    transition: transform 0.15s ease;
    // Add hardware acceleration for SVG
    will-change: transform;
  }
  
  &:hover svg {
    // Use translate3d for hardware acceleration
    transform: translate3d(4px, 0, 0);
  }
}

/* Responsive Design */
@media (max-width: 768px) {
  .collections-main {
    padding: 0 1rem;
  }
  
  .page-header {
    h1 {
      font-size: 2.5rem;
    }
    
    p {
      font-size: 1rem;
    }
  }
  
  .collections-grid {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .collection-card {
    padding: 1.5rem;
  }
  
  .album-cover {
    height: 150px;
  }
}

@media (max-width: 480px) {
  .page-header {
    h1 {
      font-size: 2rem;
    }
  }
  
  .collection-card {
    padding: 1rem;
  }
  
  .album-cover {
    height: 100px;
  }
}

/* PRISM UNREADABLE Styling - Minimal version with just image effects */
.album-card.cd-unreadable {
  .card-image {
    img {
      opacity: 0.8;
      filter: contrast(1.2) brightness(0.8);
    }
    
    // PS1-style scanlines overlay
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.1) 2px,
        rgba(0, 0, 0, 0.1) 4px
      );
      z-index: 1;
      pointer-events: none;
    }
    
    // Subtle static effect
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
      background-size: 50px 50px, 30px 30px, 70px 70px;
      animation: staticNoise 3s infinite linear;
      z-index: 1;
      pointer-events: none;
    }
  }
}

/* PlayStation 1 style static noise animation for CD unreadable */
@keyframes staticNoise {
  0% {
    background-position: 0px 0px, 0px 0px, 0px 0px;
  }
  25% {
    background-position: 10px 5px, -5px 10px, 15px -10px;
  }
  50% {
    background-position: -5px 10px, 10px -5px, -10px 15px;
  }
  75% {
    background-position: 15px -5px, -10px 15px, 5px -15px;
  }
  100% {
    background-position: 0px 0px, 0px 0px, 0px 0px;
  }
}