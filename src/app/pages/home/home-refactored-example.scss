/**
 * Home Component - Refactored with New Theme System
 * 
 * This is an example of how to refactor the home component to use
 * the new unified theming system instead of hardcoded values.
 * 
 * Benefits:
 * - Centralized color management
 * - Consistent styling across components
 * - Easy theme switching
 * - Reusable mixins reduce code duplication
 * - CSS custom properties for runtime theming
 */

// Import new theme system
@use '../../styles/themes/unified-variables' as vars;
@use '../../styles/themes/theme-mixins' as mixins;

// Import existing shared styles (these remain unchanged)
@use '../../shared/styles/triangle-animations.scss';
@use '../../shared/styles/typography-system.scss' as typo;
@use '../../shared/styles/enhanced-color-system.scss' as colors;
@use '../../shared/styles/accessibility-enhancements.scss' as a11y;

/* Clean header visibility - simplified approach */
:host {
  ::ng-deep {
    /* Ensure site header is visible */
    app-site-header {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      pointer-events: auto !important;
    }
  }
}

/* Home Page Container - Using new theme system */
.home-page {
  // Use mixin for full-screen setup
  @include mixins.full-screen-container();
  
  // Use the signature dark gradient from theme system
  @include mixins.dark-gradient-background();
  
  // Use theme variables for text color
  color: vars.$text-light;
  
  // Use theme variable for header offset
  margin-top: vars.$header-height;
  
  /* Modern glass effect backdrop - using theme mixin */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: vars.$glass-blur-strong;
    -webkit-backdrop-filter: vars.$glass-blur-strong;
    pointer-events: none;
    z-index: -1;
  }
  
  /* Subtle animated noise texture */
  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
      radial-gradient(circle at 90% 90%, rgba(255, 255, 255, 0.015) 1px, transparent 1px),
      radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.01) 1px, transparent 1px);
    background-size: 100px 100px, 80px 80px, 120px 120px;
    animation: subtleFloat 20s infinite linear;
    pointer-events: none;
    z-index: -1;
  }
}

/* Hero Section - Using theme mixins */
.hero-section {
  @include mixins.flex-center(column);
  min-height: calc(100vh - vars.$header-height);
  @include mixins.spacing(all, xl);
  text-align: center;
  
  .hero-title {
    @include mixins.heading(display, bold);
    margin-bottom: vars.$spacing-xl;
    
    // Use theme gradient
    background: vars.$primary-gradient;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .hero-subtitle {
    @include mixins.body-text(xl, secondary);
    margin-bottom: vars.$spacing-xxl;
    max-width: 600px;
  }
  
  .hero-buttons {
    display: flex;
    gap: vars.$spacing-lg;
    flex-wrap: wrap;
    justify-content: center;
    
    .btn-primary {
      @include mixins.button-primary();
    }
    
    .btn-secondary {
      @include mixins.button-secondary();
    }
  }
}

/* Featured Collections Grid - Using responsive grid mixin */
.featured-collections {
  @include mixins.spacing(all, xxxl);
  
  .section-title {
    @include mixins.heading(xxl, semibold);
    text-align: center;
    margin-bottom: vars.$spacing-xxxl;
  }
  
  .collections-grid {
    @include mixins.responsive-grid(320px, vars.$spacing-xl);
    max-width: 1200px;
    margin: 0 auto;
  }
  
  .collection-card {
    @include mixins.dark-card($glassmorphic: true);
    @include mixins.interactive-card();
    
    .card-image {
      width: 100%;
      @include mixins.aspect-ratio(16/9);
      border-radius: vars.$border-radius-md;
      margin-bottom: vars.$spacing-md;
      overflow: hidden;
      
      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: vars.$transition-standard;
      }
    }
    
    .card-title {
      @include mixins.heading(lg, medium);
      margin-bottom: vars.$spacing-sm;
    }
    
    .card-description {
      @include mixins.body-text(md, secondary);
      @include mixins.truncate-text(3);
      margin-bottom: vars.$spacing-md;
    }
    
    .card-link {
      @include mixins.link(vars.$primary-color, vars.$primary-light);
      font-weight: vars.$font-weight-medium;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    &:hover {
      .card-image img {
        transform: scale(1.05);
      }
    }
  }
}

/* News Section - Using theme system */
.news-section {
  @include mixins.spacing(vertical, xxxl);
  @include mixins.theme-background(card);
  
  .section-container {
    max-width: 1000px;
    margin: 0 auto;
    @include mixins.spacing(all, xl);
  }
  
  .section-title {
    @include mixins.heading(xxl, semibold);
    text-align: center;
    margin-bottom: vars.$spacing-xxxl;
    color: vars.$text-light;
  }
  
  .news-grid {
    @include mixins.responsive-grid(300px, vars.$spacing-lg);
  }
  
  .news-item {
    @include mixins.glassmorphic-card();
    
    .news-date {
      @include mixins.body-text(sm, muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: vars.$spacing-sm;
    }
    
    .news-title {
      @include mixins.heading(lg, medium);
      margin-bottom: vars.$spacing-md;
      
      a {
        @include mixins.link();
        text-decoration: none;
        
        &:hover {
          text-decoration: none;
          color: vars.$primary-light;
        }
      }
    }
    
    .news-excerpt {
      @include mixins.body-text(md, secondary);
      @include mixins.truncate-text(4);
    }
  }
}

/* Social Links Section */
.social-section {
  @include mixins.spacing(vertical, xxxl);
  text-align: center;
  
  .section-title {
    @include mixins.heading(xl, medium);
    margin-bottom: vars.$spacing-xl;
  }
  
  .social-links {
    display: flex;
    gap: vars.$spacing-lg;
    justify-content: center;
    flex-wrap: wrap;
    
    .social-link {
      @include mixins.button-ghost();
      @include mixins.flex-center();
      width: 60px;
      height: 60px;
      border-radius: vars.$border-radius-pill;
      transition: vars.$transition-standard;
      
      &:hover {
        background: vars.$primary-gradient;
        transform: translateY(-2px) scale(1.05);
      }
      
      svg, i {
        font-size: 24px;
        width: 24px;
        height: 24px;
      }
    }
  }
}

/* Responsive Design - Using theme breakpoints */
@include mixins.responsive(md) {
  .hero-section {
    .hero-buttons {
      flex-direction: row;
    }
  }
}

@include mixins.responsive(sm) {
  .hero-section {
    .hero-buttons {
      flex-direction: column;
      align-items: center;
      
      .btn-primary, .btn-secondary {
        min-width: 200px;
      }
    }
  }
  
  .featured-collections {
    .collections-grid {
      @include mixins.responsive-grid(280px, vars.$spacing-md);
    }
  }
  
  .social-links {
    gap: vars.$spacing-md;
    
    .social-link {
      width: 50px;
      height: 50px;
      
      svg, i {
        font-size: 20px;
        width: 20px;
        height: 20px;
      }
    }
  }
}

/* Loading States - Using theme animations */
.loading-skeleton {
  @include mixins.pulse();
  background: rgba(255, 255, 255, 0.1);
  border-radius: vars.$border-radius-md;
}

/* Accessibility Enhancements */
.skip-to-content {
  @include mixins.visually-hidden();
  
  &:focus {
    position: absolute;
    top: vars.$spacing-md;
    left: vars.$spacing-md;
    z-index: vars.$z-index-modal;
    @include mixins.button-primary();
    @include mixins.focus-ring();
    
    // Remove visually hidden properties when focused
    width: auto;
    height: auto;
    padding: vars.$spacing-sm vars.$spacing-md;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* Animation Keyframes */
@keyframes subtleFloat {
  0% { transform: translate(0, 0); }
  25% { transform: translate(1px, -1px); }
  50% { transform: translate(-1px, 1px); }
  75% { transform: translate(-1px, -1px); }
  100% { transform: translate(0, 0); }
}

/* High DPI / Retina optimizations */
@include mixins.retina() {
  .collection-card .card-image img,
  .hero-section .hero-avatar {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Print Styles */
@media print {
  .home-page {
    background: white !important;
    color: black !important;
    
    &::before, &::after {
      display: none;
    }
  }
  
  .hero-buttons,
  .social-links {
    display: none;
  }
  
  .collection-card,
  .news-item {
    break-inside: avoid;
    page-break-inside: avoid;
  }
}

/**
 * Benefits of this refactored approach:
 * 
 * 1. ✅ No hardcoded colors - all use theme variables
 * 2. ✅ Consistent spacing using theme system
 * 3. ✅ Reusable mixins reduce code duplication
 * 4. ✅ Responsive design using theme breakpoints
 * 5. ✅ Accessibility features built-in
 * 6. ✅ Easy to maintain and update
 * 7. ✅ Theme switching capability
 * 8. ✅ CSS custom properties for runtime changes
 * 9. ✅ Performance optimizations included
 * 10. ✅ Print and high-DPI support
 */