/* 
 * Unified Triangle Animation System
 * Shared between Home Page and Collections Page
 * Optimized for performance with viewport visibility controls
 */

/* Variables */
$primary-color: #ff7f50;

/* Triangle Container - Proper Z-Index for Background */
.triangle-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0; /* Above background, below content */
  overflow: hidden;
  will-change: transform;
}

/* Base Triangle Style */
.triangle {
  position: absolute;
  width: 60px;
  height: 50px;
  /* Start hidden and optimized for performance */
  visibility: hidden;
  opacity: 0;
  will-change: transform, visibility, opacity;
  
  // Base triangle background (darker grey unfilled area)
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 60px;
    height: 50px;
    background: rgba(160, 160, 160, 0.9);
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    z-index: 1;
    will-change: clip-path;
  }
  
  // Filled portion (starts violet, becomes orange)
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 60px;
    height: 50px;
    background: #8b5cf6; // Start violet
    clip-path: polygon(50% 100%, 0% 100%, 100% 100%); // Start with 0% fill
    z-index: 2;
    will-change: clip-path, background;
  }
}

/* Optimized Movement Animation with Viewport Visibility */
@keyframes triangleMove {
  0% { 
    transform: translateY(100vh); 
    visibility: hidden; 
    opacity: 0; 
  }
  5% { 
    visibility: visible; 
    opacity: 1; 
  }
  95% { 
    visibility: visible; 
    opacity: 1; 
  }
  100% { 
    transform: translateY(-100vh); 
    visibility: hidden; 
    opacity: 0; 
  }
}

/* Optimized Fill Animation with Performance Markers */
@keyframes triangleFill {
  0% { 
    clip-path: polygon(50% 100%, 0% 100%, 100% 100%);
    background: #8b5cf6; // Pure violet
  }
  37% { 
    clip-path: polygon(50% 63%, 0% 100%, 100% 100%);
    background: $primary-color; // Change to orange
  }
  50% { 
    clip-path: polygon(50% 50%, 0% 100%, 100% 100%);
    background: $primary-color;
  }
  100% { 
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    background: $primary-color;
  }
}

/* Individual Triangle Classes with Optimized Delays (3s minimum) */
.triangle-1 {
  left: 4.2%; width: 70px; height: 60px;
  animation: triangleMove 8s linear infinite;
  animation-delay: 3s;
  
  &::before, &::after { width: 70px; height: 60px; }
  &::after {
    animation: triangleFill 8s linear infinite;
    animation-delay: 3s;
  }
}

.triangle-2 {
  left: 14.7%; width: 56px; height: 48px;
  animation: triangleMove 9s linear infinite;
  animation-delay: 3.5s;
  
  &::before, &::after { width: 56px; height: 48px; }
  &::after {
    animation: triangleFill 9s linear infinite;
    animation-delay: 3.5s;
  }
}

.triangle-3 {
  left: 24.1%; width: 80px; height: 70px;
  animation: triangleMove 10s linear infinite;
  animation-delay: 4s;
  
  &::before, &::after { width: 80px; height: 70px; }
  &::after {
    animation: triangleFill 10s linear infinite;
    animation-delay: 4s;
  }
}

.triangle-4 {
  left: 33.8%; width: 64px; height: 56px;
  animation: triangleMove 8.5s linear infinite;
  animation-delay: 4.5s;
  
  &::before, &::after { width: 64px; height: 56px; }
  &::after {
    animation: triangleFill 8.5s linear infinite;
    animation-delay: 4.5s;
  }
}

.triangle-5 {
  left: 46.3%; width: 76px; height: 65px;
  animation: triangleMove 9.5s linear infinite;
  animation-delay: 5s;
  
  &::before, &::after { width: 76px; height: 65px; }
  &::after {
    animation: triangleFill 9.5s linear infinite;
    animation-delay: 5s;
  }
}

.triangle-6 {
  left: 55%; width: 60px; height: 52px;
  animation: triangleMove 10.5s linear infinite;
  animation-delay: 5.5s;
  
  &::before, &::after { width: 60px; height: 52px; }
  &::after {
    animation: triangleFill 10.5s linear infinite;
    animation-delay: 5.5s;
  }
}

.triangle-7 {
  left: 65%; width: 84px; height: 72px;
  animation: triangleMove 8s linear infinite;
  animation-delay: 6s;
  
  &::before, &::after { width: 84px; height: 72px; }
  &::after {
    animation: triangleFill 8s linear infinite;
    animation-delay: 6s;
  }
}

.triangle-8 {
  left: 75%; width: 68px; height: 58px;
  animation: triangleMove 9s linear infinite;
  animation-delay: 6.5s;
  
  &::before, &::after { width: 68px; height: 58px; }
  &::after {
    animation: triangleFill 9s linear infinite;
    animation-delay: 6.5s;
  }
}

.triangle-9 {
  left: 85%; width: 72px; height: 62px;
  animation: triangleMove 10s linear infinite;
  animation-delay: 7s;
  
  &::before, &::after { width: 72px; height: 62px; }
  &::after {
    animation: triangleFill 10s linear infinite;
    animation-delay: 7s;
  }
}

.triangle-10 {
  left: 95%; width: 58px; height: 50px;
  animation: triangleMove 8.5s linear infinite;
  animation-delay: 7.5s;
  
  &::before, &::after { width: 58px; height: 50px; }
  &::after {
    animation: triangleFill 8.5s linear infinite;
    animation-delay: 7.5s;
  }
}

.triangle-11 {
  left: 10%; width: 66px; height: 57px;
  animation: triangleMove 9.5s linear infinite;
  animation-delay: 8s;
  
  &::before, &::after { width: 66px; height: 57px; }
  &::after {
    animation: triangleFill 9.5s linear infinite;
    animation-delay: 8s;
  }
}

.triangle-12 {
  left: 20%; width: 74px; height: 64px;
  animation: triangleMove 10s linear infinite;
  animation-delay: 8.5s;
  
  &::before, &::after { width: 74px; height: 64px; }
  &::after {
    animation: triangleFill 10s linear infinite;
    animation-delay: 8.5s;
  }
}

.triangle-13 {
  left: 30%; width: 62px; height: 54px;
  animation: triangleMove 8s linear infinite;
  animation-delay: 9s;
  
  &::before, &::after { width: 62px; height: 54px; }
  &::after {
    animation: triangleFill 8s linear infinite;
    animation-delay: 9s;
  }
}

.triangle-14 {
  left: 40%; width: 78px; height: 68px;
  animation: triangleMove 9s linear infinite;
  animation-delay: 9.5s;
  
  &::before, &::after { width: 78px; height: 68px; }
  &::after {
    animation: triangleFill 9s linear infinite;
    animation-delay: 9.5s;
  }
}

.triangle-15 {
  left: 50%; width: 70px; height: 60px;
  animation: triangleMove 10.5s linear infinite;
  animation-delay: 3.2s;
  
  &::before, &::after { width: 70px; height: 60px; }
  &::after {
    animation: triangleFill 10.5s linear infinite;
    animation-delay: 3.2s;
  }
}

.triangle-16 {
  left: 60%; width: 82px; height: 71px;
  animation: triangleMove 8.5s linear infinite;
  animation-delay: 3.7s;
  
  &::before, &::after { width: 82px; height: 71px; }
  &::after {
    animation: triangleFill 8.5s linear infinite;
    animation-delay: 3.7s;
  }
}

.triangle-17 {
  left: 70%; width: 66px; height: 57px;
  animation: triangleMove 9.5s linear infinite;
  animation-delay: 4.2s;
  
  &::before, &::after { width: 66px; height: 57px; }
  &::after {
    animation: triangleFill 9.5s linear infinite;
    animation-delay: 4.2s;
  }
}

.triangle-18 {
  left: 80%; width: 76px; height: 66px;
  animation: triangleMove 10s linear infinite;
  animation-delay: 4.7s;
  
  &::before, &::after { width: 76px; height: 66px; }
  &::after {
    animation: triangleFill 10s linear infinite;
    animation-delay: 4.7s;
  }
}

.triangle-19 {
  left: 90%; width: 64px; height: 55px;
  animation: triangleMove 8s linear infinite;
  animation-delay: 5.2s;
  
  &::before, &::after { width: 64px; height: 55px; }
  &::after {
    animation: triangleFill 8s linear infinite;
    animation-delay: 5.2s;
  }
}

.triangle-20 {
  left: 12%; width: 72px; height: 63px;
  animation: triangleMove 9s linear infinite;
  animation-delay: 5.7s;
  
  &::before, &::after { width: 72px; height: 63px; }
  &::after {
    animation: triangleFill 9s linear infinite;
    animation-delay: 5.7s;
  }
}

.triangle-21 {
  left: 8%; width: 65px; height: 58px;
  animation: triangleMove 8.5s linear infinite;
  animation-delay: 6.2s;
  
  &::before, &::after { width: 65px; height: 58px; }
  &::after {
    animation: triangleFill 8.5s linear infinite;
    animation-delay: 6.2s;
  }
}

.triangle-22 {
  left: 18%; width: 70px; height: 62px;
  animation: triangleMove 9.2s linear infinite;
  animation-delay: 6.7s;
  
  &::before, &::after { width: 70px; height: 62px; }
  &::after {
    animation: triangleFill 9.2s linear infinite;
    animation-delay: 6.7s;
  }
}

.triangle-23 {
  left: 28%; width: 58px; height: 50px;
  animation: triangleMove 10.2s linear infinite;
  animation-delay: 7.2s;
  
  &::before, &::after { width: 58px; height: 50px; }
  &::after {
    animation: triangleFill 10.2s linear infinite;
    animation-delay: 7.2s;
  }
}

.triangle-24 {
  left: 38%; width: 75px; height: 67px;
  animation: triangleMove 8.8s linear infinite;
  animation-delay: 7.7s;
  
  &::before, &::after { width: 75px; height: 67px; }
  &::after {
    animation: triangleFill 8.8s linear infinite;
    animation-delay: 7.7s;
  }
}

.triangle-25 {
  left: 48%; width: 63px; height: 55px;
  animation: triangleMove 9.8s linear infinite;
  animation-delay: 8.2s;
  
  &::before, &::after { width: 63px; height: 55px; }
  &::after {
    animation: triangleFill 9.8s linear infinite;
    animation-delay: 8.2s;
  }
}

/* Extended triangles for home page (26-50) */
.triangle-26 {
  left: 58%; width: 68px; height: 60px;
  animation: triangleMove 8.3s linear infinite;
  animation-delay: 8.7s;
  
  &::before, &::after { width: 68px; height: 60px; }
  &::after {
    animation: triangleFill 8.3s linear infinite;
    animation-delay: 8.7s;
  }
}

.triangle-27 {
  left: 68%; width: 73px; height: 65px;
  animation: triangleMove 9.5s linear infinite;
  animation-delay: 3.4s;
  
  &::before, &::after { width: 73px; height: 65px; }
  &::after {
    animation: triangleFill 9.5s linear infinite;
    animation-delay: 3.4s;
  }
}

.triangle-28 {
  left: 78%; width: 60px; height: 53px;
  animation: triangleMove 10.5s linear infinite;
  animation-delay: 3.9s;
  
  &::before, &::after { width: 60px; height: 53px; }
  &::after {
    animation: triangleFill 10.5s linear infinite;
    animation-delay: 3.9s;
  }
}

.triangle-29 {
  left: 88%; width: 67px; height: 59px;
  animation: triangleMove 8.7s linear infinite;
  animation-delay: 4.4s;
  
  &::before, &::after { width: 67px; height: 59px; }
  &::after {
    animation: triangleFill 8.7s linear infinite;
    animation-delay: 4.4s;
  }
}

.triangle-30 {
  left: 3%; width: 71px; height: 64px;
  animation: triangleMove 9.3s linear infinite;
  animation-delay: 4.9s;
  
  &::before, &::after { width: 71px; height: 64px; }
  &::after {
    animation: triangleFill 9.3s linear infinite;
    animation-delay: 4.9s;
  }
}

.triangle-31 {
  left: 13%; width: 59px; height: 52px;
  animation: triangleMove 10.7s linear infinite;
  animation-delay: 5.4s;
  
  &::before, &::after { width: 59px; height: 52px; }
  &::after {
    animation: triangleFill 10.7s linear infinite;
    animation-delay: 5.4s;
  }
}

.triangle-32 {
  left: 23%; width: 76px; height: 68px;
  animation: triangleMove 8.1s linear infinite;
  animation-delay: 5.9s;
  
  &::before, &::after { width: 76px; height: 68px; }
  &::after {
    animation: triangleFill 8.1s linear infinite;
    animation-delay: 5.9s;
  }
}

.triangle-33 {
  left: 33%; width: 62px; height: 56px;
  animation: triangleMove 9.9s linear infinite;
  animation-delay: 6.4s;
  
  &::before, &::after { width: 62px; height: 56px; }
  &::after {
    animation: triangleFill 9.9s linear infinite;
    animation-delay: 6.4s;
  }
}

.triangle-34 {
  left: 43%; width: 69px; height: 61px;
  animation: triangleMove 8.6s linear infinite;
  animation-delay: 6.9s;
  
  &::before, &::after { width: 69px; height: 61px; }
  &::after {
    animation: triangleFill 8.6s linear infinite;
    animation-delay: 6.9s;
  }
}

.triangle-35 {
  left: 53%; width: 74px; height: 66px;
  animation: triangleMove 9.1s linear infinite;
  animation-delay: 7.4s;
  
  &::before, &::after { width: 74px; height: 66px; }
  &::after {
    animation: triangleFill 9.1s linear infinite;
    animation-delay: 7.4s;
  }
}

.triangle-36 {
  left: 63%; width: 61px; height: 54px;
  animation: triangleMove 10.3s linear infinite;
  animation-delay: 7.9s;
  
  &::before, &::after { width: 61px; height: 54px; }
  &::after {
    animation: triangleFill 10.3s linear infinite;
    animation-delay: 7.9s;
  }
}

.triangle-37 {
  left: 6.5%; width: 66px; height: 57px;
  animation: triangleMove 9.7s linear infinite;
  animation-delay: 8.4s;
  
  &::before, &::after { width: 66px; height: 57px; }
  &::after {
    animation: triangleFill 9.7s linear infinite;
    animation-delay: 8.4s;
  }
}

.triangle-38 {
  left: 16.3%; width: 72px; height: 63px;
  animation: triangleMove 8.9s linear infinite;
  animation-delay: 8.9s;
  
  &::before, &::after { width: 72px; height: 63px; }
  &::after {
    animation: triangleFill 8.9s linear infinite;
    animation-delay: 8.9s;
  }
}

.triangle-39 {
  left: 26.7%; width: 59px; height: 51px;
  animation: triangleMove 10.8s linear infinite;
  animation-delay: 3.6s;
  
  &::before, &::after { width: 59px; height: 51px; }
  &::after {
    animation: triangleFill 10.8s linear infinite;
    animation-delay: 3.6s;
  }
}

.triangle-40 {
  left: 37.2%; width: 77px; height: 69px;
  animation: triangleMove 8.4s linear infinite;
  animation-delay: 4.1s;
  
  &::before, &::after { width: 77px; height: 69px; }
  &::after {
    animation: triangleFill 8.4s linear infinite;
    animation-delay: 4.1s;
  }
}

.triangle-41 {
  left: 47.8%; width: 64px; height: 56px;
  animation: triangleMove 9.4s linear infinite;
  animation-delay: 4.6s;
  
  &::before, &::after { width: 64px; height: 56px; }
  &::after {
    animation: triangleFill 9.4s linear infinite;
    animation-delay: 4.6s;
  }
}

.triangle-42 {
  left: 57.1%; width: 70px; height: 62px;
  animation: triangleMove 8.7s linear infinite;
  animation-delay: 5.1s;
  
  &::before, &::after { width: 70px; height: 62px; }
  &::after {
    animation: triangleFill 8.7s linear infinite;
    animation-delay: 5.1s;
  }
}

.triangle-43 {
  left: 67.4%; width: 75px; height: 66px;
  animation: triangleMove 10.1s linear infinite;
  animation-delay: 5.6s;
  
  &::before, &::after { width: 75px; height: 66px; }
  &::after {
    animation: triangleFill 10.1s linear infinite;
    animation-delay: 5.6s;
  }
}

.triangle-44 {
  left: 77.9%; width: 62px; height: 55px;
  animation: triangleMove 9.6s linear infinite;
  animation-delay: 6.1s;
  
  &::before, &::after { width: 62px; height: 55px; }
  &::after {
    animation: triangleFill 9.6s linear infinite;
    animation-delay: 6.1s;
  }
}

.triangle-45 {
  left: 11.2%; width: 68px; height: 60px;
  animation: triangleMove 8.2s linear infinite;
  animation-delay: 6.6s;
  
  &::before, &::after { width: 68px; height: 60px; }
  &::after {
    animation: triangleFill 8.2s linear infinite;
    animation-delay: 6.6s;
  }
}

.triangle-46 {
  left: 21.6%; width: 73px; height: 65px;
  animation: triangleMove 9.8s linear infinite;
  animation-delay: 7.1s;
  
  &::before, &::after { width: 73px; height: 65px; }
  &::after {
    animation: triangleFill 9.8s linear infinite;
    animation-delay: 7.1s;
  }
}

.triangle-47 {
  left: 31.4%; width: 61px; height: 53px;
  animation: triangleMove 10.9s linear infinite;
  animation-delay: 7.6s;
  
  &::before, &::after { width: 61px; height: 53px; }
  &::after {
    animation: triangleFill 10.9s linear infinite;
    animation-delay: 7.6s;
  }
}

.triangle-48 {
  left: 41.8%; width: 76px; height: 68px;
  animation: triangleMove 8.6s linear infinite;
  animation-delay: 8.1s;
  
  &::before, &::after { width: 76px; height: 68px; }
  &::after {
    animation: triangleFill 8.6s linear infinite;
    animation-delay: 8.1s;
  }
}

.triangle-49 {
  left: 52.3%; width: 65px; height: 58px;
  animation: triangleMove 9.2s linear infinite;
  animation-delay: 8.6s;
  
  &::before, &::after { width: 65px; height: 58px; }
  &::after {
    animation: triangleFill 9.2s linear infinite;
    animation-delay: 8.6s;
  }
}

.triangle-50 {
  left: 72.7%; width: 69px; height: 61px;
  animation: triangleMove 10.4s linear infinite;
  animation-delay: 3.3s;
  
  &::before, &::after { width: 69px; height: 61px; }
  &::after {
    animation: triangleFill 10.4s linear infinite;
    animation-delay: 3.3s;
  }
}