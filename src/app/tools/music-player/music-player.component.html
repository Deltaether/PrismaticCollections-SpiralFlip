<div class="music-player">
  <div class="player-container">
    <!-- Error message -->
    <div class="error-message" *ngIf="error">{{error}}</div>
    
    <!-- Loading indicator -->
    <div class="loading-indicator" *ngIf="isLoading">Loading...</div>
    
    <!-- Enhanced Track info -->
    <div class="enhanced-track-info" *ngIf="currentTrack && !isLoading">
      <div class="track-title">{{ getTrackName(currentTrack) }}</div>
      <div class="track-artist">{{ getArtistName() }}</div>
    </div>

    <!-- Current track subtitle (e.g. "Now Playing: An - Incident") -->
    <div class="current-subtitle" *ngIf="currentSubtitle && !trackTitle && !isLoading">
      {{ currentSubtitle }}
    </div>

    <!-- Time and progress -->
    <div class="time-info" [class.disabled]="isLoading">
      <span class="current-time">{{formatTime(currentTime)}}</span>
      <div class="progress-bar" [class.disabled]="isLoading">
        <input 
          type="range" 
          [min]="0" 
          [max]="duration" 
          [step]="0.01"
          [value]="currentTime"
          (input)="seek($any($event.target).value)"
          class="progress-slider"
          [disabled]="isLoading"
        >
      </div>
      <span class="duration">{{formatTime(duration)}}</span>
    </div>
    
    <div class="controls" [class.disabled]="isLoading">
      <div class="volume-section">
        <div class="volume-icon">
          <span>üîä</span>
        </div>
        <div class="volume-control">
          <input 
            type="range" 
            [min]="0" 
            [max]="1" 
            [step]="0.01"
            [value]="volume"
            (input)="setVolume($any($event.target).value)"
            class="volume-slider"
            [disabled]="isLoading"
          >
        </div>
      </div>

      <div class="playback-controls">
        <button class="control-button previous" (click)="previousTrack()" [disabled]="isLoading">
          <i class="control-icon">‚èÆ</i>
        </button>
        <button 
          class="control-button play-button" 
          (click)="togglePlay()"
          [class.playing]="isPlaying"
          [disabled]="isLoading"
        >
          <i class="control-icon play-icon" *ngIf="!isPlaying">‚ñ∂</i>
          <i class="control-icon pause-icon" *ngIf="isPlaying">‚è∏</i>
        </button>
        <button class="control-button next" (click)="nextTrack()" [disabled]="isLoading">
          <i class="control-icon">‚è≠</i>
        </button>
      </div>
    </div>
  </div>
</div> 